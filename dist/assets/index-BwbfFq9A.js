var sd=e=>{throw TypeError(e)};var Ll=(e,t,n)=>t.has(e)||sd("Cannot "+n);var j=(e,t,n)=>(Ll(e,t,"read from private field"),n?n.call(e):t.get(e)),W=(e,t,n)=>t.has(e)?sd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),A=(e,t,n,r)=>(Ll(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),G=(e,t,n)=>(Ll(e,t,"access private method"),n);var Ka=(e,t,n,r)=>({set _(a){A(e,t,a,n)},get _(){return j(e,t,r)}});function kx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fh={exports:{}},dl={},ph={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),Cx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Tx=Symbol.for("react.provider"),Mx=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Ox=Symbol.for("react.memo"),Ix=Symbol.for("react.lazy"),ad=Symbol.iterator;function Dx(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,vh={};function Is(e,t,n){this.props=e,this.context=t,this.refs=vh,this.updater=n||xh}Is.prototype.isReactComponent={};Is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yh(){}yh.prototype=Is.prototype;function Uu(e,t,n){this.props=e,this.context=t,this.refs=vh,this.updater=n||xh}var Lu=Uu.prototype=new yh;Lu.constructor=Uu;gh(Lu,Is.prototype);Lu.isPureReactComponent=!0;var id=Array.isArray,bh=Object.prototype.hasOwnProperty,$u={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function wh(e,t,n){var r,a={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)bh.call(t,r)&&!jh.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:qa,type:e,key:i,ref:l,props:a,_owner:$u.current}}function Ax(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function Ux(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ld=/\/+/g;function $l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ux(""+e.key):t.toString(36)}function fi(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qa:case Cx:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+$l(l,0):r,id(a)?(n="",e!=null&&(n=e.replace(ld,"$&/")+"/"),fi(a,t,n,"",function(c){return c})):a!=null&&(Bu(a)&&(a=Ax(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(ld,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",id(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+$l(i,o);l+=fi(i,t,n,u,a)}else if(u=Dx(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+$l(i,o++),l+=fi(i,t,n,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ja(e,t,n){if(e==null)return e;var r=[],a=0;return fi(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Lx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},pi={transition:null},$x={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:pi,ReactCurrentOwner:$u};function Nh(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ja,forEach:function(e,t,n){Ja(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ja(e,function(){t++}),t},toArray:function(e){return Ja(e,function(t){return t})||[]},only:function(e){if(!Bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Is;re.Fragment=_x;re.Profiler=Px;re.PureComponent=Uu;re.StrictMode=Ex;re.Suspense=Rx;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;re.act=Nh;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gh({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$u.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)bh.call(t,u)&&!jh.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:qa,type:e.type,key:a,ref:i,props:r,_owner:l}};re.createContext=function(e){return e={$$typeof:Mx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tx,_context:e},e.Consumer=e};re.createElement=wh;re.createFactory=function(e){var t=wh.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Fx,render:e}};re.isValidElement=Bu;re.lazy=function(e){return{$$typeof:Ix,_payload:{_status:-1,_result:e},_init:Lx}};re.memo=function(e,t){return{$$typeof:Ox,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=pi.transition;pi.transition={};try{e()}finally{pi.transition=t}};re.unstable_act=Nh;re.useCallback=function(e,t){return rt.current.useCallback(e,t)};re.useContext=function(e){return rt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};re.useEffect=function(e,t){return rt.current.useEffect(e,t)};re.useId=function(){return rt.current.useId()};re.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return rt.current.useMemo(e,t)};re.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};re.useRef=function(e){return rt.current.useRef(e)};re.useState=function(e){return rt.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return rt.current.useTransition()};re.version="18.3.1";ph.exports=re;var w=ph.exports;const qu=Au(w),Bx=kx({__proto__:null,default:qu},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=w,zx=Symbol.for("react.element"),Wx=Symbol.for("react.fragment"),Hx=Object.prototype.hasOwnProperty,Qx=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function kh(e,t,n){var r,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Hx.call(t,r)&&!Vx.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:zx,type:e,key:i,ref:l,props:a,_owner:Qx.current}}dl.Fragment=Wx;dl.jsx=kh;dl.jsxs=kh;fh.exports=dl;var s=fh.exports,xo={},Sh={exports:{}},bt={},Ch={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,P){var $=D.length;D.push(P);e:for(;0<$;){var he=$-1>>>1,we=D[he];if(0<a(we,P))D[he]=P,D[$]=we,$=he;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var P=D[0],$=D.pop();if($!==P){D[0]=$;e:for(var he=0,we=D.length,Ft=we>>>1;he<Ft;){var wt=2*(he+1)-1,M=D[wt],K=wt+1,Oe=D[K];if(0>a(M,$))K<we&&0>a(Oe,M)?(D[he]=Oe,D[K]=$,he=K):(D[he]=M,D[wt]=$,he=wt);else if(K<we&&0>a(Oe,$))D[he]=Oe,D[K]=$,he=K;else break e}}return P}function a(D,P){var $=D.sortIndex-P.sortIndex;return $!==0?$:D.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],f=1,p=null,g=3,v=!1,y=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=D)r(c),P.sortIndex=P.expirationTime,t(u,P);else break;P=n(c)}}function h(D){if(b=!1,m(D),!y)if(n(u)!==null)y=!0,at(k);else{var P=n(c);P!==null&&Be(h,P.startTime-D)}}function k(D,P){y=!1,b&&(b=!1,x(T),T=-1),v=!0;var $=g;try{for(m(P),p=n(u);p!==null&&(!(p.expirationTime>P)||D&&!S());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var we=he(p.expirationTime<=P);P=e.unstable_now(),typeof we=="function"?p.callback=we:p===n(u)&&r(u),m(P)}else r(u);p=n(u)}if(p!==null)var Ft=!0;else{var wt=n(c);wt!==null&&Be(h,wt.startTime-P),Ft=!1}return Ft}finally{p=null,g=$,v=!1}}var _=!1,F=null,T=-1,U=5,C=-1;function S(){return!(e.unstable_now()-C<U)}function R(){if(F!==null){var D=e.unstable_now();C=D;var P=!0;try{P=F(!0,D)}finally{P?H():(_=!1,F=null)}}else _=!1}var H;if(typeof d=="function")H=function(){d(R)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ye=je.port2;je.port1.onmessage=R,H=function(){Ye.postMessage(null)}}else H=function(){N(R,0)};function at(D){F=D,_||(_=!0,H())}function Be(D,P){T=N(function(){D(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,at(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var $=g;g=P;try{return D()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=g;g=D;try{return P()}finally{g=$}},e.unstable_scheduleCallback=function(D,P,$){var he=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?he+$:he):$=he,D){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=$+we,D={id:f++,callback:P,priorityLevel:D,startTime:$,expirationTime:we,sortIndex:-1},$>he?(D.sortIndex=$,t(c,D),n(u)===null&&D===n(c)&&(b?(x(T),T=-1):b=!0,Be(h,$-he))):(D.sortIndex=we,t(u,D),y||v||(y=!0,at(k))),D},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(D){var P=g;return function(){var $=g;g=P;try{return D.apply(this,arguments)}finally{g=$}}}})(_h);Ch.exports=_h;var Kx=Ch.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=w,vt=Kx;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eh=new Set,ma={};function Ar(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(ma[e]=t,e=0;e<t.length;e++)Eh.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,od={},ud={};function Yx(e){return go.call(ud,e)?!0:go.call(od,e)?!1:Zx.test(e)?ud[e]=!0:(od[e]=!0,!1)}function Gx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xx(e,t,n,r){if(t===null||typeof t>"u"||Gx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,Wu);He[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,Wu);He[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,Wu);He[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hu(e,t,n,r){var a=He.hasOwnProperty(t)?He[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xx(t,n,a,r)&&(n=null),r||a===null?Yx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),vo=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Th=Symbol.for("react.context"),Vu=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Mh=Symbol.for("react.offscreen"),cd=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=cd&&e[cd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Bl;function Ys(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var ql=!1;function zl(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var u=`
`+a[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ys(e):""}function eg(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function jo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Wr:return"Portal";case vo:return"Profiler";case Qu:return"StrictMode";case yo:return"Suspense";case bo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Th:return(e.displayName||"Context")+".Consumer";case Ph:return(e._context.displayName||"Context")+".Provider";case Vu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:jo(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return jo(e(t))}catch{}}return null}function tg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jo(t);case 8:return t===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ng(e){var t=Fh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=ng(e))}function Rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wo(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oh(e,t){t=t.checked,t!=null&&Hu(e,"checked",t,!1)}function No(e,t){Oh(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ko(e,t.type,n):t.hasOwnProperty("defaultValue")&&ko(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function md(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ko(e,t,n){(t!=="number"||Ei(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gs=Array.isArray;function ns(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function So(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Gs(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Ih(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,Ah=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rg=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(e){rg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ra[t]=ra[e]})});function Uh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ra.hasOwnProperty(e)&&ra[e]?(""+t).trim():t+"px"}function Lh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Uh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var sg=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(e,t){if(t){if(sg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Eo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,rs=null,ss=null;function pd(e){if(e=Ha(e)){if(typeof To!="function")throw Error(O(280));var t=e.stateNode;t&&(t=xl(t),To(e.stateNode,e.type,t))}}function $h(e){rs?ss?ss.push(e):ss=[e]:rs=e}function Bh(){if(rs){var e=rs,t=ss;if(ss=rs=null,pd(e),t)for(e=0;e<t.length;e++)pd(t[e])}}function qh(e,t){return e(t)}function zh(){}var Wl=!1;function Wh(e,t,n){if(Wl)return e(t,n);Wl=!0;try{return qh(e,t,n)}finally{Wl=!1,(rs!==null||ss!==null)&&(zh(),Bh())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Mo=!1;if(dn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Mo=!1}function ag(e,t,n,r,a,i,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var sa=!1,Pi=null,Ti=!1,Fo=null,ig={onError:function(e){sa=!0,Pi=e}};function lg(e,t,n,r,a,i,l,o,u){sa=!1,Pi=null,ag.apply(ig,arguments)}function og(e,t,n,r,a,i,l,o,u){if(lg.apply(this,arguments),sa){if(sa){var c=Pi;sa=!1,Pi=null}else throw Error(O(198));Ti||(Ti=!0,Fo=c)}}function Ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xd(e){if(Ur(e)!==e)throw Error(O(188))}function ug(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return xd(a),e;if(i===r)return xd(a),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Qh(e){return e=ug(e),e!==null?Vh(e):null}function Vh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vh(e);if(t!==null)return t;e=e.sibling}return null}var Kh=vt.unstable_scheduleCallback,gd=vt.unstable_cancelCallback,cg=vt.unstable_shouldYield,dg=vt.unstable_requestPaint,Te=vt.unstable_now,mg=vt.unstable_getCurrentPriorityLevel,Zu=vt.unstable_ImmediatePriority,Jh=vt.unstable_UserBlockingPriority,Mi=vt.unstable_NormalPriority,hg=vt.unstable_LowPriority,Zh=vt.unstable_IdlePriority,ml=null,Jt=null;function fg(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:gg,pg=Math.log,xg=Math.LN2;function gg(e){return e>>>=0,e===0?32:31-(pg(e)/xg|0)|0}var Xa=64,ei=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?r=Xs(o):(i&=l,i!==0&&(r=Xs(i)))}else l=n&~a,l!==0?r=Xs(l):i!==0&&(r=Xs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lt(t),a=1<<n,r|=e[n],t&=~a;return r}function vg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Lt(i),o=1<<l,u=a[l];u===-1?(!(o&n)||o&r)&&(a[l]=vg(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yh(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function za(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=n}function bg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Lt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var me=0;function Gh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xh,Gu,ef,tf,nf,Oo=!1,ti=[],zn=null,Wn=null,Hn=null,pa=new Map,xa=new Map,En=[],jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function qs(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ha(t),t!==null&&Gu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wg(e,t,n,r,a){switch(t){case"focusin":return zn=qs(zn,e,t,n,r,a),!0;case"dragenter":return Wn=qs(Wn,e,t,n,r,a),!0;case"mouseover":return Hn=qs(Hn,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return pa.set(i,qs(pa.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,xa.set(i,qs(xa.get(i)||null,e,t,n,r,a)),!0}return!1}function rf(e){var t=hr(e.target);if(t!==null){var n=Ur(t);if(n!==null){if(t=n.tag,t===13){if(t=Hh(n),t!==null){e.blockedOn=t,nf(e.priority,function(){ef(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Po=r,n.target.dispatchEvent(r),Po=null}else return t=Ha(n),t!==null&&Gu(t),e.blockedOn=n,!1;t.shift()}return!0}function yd(e,t,n){xi(e)&&n.delete(t)}function Ng(){Oo=!1,zn!==null&&xi(zn)&&(zn=null),Wn!==null&&xi(Wn)&&(Wn=null),Hn!==null&&xi(Hn)&&(Hn=null),pa.forEach(yd),xa.forEach(yd)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Ng)))}function ga(e){function t(a){return zs(a,e)}if(0<ti.length){zs(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&zs(zn,e),Wn!==null&&zs(Wn,e),Hn!==null&&zs(Hn,e),pa.forEach(t),xa.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)rf(n),n.blockedOn===null&&En.shift()}var as=xn.ReactCurrentBatchConfig,Ri=!0;function kg(e,t,n,r){var a=me,i=as.transition;as.transition=null;try{me=1,Xu(e,t,n,r)}finally{me=a,as.transition=i}}function Sg(e,t,n,r){var a=me,i=as.transition;as.transition=null;try{me=4,Xu(e,t,n,r)}finally{me=a,as.transition=i}}function Xu(e,t,n,r){if(Ri){var a=Io(e,t,n,r);if(a===null)to(e,t,r,Oi,n),vd(e,r);else if(wg(a,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<jg.indexOf(e)){for(;a!==null;){var i=Ha(a);if(i!==null&&Xh(i),i=Io(e,t,n,r),i===null&&to(e,t,r,Oi,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else to(e,t,r,null,n)}}var Oi=null;function Io(e,t,n,r){if(Oi=null,e=Ju(r),e=hr(e),e!==null)if(t=Ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function sf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case Zu:return 1;case Jh:return 4;case Mi:case hg:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var Ln=null,ec=null,gi=null;function af(){if(gi)return gi;var e,t=ec,n=t.length,r,a="value"in Ln?Ln.value:Ln.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===a[i-r];r++);return gi=a.slice(e,1<r?1-r:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function bd(){return!1}function jt(e){function t(n,r,a,i,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ni:bd,this.isPropagationStopped=bd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=jt(Ds),Wa=_e({},Ds,{view:0,detail:0}),Cg=jt(Wa),Ql,Vl,Ws,hl=_e({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(Ql=e.screenX-Ws.screenX,Vl=e.screenY-Ws.screenY):Vl=Ql=0,Ws=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),jd=jt(hl),_g=_e({},hl,{dataTransfer:0}),Eg=jt(_g),Pg=_e({},Wa,{relatedTarget:0}),Kl=jt(Pg),Tg=_e({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=jt(Tg),Fg=_e({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rg=jt(Fg),Og=_e({},Ds,{data:0}),wd=jt(Og),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ag[e])?!!t[e]:!1}function nc(){return Ug}var Lg=_e({},Wa,{key:function(e){if(e.key){var t=Ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$g=jt(Lg),Bg=_e({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=jt(Bg),qg=_e({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),zg=jt(qg),Wg=_e({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=jt(Wg),Qg=_e({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=jt(Qg),Kg=[9,13,27,32],rc=dn&&"CompositionEvent"in window,aa=null;dn&&"documentMode"in document&&(aa=document.documentMode);var Jg=dn&&"TextEvent"in window&&!aa,lf=dn&&(!rc||aa&&8<aa&&11>=aa),kd=" ",Sd=!1;function of(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function Zg(e,t){switch(e){case"compositionend":return uf(t);case"keypress":return t.which!==32?null:(Sd=!0,kd);case"textInput":return e=t.data,e===kd&&Sd?null:e;default:return null}}function Yg(e,t){if(Qr)return e==="compositionend"||!rc&&of(e,t)?(e=af(),gi=ec=Ln=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lf&&t.locale!=="ko"?null:t.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gg[e.type]:t==="textarea"}function cf(e,t,n,r){$h(r),t=Ii(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ia=null,va=null;function Xg(e){jf(e,0)}function fl(e){var t=Jr(e);if(Rh(t))return e}function ev(e,t){if(e==="change")return t}var df=!1;if(dn){var Jl;if(dn){var Zl="oninput"in document;if(!Zl){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Zl=typeof _d.oninput=="function"}Jl=Zl}else Jl=!1;df=Jl&&(!document.documentMode||9<document.documentMode)}function Ed(){ia&&(ia.detachEvent("onpropertychange",mf),va=ia=null)}function mf(e){if(e.propertyName==="value"&&fl(va)){var t=[];cf(t,va,e,Ju(e)),Wh(Xg,t)}}function tv(e,t,n){e==="focusin"?(Ed(),ia=t,va=n,ia.attachEvent("onpropertychange",mf)):e==="focusout"&&Ed()}function nv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(va)}function rv(e,t){if(e==="click")return fl(t)}function sv(e,t){if(e==="input"||e==="change")return fl(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:av;function ya(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!go.call(t,a)||!Bt(e[a],t[a]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Ei();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ei(e.document)}return t}function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iv(e){var t=ff(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hf(n.ownerDocument.documentElement,n)){if(r!==null&&sc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Td(n,i);var l=Td(n,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lv=dn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Do=null,la=null,Ao=!1;function Md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ao||Vr==null||Vr!==Ei(r)||(r=Vr,"selectionStart"in r&&sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&ya(la,r)||(la=r,r=Ii(Do,"onSelect"),0<r.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},Yl={},pf={};dn&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function pl(e){if(Yl[e])return Yl[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pf)return Yl[e]=t[n];return e}var xf=pl("animationend"),gf=pl("animationiteration"),vf=pl("animationstart"),yf=pl("transitionend"),bf=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){bf.set(e,t),Ar(t,[e])}for(var Gl=0;Gl<Fd.length;Gl++){var Xl=Fd[Gl],ov=Xl.toLowerCase(),uv=Xl[0].toUpperCase()+Xl.slice(1);sr(ov,"on"+uv)}sr(xf,"onAnimationEnd");sr(gf,"onAnimationIteration");sr(vf,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(yf,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,og(r,t,void 0,e),e.currentTarget=null}function jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;Rd(a,o,c),i=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;Rd(a,o,c),i=u}}}if(Ti)throw e=Fo,Ti=!1,Fo=null,e}function ye(e,t){var n=t[qo];n===void 0&&(n=t[qo]=new Set);var r=e+"__bubble";n.has(r)||(wf(t,e,2,!1),n.add(r))}function eo(e,t,n){var r=0;t&&(r|=4),wf(n,e,r,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[si]){e[si]=!0,Eh.forEach(function(n){n!=="selectionchange"&&(cv.has(n)||eo(n,!1,e),eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,eo("selectionchange",!1,t))}}function wf(e,t,n,r){switch(sf(t)){case 1:var a=kg;break;case 4:a=Sg;break;default:a=Xu}n=a.bind(null,t,n,e),a=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function to(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;l=l.return}for(;o!==null;){if(l=hr(o),l===null)return;if(u=l.tag,u===5||u===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Wh(function(){var c=i,f=Ju(n),p=[];e:{var g=bf.get(e);if(g!==void 0){var v=tc,y=e;switch(e){case"keypress":if(vi(n)===0)break e;case"keydown":case"keyup":v=$g;break;case"focusin":y="focus",v=Kl;break;case"focusout":y="blur",v=Kl;break;case"beforeblur":case"afterblur":v=Kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=zg;break;case xf:case gf:case vf:v=Mg;break;case yf:v=Hg;break;case"scroll":v=Cg;break;case"wheel":v=Vg;break;case"copy":case"cut":case"paste":v=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Nd}var b=(t&4)!==0,N=!b&&e==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var d=c,m;d!==null;){m=d;var h=m.stateNode;if(m.tag===5&&h!==null&&(m=h,x!==null&&(h=fa(d,x),h!=null&&b.push(ja(d,h,m)))),N)break;d=d.return}0<b.length&&(g=new v(g,y,null,n,f),p.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==Po&&(y=n.relatedTarget||n.fromElement)&&(hr(y)||y[mn]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?hr(y):null,y!==null&&(N=Ur(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=jd,h="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=Nd,h="onPointerLeave",x="onPointerEnter",d="pointer"),N=v==null?g:Jr(v),m=y==null?g:Jr(y),g=new b(h,d+"leave",v,n,f),g.target=N,g.relatedTarget=m,h=null,hr(f)===c&&(b=new b(x,d+"enter",y,n,f),b.target=m,b.relatedTarget=N,h=b),N=h,v&&y)t:{for(b=v,x=y,d=0,m=b;m;m=Br(m))d++;for(m=0,h=x;h;h=Br(h))m++;for(;0<d-m;)b=Br(b),d--;for(;0<m-d;)x=Br(x),m--;for(;d--;){if(b===x||x!==null&&b===x.alternate)break t;b=Br(b),x=Br(x)}b=null}else b=null;v!==null&&Od(p,g,v,b,!1),y!==null&&N!==null&&Od(p,N,y,b,!0)}}e:{if(g=c?Jr(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var k=ev;else if(Cd(g))if(df)k=sv;else{k=nv;var _=tv}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=rv);if(k&&(k=k(e,c))){cf(p,k,n,f);break e}_&&_(e,g,c),e==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&ko(g,"number",g.value)}switch(_=c?Jr(c):window,e){case"focusin":(Cd(_)||_.contentEditable==="true")&&(Vr=_,Do=c,la=null);break;case"focusout":la=Do=Vr=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Md(p,n,f);break;case"selectionchange":if(lv)break;case"keydown":case"keyup":Md(p,n,f)}var F;if(rc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qr?of(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(lf&&n.locale!=="ko"&&(Qr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qr&&(F=af()):(Ln=f,ec="value"in Ln?Ln.value:Ln.textContent,Qr=!0)),_=Ii(c,T),0<_.length&&(T=new wd(T,e,null,n,f),p.push({event:T,listeners:_}),F?T.data=F:(F=uf(n),F!==null&&(T.data=F)))),(F=Jg?Zg(e,n):Yg(e,n))&&(c=Ii(c,"onBeforeInput"),0<c.length&&(f=new wd("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=F))}jf(p,t)})}function ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=fa(e,n),i!=null&&r.unshift(ja(e,i,a)),i=fa(e,t),i!=null&&r.push(ja(e,i,a))),e=e.return}return r}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Od(e,t,n,r,a){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,a?(u=fa(n,i),u!=null&&l.unshift(ja(n,u,o))):a||(u=fa(n,i),u!=null&&l.push(ja(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var dv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(dv,`
`).replace(mv,"")}function ai(e,t,n){if(t=Id(t),Id(e)!==t&&n)throw Error(O(425))}function Di(){}var Uo=null,Lo=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(pv)}:Bo;function pv(e){setTimeout(function(){throw e})}function no(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ga(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var As=Math.random().toString(36).slice(2),Kt="__reactFiber$"+As,wa="__reactProps$"+As,mn="__reactContainer$"+As,qo="__reactEvents$"+As,xv="__reactListeners$"+As,gv="__reactHandles$"+As;function hr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ad(e);e!==null;){if(n=e[Kt])return n;e=Ad(e)}return t}e=n,n=e.parentNode}return null}function Ha(e){return e=e[Kt]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function xl(e){return e[wa]||null}var zo=[],Zr=-1;function ar(e){return{current:e}}function be(e){0>Zr||(e.current=zo[Zr],zo[Zr]=null,Zr--)}function ge(e,t){Zr++,zo[Zr]=e.current,e.current=t}var tr={},Ze=ar(tr),ct=ar(!1),Er=tr;function js(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function Ai(){be(ct),be(Ze)}function Ud(e,t,n){if(Ze.current!==tr)throw Error(O(168));ge(Ze,t),ge(ct,n)}function Nf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(O(108,tg(e)||"Unknown",a));return _e({},n,r)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Er=Ze.current,ge(Ze,e),ge(ct,ct.current),!0}function Ld(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Nf(e,t,Er),r.__reactInternalMemoizedMergedChildContext=e,be(ct),be(Ze),ge(Ze,e)):be(ct),ge(ct,n)}var tn=null,gl=!1,ro=!1;function kf(e){tn===null?tn=[e]:tn.push(e)}function vv(e){gl=!0,kf(e)}function ir(){if(!ro&&tn!==null){ro=!0;var e=0,t=me;try{var n=tn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,gl=!1}catch(a){throw tn!==null&&(tn=tn.slice(e+1)),Kh(Zu,ir),a}finally{me=t,ro=!1}}return null}var Yr=[],Gr=0,Li=null,$i=0,St=[],Ct=0,Pr=null,ln=1,on="";function cr(e,t){Yr[Gr++]=$i,Yr[Gr++]=Li,Li=e,$i=t}function Sf(e,t,n){St[Ct++]=ln,St[Ct++]=on,St[Ct++]=Pr,Pr=e;var r=ln;e=on;var a=32-Lt(r)-1;r&=~(1<<a),n+=1;var i=32-Lt(t)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,ln=1<<32-Lt(t)+a|n<<a|r,on=i+e}else ln=1<<i|n<<a|r,on=e}function ac(e){e.return!==null&&(cr(e,1),Sf(e,1,0))}function ic(e){for(;e===Li;)Li=Yr[--Gr],Yr[Gr]=null,$i=Yr[--Gr],Yr[Gr]=null;for(;e===Pr;)Pr=St[--Ct],St[Ct]=null,on=St[--Ct],St[Ct]=null,ln=St[--Ct],St[Ct]=null}var gt=null,xt=null,Ne=!1,Ut=null;function Cf(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $d(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,xt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pr!==null?{id:ln,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,xt=null,!0):!1;default:return!1}}function Wo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ho(e){if(Ne){var t=xt;if(t){var n=t;if(!$d(e,t)){if(Wo(e))throw Error(O(418));t=Qn(n.nextSibling);var r=gt;t&&$d(e,t)?Cf(r,n):(e.flags=e.flags&-4097|2,Ne=!1,gt=e)}}else{if(Wo(e))throw Error(O(418));e.flags=e.flags&-4097|2,Ne=!1,gt=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function ii(e){if(e!==gt)return!1;if(!Ne)return Bd(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=xt)){if(Wo(e))throw _f(),Error(O(418));for(;t;)Cf(e,t),t=Qn(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=gt?Qn(e.stateNode.nextSibling):null;return!0}function _f(){for(var e=xt;e;)e=Qn(e.nextSibling)}function ws(){xt=gt=null,Ne=!1}function lc(e){Ut===null?Ut=[e]:Ut.push(e)}var yv=xn.ReactCurrentBatchConfig;function Hs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function li(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qd(e){var t=e._init;return t(e._payload)}function Ef(e){function t(x,d){if(e){var m=x.deletions;m===null?(x.deletions=[d],x.flags|=16):m.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function r(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function a(x,d){return x=Zn(x,d),x.index=0,x.sibling=null,x}function i(x,d,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<d?(x.flags|=2,d):m):(x.flags|=2,d)):(x.flags|=1048576,d)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,d,m,h){return d===null||d.tag!==6?(d=co(m,x.mode,h),d.return=x,d):(d=a(d,m),d.return=x,d)}function u(x,d,m,h){var k=m.type;return k===Hr?f(x,d,m.props.children,h,m.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kn&&qd(k)===d.type)?(h=a(d,m.props),h.ref=Hs(x,d,m),h.return=x,h):(h=Si(m.type,m.key,m.props,null,x.mode,h),h.ref=Hs(x,d,m),h.return=x,h)}function c(x,d,m,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=mo(m,x.mode,h),d.return=x,d):(d=a(d,m.children||[]),d.return=x,d)}function f(x,d,m,h,k){return d===null||d.tag!==7?(d=_r(m,x.mode,h,k),d.return=x,d):(d=a(d,m),d.return=x,d)}function p(x,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=co(""+d,x.mode,m),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Za:return m=Si(d.type,d.key,d.props,null,x.mode,m),m.ref=Hs(x,null,d),m.return=x,m;case Wr:return d=mo(d,x.mode,m),d.return=x,d;case kn:var h=d._init;return p(x,h(d._payload),m)}if(Gs(d)||$s(d))return d=_r(d,x.mode,m,null),d.return=x,d;li(x,d)}return null}function g(x,d,m,h){var k=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:o(x,d,""+m,h);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Za:return m.key===k?u(x,d,m,h):null;case Wr:return m.key===k?c(x,d,m,h):null;case kn:return k=m._init,g(x,d,k(m._payload),h)}if(Gs(m)||$s(m))return k!==null?null:f(x,d,m,h,null);li(x,m)}return null}function v(x,d,m,h,k){if(typeof h=="string"&&h!==""||typeof h=="number")return x=x.get(m)||null,o(d,x,""+h,k);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Za:return x=x.get(h.key===null?m:h.key)||null,u(d,x,h,k);case Wr:return x=x.get(h.key===null?m:h.key)||null,c(d,x,h,k);case kn:var _=h._init;return v(x,d,m,_(h._payload),k)}if(Gs(h)||$s(h))return x=x.get(m)||null,f(d,x,h,k,null);li(d,h)}return null}function y(x,d,m,h){for(var k=null,_=null,F=d,T=d=0,U=null;F!==null&&T<m.length;T++){F.index>T?(U=F,F=null):U=F.sibling;var C=g(x,F,m[T],h);if(C===null){F===null&&(F=U);break}e&&F&&C.alternate===null&&t(x,F),d=i(C,d,T),_===null?k=C:_.sibling=C,_=C,F=U}if(T===m.length)return n(x,F),Ne&&cr(x,T),k;if(F===null){for(;T<m.length;T++)F=p(x,m[T],h),F!==null&&(d=i(F,d,T),_===null?k=F:_.sibling=F,_=F);return Ne&&cr(x,T),k}for(F=r(x,F);T<m.length;T++)U=v(F,x,T,m[T],h),U!==null&&(e&&U.alternate!==null&&F.delete(U.key===null?T:U.key),d=i(U,d,T),_===null?k=U:_.sibling=U,_=U);return e&&F.forEach(function(S){return t(x,S)}),Ne&&cr(x,T),k}function b(x,d,m,h){var k=$s(m);if(typeof k!="function")throw Error(O(150));if(m=k.call(m),m==null)throw Error(O(151));for(var _=k=null,F=d,T=d=0,U=null,C=m.next();F!==null&&!C.done;T++,C=m.next()){F.index>T?(U=F,F=null):U=F.sibling;var S=g(x,F,C.value,h);if(S===null){F===null&&(F=U);break}e&&F&&S.alternate===null&&t(x,F),d=i(S,d,T),_===null?k=S:_.sibling=S,_=S,F=U}if(C.done)return n(x,F),Ne&&cr(x,T),k;if(F===null){for(;!C.done;T++,C=m.next())C=p(x,C.value,h),C!==null&&(d=i(C,d,T),_===null?k=C:_.sibling=C,_=C);return Ne&&cr(x,T),k}for(F=r(x,F);!C.done;T++,C=m.next())C=v(F,x,T,C.value,h),C!==null&&(e&&C.alternate!==null&&F.delete(C.key===null?T:C.key),d=i(C,d,T),_===null?k=C:_.sibling=C,_=C);return e&&F.forEach(function(R){return t(x,R)}),Ne&&cr(x,T),k}function N(x,d,m,h){if(typeof m=="object"&&m!==null&&m.type===Hr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Za:e:{for(var k=m.key,_=d;_!==null;){if(_.key===k){if(k=m.type,k===Hr){if(_.tag===7){n(x,_.sibling),d=a(_,m.props.children),d.return=x,x=d;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kn&&qd(k)===_.type){n(x,_.sibling),d=a(_,m.props),d.ref=Hs(x,_,m),d.return=x,x=d;break e}n(x,_);break}else t(x,_);_=_.sibling}m.type===Hr?(d=_r(m.props.children,x.mode,h,m.key),d.return=x,x=d):(h=Si(m.type,m.key,m.props,null,x.mode,h),h.ref=Hs(x,d,m),h.return=x,x=h)}return l(x);case Wr:e:{for(_=m.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(x,d.sibling),d=a(d,m.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=mo(m,x.mode,h),d.return=x,x=d}return l(x);case kn:return _=m._init,N(x,d,_(m._payload),h)}if(Gs(m))return y(x,d,m,h);if($s(m))return b(x,d,m,h);li(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(x,d.sibling),d=a(d,m),d.return=x,x=d):(n(x,d),d=co(m,x.mode,h),d.return=x,x=d),l(x)):n(x,d)}return N}var Ns=Ef(!0),Pf=Ef(!1),Bi=ar(null),qi=null,Xr=null,oc=null;function uc(){oc=Xr=qi=null}function cc(e){var t=Bi.current;be(Bi),e._currentValue=t}function Qo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function is(e,t){qi=e,oc=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(qi===null)throw Error(O(308));Xr=e,qi.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var fr=null;function dc(e){fr===null?fr=[e]:fr.push(e)}function Tf(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,dc(t)):(n.next=a.next,a.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,hn(e,n)}return a=r.interleaved,a===null?(t.next=t,dc(r)):(t.next=a.next,a.next=t),r.interleaved=t,hn(e,n)}function yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yu(e,n)}}function zd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var a=e.updateQueue;Sn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?i=c:l.next=c,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==l&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(i!==null){var p=a.baseState;l=0,f=c=u=null,o=i;do{var g=o.lane,v=o.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(g=t,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(v,p,g);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,g=typeof y=="function"?y.call(v,p,g):y,g==null)break e;p=_e({},p,g);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else v={eventTime:v,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=v,u=p):f=f.next=v,l|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(f===null&&(u=p),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Mr|=l,e.lanes=l,e.memoizedState=p}}function Wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(O(191,a));a.call(r)}}}var Qa={},Zt=ar(Qa),Na=ar(Qa),ka=ar(Qa);function pr(e){if(e===Qa)throw Error(O(174));return e}function hc(e,t){switch(ge(ka,t),ge(Na,e),ge(Zt,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Co(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Co(t,e)}be(Zt),ge(Zt,t)}function ks(){be(Zt),be(Na),be(ka)}function Ff(e){pr(ka.current);var t=pr(Zt.current),n=Co(t,e.type);t!==n&&(ge(Na,e),ge(Zt,n))}function fc(e){Na.current===e&&(be(Zt),be(Na))}var ke=ar(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function pc(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var bi=xn.ReactCurrentDispatcher,ao=xn.ReactCurrentBatchConfig,Tr=0,Se=null,Ie=null,Le=null,Hi=!1,oa=!1,Sa=0,bv=0;function Qe(){throw Error(O(321))}function xc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function gc(e,t,n,r,a,i){if(Tr=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bi.current=e===null||e.memoizedState===null?kv:Sv,e=n(r,a),oa){i=0;do{if(oa=!1,Sa=0,25<=i)throw Error(O(301));i+=1,Le=Ie=null,t.updateQueue=null,bi.current=Cv,e=n(r,a)}while(oa)}if(bi.current=Qi,t=Ie!==null&&Ie.next!==null,Tr=0,Le=Ie=Se=null,Hi=!1,t)throw Error(O(300));return e}function vc(){var e=Sa!==0;return Sa=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Se.memoizedState=Le=e:Le=Le.next=e,Le}function Tt(){if(Ie===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Le===null?Se.memoizedState:Le.next;if(t!==null)Le=t,Ie=e;else{if(e===null)throw Error(O(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Le===null?Se.memoizedState=Le=e:Le=Le.next=e}return Le}function Ca(e,t){return typeof t=="function"?t(e):t}function io(e){var t=Tt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ie,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,u=null,c=i;do{var f=c.lane;if((Tr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=p,l=r):u=u.next=p,Se.lanes|=f,Mr|=f}c=c.next}while(c!==null&&c!==i);u===null?l=r:u.next=o,Bt(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Se.lanes|=i,Mr|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Bt(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Rf(){}function Of(e,t){var n=Se,r=Tt(),a=t(),i=!Bt(r.memoizedState,a);if(i&&(r.memoizedState=a,ut=!0),r=r.queue,yc(Af.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,_a(9,Df.bind(null,n,r,a,t),void 0,null),$e===null)throw Error(O(349));Tr&30||If(n,t,a)}return a}function If(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Df(e,t,n,r){t.value=n,t.getSnapshot=r,Uf(t)&&Lf(e)}function Af(e,t,n){return n(function(){Uf(t)&&Lf(e)})}function Uf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Lf(e){var t=hn(e,1);t!==null&&$t(t,e,1,-1)}function Hd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Nv.bind(null,Se,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $f(){return Tt().memoizedState}function ji(e,t,n,r){var a=Wt();Se.flags|=e,a.memoizedState=_a(1|t,n,void 0,r===void 0?null:r)}function vl(e,t,n,r){var a=Tt();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var l=Ie.memoizedState;if(i=l.destroy,r!==null&&xc(r,l.deps)){a.memoizedState=_a(t,n,i,r);return}}Se.flags|=e,a.memoizedState=_a(1|t,n,i,r)}function Qd(e,t){return ji(8390656,8,e,t)}function yc(e,t){return vl(2048,8,e,t)}function Bf(e,t){return vl(4,2,e,t)}function qf(e,t){return vl(4,4,e,t)}function zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wf(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,zf.bind(null,t,e),n)}function bc(){}function Hf(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qf(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vf(e,t,n){return Tr&21?(Bt(n,t)||(n=Yh(),Se.lanes|=n,Mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function jv(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{me=n,ao.transition=r}}function Kf(){return Tt().memoizedState}function wv(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jf(e))Zf(t,n);else if(n=Tf(e,t,n,r),n!==null){var a=nt();$t(n,e,r,a),Yf(n,t,r)}}function Nv(e,t,n){var r=Jn(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jf(e))Zf(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,Bt(o,l)){var u=t.interleaved;u===null?(a.next=a,dc(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}n=Tf(e,t,a,r),n!==null&&(a=nt(),$t(n,e,r,a),Yf(n,t,r))}}function Jf(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Zf(e,t){oa=Hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yu(e,n)}}var Qi={readContext:Pt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},kv={readContext:Pt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Qd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ji(4194308,4,zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wv.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Hd,useDebugValue:bc,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Hd(!1),t=e[0];return e=jv.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,a=Wt();if(Ne){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),$e===null)throw Error(O(349));Tr&30||If(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Qd(Af.bind(null,r,i,e),[e]),r.flags|=2048,_a(9,Df.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(Ne){var n=on,r=ln;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sv={readContext:Pt,useCallback:Hf,useContext:Pt,useEffect:yc,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:qf,useMemo:Qf,useReducer:io,useRef:$f,useState:function(){return io(Ca)},useDebugValue:bc,useDeferredValue:function(e){var t=Tt();return Vf(t,Ie.memoizedState,e)},useTransition:function(){var e=io(Ca)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Of,useId:Kf,unstable_isNewReconciler:!1},Cv={readContext:Pt,useCallback:Hf,useContext:Pt,useEffect:yc,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:qf,useMemo:Qf,useReducer:lo,useRef:$f,useState:function(){return lo(Ca)},useDebugValue:bc,useDeferredValue:function(e){var t=Tt();return Ie===null?t.memoizedState=e:Vf(t,Ie.memoizedState,e)},useTransition:function(){var e=lo(Ca)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Of,useId:Kf,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),a=Jn(e),i=un(r,a);i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,a),t!==null&&($t(t,e,a,r),yi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),a=Jn(e),i=un(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,a),t!==null&&($t(t,e,a,r),yi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Jn(e),a=un(n,r);a.tag=2,t!=null&&(a.callback=t),t=Vn(e,a,r),t!==null&&($t(t,e,r,n),yi(t,e,r))}};function Vd(e,t,n,r,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!ya(n,r)||!ya(a,i):!0}function Gf(e,t,n){var r=!1,a=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(a=dt(t)?Er:Ze.current,r=t.contextTypes,i=(r=r!=null)?js(e,a):tr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},mc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Pt(i):(i=dt(t)?Er:Ze.current,a.context=js(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vo(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yl.enqueueReplaceState(a,a.state,null),zi(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ss(e,t){try{var n="",r=t;do n+=eg(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function oo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _v=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ki||(Ki=!0,au=r),Jo(e,t)},n}function ep(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jo(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _v;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bv.bind(null,e,t,n),t.then(e,e))}function Zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yd(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var Ev=xn.ReactCurrentOwner,ut=!1;function et(e,t,n,r){t.child=e===null?Pf(t,null,n,r):Ns(t,e.child,n,r)}function Gd(e,t,n,r,a){n=n.render;var i=t.ref;return is(t,a),r=gc(e,t,n,r,i,a),n=vc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fn(e,t,a)):(Ne&&n&&ac(t),t.flags|=1,et(e,t,r,a),t.child)}function Xd(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Ec(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,tp(e,t,i,r,a)):(e=Si(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(l,r)&&e.ref===t.ref)return fn(e,t,a)}return t.flags|=1,e=Zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function tp(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(ya(i,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,fn(e,t,a)}return Zo(e,t,n,r,a)}function np(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ts,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ts,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ts,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(ts,pt),pt|=r;return et(e,t,a,n),t.child}function rp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zo(e,t,n,r,a){var i=dt(n)?Er:Ze.current;return i=js(t,i),is(t,a),n=gc(e,t,n,r,i,a),r=vc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fn(e,t,a)):(Ne&&r&&ac(t),t.flags|=1,et(e,t,n,a),t.child)}function em(e,t,n,r,a){if(dt(n)){var i=!0;Ui(t)}else i=!1;if(is(t,a),t.stateNode===null)wi(e,t),Gf(t,n,r),Ko(t,n,r,a),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pt(c):(c=dt(n)?Er:Ze.current,c=js(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==c)&&Kd(t,l,r,c),Sn=!1;var g=t.memoizedState;l.state=g,zi(t,r,l,a),u=t.memoizedState,o!==r||g!==u||ct.current||Sn?(typeof f=="function"&&(Vo(t,n,f,r),u=t.memoizedState),(o=Sn||Vd(t,n,o,r,g,u,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Mf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ot(t.type,o),l.props=c,p=t.pendingProps,g=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pt(u):(u=dt(n)?Er:Ze.current,u=js(t,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||g!==u)&&Kd(t,l,r,u),Sn=!1,g=t.memoizedState,l.state=g,zi(t,r,l,a);var y=t.memoizedState;o!==p||g!==y||ct.current||Sn?(typeof v=="function"&&(Vo(t,n,v,r),y=t.memoizedState),(c=Sn||Vd(t,n,c,r,g,y,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Yo(e,t,n,r,i,a)}function Yo(e,t,n,r,a,i){rp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Ld(t,n,!1),fn(e,t,i);r=t.stateNode,Ev.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ns(t,e.child,null,i),t.child=Ns(t,null,o,i)):et(e,t,o,i),t.memoizedState=r.state,a&&Ld(t,n,!0),t.child}function sp(e){var t=e.stateNode;t.pendingContext?Ud(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ud(e,t.context,!1),hc(e,t.containerInfo)}function tm(e,t,n,r,a){return ws(),lc(a),t.flags|=256,et(e,t,n,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function ap(e,t,n){var r=t.pendingProps,a=ke.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ge(ke,a&1),e===null)return Ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=wl(l,r,0,null),e=_r(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xo(n),t.memoizedState=Go,e):jc(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Pv(e,t,l,r,o,a,n);if(i){i=r.fallback,l=t.mode,a=e.child,o=a.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Zn(a,u),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Zn(o,i):(i=_r(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Xo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Go,r}return i=e.child,e=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jc(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,n,r){return r!==null&&lc(r),Ns(t,e.child,null,n),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pv(e,t,n,r,a,i,l){if(n)return t.flags&256?(t.flags&=-257,r=oo(Error(O(422))),oi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=wl({mode:"visible",children:r.children},a,0,null),i=_r(i,a,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ns(t,e.child,null,l),t.child.memoizedState=Xo(l),t.memoizedState=Go,i);if(!(t.mode&1))return oi(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(O(419)),r=oo(i,r,void 0),oi(e,t,l,r)}if(o=(l&e.childLanes)!==0,ut||o){if(r=$e,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,hn(e,a),$t(r,e,a,-1))}return _c(),r=oo(Error(O(421))),oi(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qv.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,xt=Qn(a.nextSibling),gt=t,Ne=!0,Ut=null,e!==null&&(St[Ct++]=ln,St[Ct++]=on,St[Ct++]=Pr,ln=e.id,on=e.overflow,Pr=t),t=jc(t,r.children),t.flags|=4096,t)}function nm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qo(e.return,t,n)}function uo(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ip(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(et(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,n,t);else if(e.tag===19)nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Wi(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),uo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Wi(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}uo(t,!0,n,null,i);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tv(e,t,n){switch(t.tag){case 3:sp(t),ws();break;case 5:Ff(t);break;case 1:dt(t.type)&&Ui(t);break;case 4:hc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ge(Bi,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?ap(e,t,n):(ge(ke,ke.current&1),e=fn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ip(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,np(e,t,n)}return fn(e,t,n)}var lp,eu,op,up;lp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};op=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,pr(Zt.current);var i=null;switch(n){case"input":a=wo(e,a),r=wo(e,r),i=[];break;case"select":a=_e({},a,{value:void 0}),r=_e({},r,{value:void 0}),i=[];break;case"textarea":a=So(e,a),r=So(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Di)}_o(n,r);var l;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ye("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};up=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mv(e,t,n){var r=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return dt(t.type)&&Ai(),Ve(t),null;case 3:return r=t.stateNode,ks(),be(ct),be(Ze),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(ou(Ut),Ut=null))),eu(e,t),Ve(t),null;case 5:fc(t);var a=pr(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)op(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ve(t),null}if(e=pr(Zt.current),ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[wa]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(a=0;a<ea.length;a++)ye(ea[a],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":dd(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":hd(r,i),ye("invalid",r)}_o(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,o,e),a=["children",""+o]):ma.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",r)}switch(n){case"input":Ya(r),md(r,i,!0);break;case"textarea":Ya(r),fd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Di)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Kt]=t,e[wa]=r,lp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Eo(n,r),n){case"dialog":ye("cancel",e),ye("close",e),a=r;break;case"iframe":case"object":case"embed":ye("load",e),a=r;break;case"video":case"audio":for(a=0;a<ea.length;a++)ye(ea[a],e);a=r;break;case"source":ye("error",e),a=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),a=r;break;case"details":ye("toggle",e),a=r;break;case"input":dd(e,r),a=wo(e,r),ye("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=_e({},r,{value:void 0}),ye("invalid",e);break;case"textarea":hd(e,r),a=So(e,r),ye("invalid",e);break;default:a=r}_o(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Lh(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ah(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ha(e,u):typeof u=="number"&&ha(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ma.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ye("scroll",e):u!=null&&Hu(e,i,u,l))}switch(n){case"input":Ya(e),md(e,r,!1);break;case"textarea":Ya(e),fd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ns(e,!!r.multiple,i,!1):r.defaultValue!=null&&ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)up(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=pr(ka.current),pr(Zt.current),ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:ai(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Ve(t),null;case 13:if(be(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&xt!==null&&t.mode&1&&!(t.flags&128))_f(),ws(),t.flags|=98560,i=!1;else if(i=ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Kt]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),i=!1}else Ut!==null&&(ou(Ut),Ut=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):_c())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return ks(),eu(e,t),e===null&&ba(t.stateNode.containerInfo),Ve(t),null;case 10:return cc(t.type._context),Ve(t),null;case 17:return dt(t.type)&&Ai(),Ve(t),null;case 19:if(be(ke),i=t.memoizedState,i===null)return Ve(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Qs(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Wi(e),l!==null){for(t.flags|=128,Qs(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Cs&&(t.flags|=128,r=!0,Qs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Wi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ne)return Ve(t),null}else 2*Te()-i.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,Qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return Cc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Fv(e,t){switch(ic(t),t.tag){case 1:return dt(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),be(ct),be(Ze),pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fc(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return ks(),null;case 10:return cc(t.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var ui=!1,Ke=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,B=null;function es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var rm=!1;function Ov(e,t){if(Uo=Ri,e=ff(),sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,c=0,f=0,p=e,g=null;t:for(;;){for(var v;p!==n||a!==0&&p.nodeType!==3||(o=l+a),p!==i||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===e)break t;if(g===n&&++c===a&&(o=l),g===i&&++f===r&&(u=l),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:e,selectionRange:n},Ri=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,N=y.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ot(t.type,b),N);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(h){Pe(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return y=rm,rm=!1,y}function ua(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tu(t,n,i)}a=a.next}while(a!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cp(e){var t=e.alternate;t!==null&&(e.alternate=null,cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[wa],delete t[qo],delete t[xv],delete t[gv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dp(e){return e.tag===5||e.tag===3||e.tag===4}function sm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Di));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var ze=null,At=!1;function jn(e,t,n){for(n=n.child;n!==null;)mp(e,t,n),n=n.sibling}function mp(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:Ke||es(n,t);case 6:var r=ze,a=At;ze=null,jn(e,t,n),ze=r,At=a,ze!==null&&(At?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(At?(e=ze,n=n.stateNode,e.nodeType===8?no(e.parentNode,n):e.nodeType===1&&no(e,n),ga(e)):no(ze,n.stateNode));break;case 4:r=ze,a=At,ze=n.stateNode.containerInfo,At=!0,jn(e,t,n),ze=r,At=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&tu(n,t,l),a=a.next}while(a!==r)}jn(e,t,n);break;case 1:if(!Ke&&(es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Pe(n,t,o)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,jn(e,t,n),Ke=r):jn(e,t,n);break;default:jn(e,t,n)}}function am(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rv),t.forEach(function(r){var a=zv.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ze=o.stateNode,At=!1;break e;case 3:ze=o.stateNode.containerInfo,At=!0;break e;case 4:ze=o.stateNode.containerInfo,At=!0;break e}o=o.return}if(ze===null)throw Error(O(160));mp(i,l,a),ze=null,At=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){Pe(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hp(t,e),t=t.sibling}function hp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),zt(e),r&4){try{ua(3,e,e.return),bl(3,e)}catch(b){Pe(e,e.return,b)}try{ua(5,e,e.return)}catch(b){Pe(e,e.return,b)}}break;case 1:Rt(t,e),zt(e),r&512&&n!==null&&es(n,n.return);break;case 5:if(Rt(t,e),zt(e),r&512&&n!==null&&es(n,n.return),e.flags&32){var a=e.stateNode;try{ha(a,"")}catch(b){Pe(e,e.return,b)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Oh(a,i),Eo(o,l);var c=Eo(o,i);for(l=0;l<u.length;l+=2){var f=u[l],p=u[l+1];f==="style"?Lh(a,p):f==="dangerouslySetInnerHTML"?Ah(a,p):f==="children"?ha(a,p):Hu(a,f,p,c)}switch(o){case"input":No(a,i);break;case"textarea":Ih(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ns(a,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?ns(a,!!i.multiple,i.defaultValue,!0):ns(a,!!i.multiple,i.multiple?[]:"",!1))}a[wa]=i}catch(b){Pe(e,e.return,b)}}break;case 6:if(Rt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Pe(e,e.return,b)}}break;case 3:if(Rt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(b){Pe(e,e.return,b)}break;case 4:Rt(t,e),zt(e);break;case 13:Rt(t,e),zt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(kc=Te())),r&4&&am(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(c=Ke)||f,Rt(t,e),Ke=c):Rt(t,e),zt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(B=e,f=e.child;f!==null;){for(p=B=f;B!==null;){switch(g=B,v=g.child,g.tag){case 0:case 11:case 14:case 15:ua(4,g,g.return);break;case 1:es(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Pe(r,n,b)}}break;case 5:es(g,g.return);break;case 22:if(g.memoizedState!==null){lm(p);continue}}v!==null?(v.return=g,B=v):lm(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{a=p.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Uh("display",l))}catch(b){Pe(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){Pe(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rt(t,e),zt(e),r&4&&am(e);break;case 21:break;default:Rt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dp(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ha(a,""),r.flags&=-33);var i=sm(e);su(e,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=sm(e);ru(e,o,l);break;default:throw Error(O(161))}}catch(u){Pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iv(e,t,n){B=e,fp(e)}function fp(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var a=B,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||ui;if(!l){var o=a.alternate,u=o!==null&&o.memoizedState!==null||Ke;o=ui;var c=Ke;if(ui=l,(Ke=u)&&!c)for(B=a;B!==null;)l=B,u=l.child,l.tag===22&&l.memoizedState!==null?om(a):u!==null?(u.return=l,B=u):om(a);for(;i!==null;)B=i,fp(i),i=i.sibling;B=a,ui=o,Ke=c}im(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,B=i):im(e)}}function im(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wd(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wd(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ga(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ke||t.flags&512&&nu(t)}catch(g){Pe(t,t.return,g)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function lm(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function om(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(u){Pe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(u){Pe(t,a,u)}}var i=t.return;try{nu(t)}catch(u){Pe(t,i,u)}break;case 5:var l=t.return;try{nu(t)}catch(u){Pe(t,l,u)}}}catch(u){Pe(t,t.return,u)}if(t===e){B=null;break}var o=t.sibling;if(o!==null){o.return=t.return,B=o;break}B=t.return}}var Dv=Math.ceil,Vi=xn.ReactCurrentDispatcher,wc=xn.ReactCurrentOwner,Et=xn.ReactCurrentBatchConfig,ae=0,$e=null,Re=null,We=0,pt=0,ts=ar(0),Ae=0,Ea=null,Mr=0,jl=0,Nc=0,ca=null,ot=null,kc=0,Cs=1/0,en=null,Ki=!1,au=null,Kn=null,ci=!1,$n=null,Ji=0,da=0,iu=null,Ni=-1,ki=0;function nt(){return ae&6?Te():Ni!==-1?Ni:Ni=Te()}function Jn(e){return e.mode&1?ae&2&&We!==0?We&-We:yv.transition!==null?(ki===0&&(ki=Yh()),ki):(e=me,e!==0||(e=window.event,e=e===void 0?16:sf(e.type)),e):1}function $t(e,t,n,r){if(50<da)throw da=0,iu=null,Error(O(185));za(e,n,r),(!(ae&2)||e!==$e)&&(e===$e&&(!(ae&2)&&(jl|=n),Ae===4&&Pn(e,We)),mt(e,r),n===1&&ae===0&&!(t.mode&1)&&(Cs=Te()+500,gl&&ir()))}function mt(e,t){var n=e.callbackNode;yg(e,t);var r=Fi(e,e===$e?We:0);if(r===0)n!==null&&gd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gd(n),t===1)e.tag===0?vv(um.bind(null,e)):kf(um.bind(null,e)),fv(function(){!(ae&6)&&ir()}),n=null;else{switch(Gh(r)){case 1:n=Zu;break;case 4:n=Jh;break;case 16:n=Mi;break;case 536870912:n=Zh;break;default:n=Mi}n=wp(n,pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pp(e,t){if(Ni=-1,ki=0,ae&6)throw Error(O(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var r=Fi(e,e===$e?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zi(e,r);else{t=r;var a=ae;ae|=2;var i=gp();($e!==e||We!==t)&&(en=null,Cs=Te()+500,Cr(e,t));do try{Lv();break}catch(o){xp(e,o)}while(!0);uc(),Vi.current=i,ae=a,Re!==null?t=0:($e=null,We=0,t=Ae)}if(t!==0){if(t===2&&(a=Ro(e),a!==0&&(r=a,t=lu(e,a))),t===1)throw n=Ea,Cr(e,0),Pn(e,r),mt(e,Te()),n;if(t===6)Pn(e,r);else{if(a=e.current.alternate,!(r&30)&&!Av(a)&&(t=Zi(e,r),t===2&&(i=Ro(e),i!==0&&(r=i,t=lu(e,i))),t===1))throw n=Ea,Cr(e,0),Pn(e,r),mt(e,Te()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:dr(e,ot,en);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=kc+500-Te(),10<t)){if(Fi(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bo(dr.bind(null,e,ot,en),t);break}dr(e,ot,en);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-Lt(r);i=1<<l,l=t[l],l>a&&(a=l),r&=~i}if(r=a,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dv(r/1960))-r,10<r){e.timeoutHandle=Bo(dr.bind(null,e,ot,en),r);break}dr(e,ot,en);break;case 5:dr(e,ot,en);break;default:throw Error(O(329))}}}return mt(e,Te()),e.callbackNode===n?pp.bind(null,e):null}function lu(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=ot,ot=n,t!==null&&ou(t)),e}function ou(e){ot===null?ot=e:ot.push.apply(ot,e)}function Av(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Bt(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Nc,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lt(t),r=1<<n;e[n]=-1,t&=~r}}function um(e){if(ae&6)throw Error(O(327));ls();var t=Fi(e,0);if(!(t&1))return mt(e,Te()),null;var n=Zi(e,t);if(e.tag!==0&&n===2){var r=Ro(e);r!==0&&(t=r,n=lu(e,r))}if(n===1)throw n=Ea,Cr(e,0),Pn(e,t),mt(e,Te()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,ot,en),mt(e,Te()),null}function Sc(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Cs=Te()+500,gl&&ir())}}function Fr(e){$n!==null&&$n.tag===0&&!(ae&6)&&ls();var t=ae;ae|=1;var n=Et.transition,r=me;try{if(Et.transition=null,me=1,e)return e()}finally{me=r,Et.transition=n,ae=t,!(ae&6)&&ir()}}function Cc(){pt=ts.current,be(ts)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hv(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ai();break;case 3:ks(),be(ct),be(Ze),pc();break;case 5:fc(r);break;case 4:ks();break;case 13:be(ke);break;case 19:be(ke);break;case 10:cc(r.type._context);break;case 22:case 23:Cc()}n=n.return}if($e=e,Re=e=Zn(e.current,null),We=pt=t,Ae=0,Ea=null,Nc=jl=Mr=0,ot=ca=null,fr!==null){for(t=0;t<fr.length;t++)if(n=fr[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}n.pending=r}fr=null}return e}function xp(e,t){do{var n=Re;try{if(uc(),bi.current=Qi,Hi){for(var r=Se.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hi=!1}if(Tr=0,Le=Ie=Se=null,oa=!1,Sa=0,wc.current=null,n===null||n.return===null){Ae=1,Ea=t,Re=null;break}e:{var i=e,l=n.return,o=n,u=t;if(t=We,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Zd(l);if(v!==null){v.flags&=-257,Yd(v,l,o,i,t),v.mode&1&&Jd(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){Jd(i,c,t),_c();break e}u=Error(O(426))}}else if(Ne&&o.mode&1){var N=Zd(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Yd(N,l,o,i,t),lc(Ss(u,o));break e}}i=u=Ss(u,o),Ae!==4&&(Ae=2),ca===null?ca=[i]:ca.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Xf(i,u,t);zd(i,x);break e;case 1:o=u;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kn===null||!Kn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var h=ep(i,o,t);zd(i,h);break e}}i=i.return}while(i!==null)}yp(n)}catch(k){t=k,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function gp(){var e=Vi.current;return Vi.current=Qi,e===null?Qi:e}function _c(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),$e===null||!(Mr&268435455)&&!(jl&268435455)||Pn($e,We)}function Zi(e,t){var n=ae;ae|=2;var r=gp();($e!==e||We!==t)&&(en=null,Cr(e,t));do try{Uv();break}catch(a){xp(e,a)}while(!0);if(uc(),ae=n,Vi.current=r,Re!==null)throw Error(O(261));return $e=null,We=0,Ae}function Uv(){for(;Re!==null;)vp(Re)}function Lv(){for(;Re!==null&&!cg();)vp(Re)}function vp(e){var t=jp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?yp(e):Re=t,wc.current=null}function yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fv(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Re=null;return}}else if(n=Mv(n,t,pt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ae===0&&(Ae=5)}function dr(e,t,n){var r=me,a=Et.transition;try{Et.transition=null,me=1,$v(e,t,n,r)}finally{Et.transition=a,me=r}return null}function $v(e,t,n,r){do ls();while($n!==null);if(ae&6)throw Error(O(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(bg(e,i),e===$e&&(Re=$e=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,wp(Mi,function(){return ls(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var l=me;me=1;var o=ae;ae|=4,wc.current=null,Ov(e,n),hp(n,e),iv(Lo),Ri=!!Uo,Lo=Uo=null,e.current=n,Iv(n),dg(),ae=o,me=l,Et.transition=i}else e.current=n;if(ci&&(ci=!1,$n=e,Ji=a),i=e.pendingLanes,i===0&&(Kn=null),fg(n.stateNode),mt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ki)throw Ki=!1,e=au,au=null,e;return Ji&1&&e.tag!==0&&ls(),i=e.pendingLanes,i&1?e===iu?da++:(da=0,iu=e):da=0,ir(),null}function ls(){if($n!==null){var e=Gh(Ji),t=Et.transition,n=me;try{if(Et.transition=null,me=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,Ji=0,ae&6)throw Error(O(331));var a=ae;for(ae|=4,B=e.current;B!==null;){var i=B,l=i.child;if(B.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(B=c;B!==null;){var f=B;switch(f.tag){case 0:case 11:case 15:ua(8,f,i)}var p=f.child;if(p!==null)p.return=f,B=p;else for(;B!==null;){f=B;var g=f.sibling,v=f.return;if(cp(f),f===c){B=null;break}if(g!==null){g.return=v,B=g;break}B=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}B=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,B=l;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ua(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,B=x;break e}B=i.return}}var d=e.current;for(B=d;B!==null;){l=B;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,B=m;else e:for(l=d;B!==null;){if(o=B,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bl(9,o)}}catch(k){Pe(o,o.return,k)}if(o===l){B=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,B=h;break e}B=o.return}}if(ae=a,ir(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{me=n,Et.transition=t}}return!1}function cm(e,t,n){t=Ss(n,t),t=Xf(e,t,1),e=Vn(e,t,1),t=nt(),e!==null&&(za(e,1,t),mt(e,t))}function Pe(e,t,n){if(e.tag===3)cm(e,e,n);else for(;t!==null;){if(t.tag===3){cm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Ss(n,e),e=ep(t,e,1),t=Vn(t,e,1),e=nt(),t!==null&&(za(t,1,e),mt(t,e));break}}t=t.return}}function Bv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(We&n)===n&&(Ae===4||Ae===3&&(We&130023424)===We&&500>Te()-kc?Cr(e,0):Nc|=n),mt(e,t)}function bp(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=nt();e=hn(e,t),e!==null&&(za(e,t,n),mt(e,n))}function qv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bp(e,n)}function zv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),bp(e,n)}var jp;jp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,Tv(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Ne&&t.flags&1048576&&Sf(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wi(e,t),e=t.pendingProps;var a=js(t,Ze.current);is(t,n),a=gc(null,t,r,e,a,n);var i=vc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(i=!0,Ui(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mc(t),a.updater=yl,t.stateNode=a,a._reactInternals=t,Ko(t,r,e,n),t=Yo(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&ac(t),et(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Hv(r),e=Ot(r,e),a){case 0:t=Zo(null,t,r,e,n);break e;case 1:t=em(null,t,r,e,n);break e;case 11:t=Gd(null,t,r,e,n);break e;case 14:t=Xd(null,t,r,Ot(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Zo(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),em(e,t,r,a,n);case 3:e:{if(sp(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Mf(e,t),zi(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ss(Error(O(423)),t),t=tm(e,t,r,n,a);break e}else if(r!==a){a=Ss(Error(O(424)),t),t=tm(e,t,r,n,a);break e}else for(xt=Qn(t.stateNode.containerInfo.firstChild),gt=t,Ne=!0,Ut=null,n=Pf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===a){t=fn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return Ff(t),e===null&&Ho(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,$o(r,a)?l=null:i!==null&&$o(r,i)&&(t.flags|=32),rp(e,t),et(e,t,l,n),t.child;case 6:return e===null&&Ho(t),null;case 13:return ap(e,t,n);case 4:return hc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ns(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Gd(e,t,r,a,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ge(Bi,r._currentValue),r._currentValue=l,i!==null)if(Bt(i.value,l)){if(i.children===a.children&&!ct.current){t=fn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=un(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Qo(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(O(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Qo(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}et(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,is(t,n),a=Pt(a),r=r(a),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,a=Ot(r,t.pendingProps),a=Ot(r.type,a),Xd(e,t,r,a,n);case 15:return tp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),wi(e,t),t.tag=1,dt(r)?(e=!0,Ui(t)):e=!1,is(t,n),Gf(t,r,a),Ko(t,r,a,n),Yo(null,t,r,!0,e,n);case 19:return ip(e,t,n);case 22:return np(e,t,n)}throw Error(O(156,t.tag))};function wp(e,t){return Kh(e,t)}function Wv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new Wv(e,t,n,r)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hv(e){if(typeof e=="function")return Ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vu)return 11;if(e===Ku)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Si(e,t,n,r,a,i){var l=2;if(r=e,typeof e=="function")Ec(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Hr:return _r(n.children,a,i,t);case Qu:l=8,a|=8;break;case vo:return e=_t(12,n,t,a|2),e.elementType=vo,e.lanes=i,e;case yo:return e=_t(13,n,t,a),e.elementType=yo,e.lanes=i,e;case bo:return e=_t(19,n,t,a),e.elementType=bo,e.lanes=i,e;case Mh:return wl(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ph:l=10;break e;case Th:l=9;break e;case Vu:l=11;break e;case Ku:l=14;break e;case kn:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=_t(l,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function _r(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function wl(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Mh,e.lanes=n,e.stateNode={isHidden:!1},e}function co(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function mo(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qv(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Pc(e,t,n,r,a,i,l,o,u){return e=new Qv(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(i),e}function Vv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Np(e){if(!e)return tr;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(dt(n))return Nf(e,n,t)}return t}function kp(e,t,n,r,a,i,l,o,u){return e=Pc(n,r,!0,e,a,i,l,o,u),e.context=Np(null),n=e.current,r=nt(),a=Jn(n),i=un(r,a),i.callback=t??null,Vn(n,i,a),e.current.lanes=a,za(e,a,r),mt(e,r),e}function Nl(e,t,n,r){var a=t.current,i=nt(),l=Jn(a);return n=Np(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(a,t,l),e!==null&&($t(e,a,l,i),yi(e,a,l)),l}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tc(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function Kv(){return null}var Sp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}kl.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Nl(e,t,null,null)};kl.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){Nl(null,e,null,null)}),t[mn]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=tf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&rf(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mm(){}function Jv(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Yi(l);i.call(c)}}var l=kp(t,r,e,0,null,!1,!1,"",mm);return e._reactRootContainer=l,e[mn]=l.current,ba(e.nodeType===8?e.parentNode:e),Fr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var c=Yi(u);o.call(c)}}var u=Pc(e,0,!1,null,null,!1,!1,"",mm);return e._reactRootContainer=u,e[mn]=u.current,ba(e.nodeType===8?e.parentNode:e),Fr(function(){Nl(t,u,n,r)}),u}function Cl(e,t,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var u=Yi(l);o.call(u)}}Nl(t,l,e,a)}else l=Jv(n,t,e,a,r);return Yi(l)}Xh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xs(t.pendingLanes);n!==0&&(Yu(t,n|1),mt(t,Te()),!(ae&6)&&(Cs=Te()+500,ir()))}break;case 13:Fr(function(){var r=hn(e,1);if(r!==null){var a=nt();$t(r,e,1,a)}}),Tc(e,1)}};Gu=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=nt();$t(t,e,134217728,n)}Tc(e,134217728)}};ef=function(e){if(e.tag===13){var t=Jn(e),n=hn(e,t);if(n!==null){var r=nt();$t(n,e,t,r)}Tc(e,t)}};tf=function(){return me};nf=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};To=function(e,t,n){switch(t){case"input":if(No(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xl(r);if(!a)throw Error(O(90));Rh(r),No(r,a)}}}break;case"textarea":Ih(e,n);break;case"select":t=n.value,t!=null&&ns(e,!!n.multiple,t,!1)}};qh=Sc;zh=Fr;var Zv={usingClientEntryPoint:!1,Events:[Ha,Jr,xl,$h,Bh,Sc]},Vs={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yv={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qh(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||Kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{ml=di.inject(Yv),Jt=di}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(t))throw Error(O(200));return Vv(e,t,null,n)};bt.createRoot=function(e,t){if(!Fc(e))throw Error(O(299));var n=!1,r="",a=Sp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Pc(e,1,!1,null,null,n,!1,r,a),e[mn]=t.current,ba(e.nodeType===8?e.parentNode:e),new Mc(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Qh(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Fr(e)};bt.hydrate=function(e,t,n){if(!Sl(t))throw Error(O(200));return Cl(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!Fc(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",l=Sp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=kp(t,null,e,1,n??null,a,!1,i,l),e[mn]=t.current,ba(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new kl(t)};bt.render=function(e,t,n){if(!Sl(t))throw Error(O(200));return Cl(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(O(40));return e._reactRootContainer?(Fr(function(){Cl(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};bt.unstable_batchedUpdates=Sc;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Cl(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(e){console.error(e)}}Cp(),Sh.exports=bt;var Gv=Sh.exports,hm=Gv;xo.createRoot=hm.createRoot,xo.hydrateRoot=hm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}var Bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bn||(Bn={}));const fm="popstate";function Xv(e){e===void 0&&(e={});function t(a,i){let{pathname:l="/",search:o="",hash:u=""}=Lr(a.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),uu("",{pathname:l,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let l=a.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let u=a.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof i=="string"?i:Gi(i))}function r(a,i){_l(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return ty(t,n,r,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _l(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ey(){return Math.random().toString(36).substr(2,8)}function pm(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,n,r){return n===void 0&&(n=null),Pa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lr(t):t,{state:n,key:t&&t.key||r||ey()})}function Gi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ty(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=Bn.Pop,u=null,c=f();c==null&&(c=0,l.replaceState(Pa({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function p(){o=Bn.Pop;let N=f(),x=N==null?null:N-c;c=N,u&&u({action:o,location:b.location,delta:x})}function g(N,x){o=Bn.Push;let d=uu(b.location,N,x);n&&n(d,N),c=f()+1;let m=pm(d,c),h=b.createHref(d);try{l.pushState(m,"",h)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(h)}i&&u&&u({action:o,location:b.location,delta:1})}function v(N,x){o=Bn.Replace;let d=uu(b.location,N,x);n&&n(d,N),c=f();let m=pm(d,c),h=b.createHref(d);l.replaceState(m,"",h),i&&u&&u({action:o,location:b.location,delta:0})}function y(N){let x=a.location.origin!=="null"?a.location.origin:a.location.href,d=typeof N=="string"?N:Gi(N);return d=d.replace(/ $/,"%20"),Ce(x,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,x)}let b={get action(){return o},get location(){return e(a,l)},listen(N){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(fm,p),u=N,()=>{a.removeEventListener(fm,p),u=null}},createHref(N){return t(a,N)},createURL:y,encodeLocation(N){let x=y(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(N){return l.go(N)}};return b}var xm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xm||(xm={}));function ny(e,t,n){return n===void 0&&(n="/"),ry(e,t,n)}function ry(e,t,n,r){let a=typeof t=="string"?Lr(t):t,i=_s(a.pathname||"/",n);if(i==null)return null;let l=_p(e);sy(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let c=py(i);o=hy(l[u],c)}return o}function _p(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,l,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(Ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Yn([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_p(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:dy(c,i.index),routesMeta:f})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let u of Ep(i.path))a(i,l,u)}),t}function Ep(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=Ep(r.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function sy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:my(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ay=/^:[\w-]+$/,iy=3,ly=2,oy=1,uy=10,cy=-2,gm=e=>e==="*";function dy(e,t){let n=e.split("/"),r=n.length;return n.some(gm)&&(r+=cy),t&&(r+=ly),n.filter(a=>!gm(a)).reduce((a,i)=>a+(ay.test(i)?iy:i===""?oy:uy),r)}function my(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function hy(e,t,n){let{routesMeta:r}=e,a={},i="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=cu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:Yn([i,p.pathname]),pathnameBase:by(Yn([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Yn([i,p.pathnameBase]))}return l}function cu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fy(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let b=o[p]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[p];return v&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function fy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_l(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function py(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=e=>xy.test(e);function vy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Lr(e):e,i;if(n)if(gy(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),_l(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=vm(n.substring(1),"/"):i=vm(n,t)}else i=t;return{pathname:i,search:jy(r),hash:wy(a)}}function vm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ho(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rc(e,t){let n=yy(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Oc(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Lr(e):(a=Pa({},e),Ce(!a.pathname||!a.pathname.includes("?"),ho("?","pathname","search",a)),Ce(!a.pathname||!a.pathname.includes("#"),ho("#","pathname","hash",a)),Ce(!a.search||!a.search.includes("#"),ho("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}o=p>=0?t[p]:"/"}let u=vy(a,o),c=l&&l!=="/"&&l.endsWith("/"),f=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),by=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ny(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pp=["post","put","patch","delete"];new Set(Pp);const ky=["get",...Pp];new Set(ky);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}const El=w.createContext(null),Tp=w.createContext(null),gn=w.createContext(null),Pl=w.createContext(null),Gt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Mp=w.createContext(null);function Sy(e,t){let{relative:n}=t===void 0?{}:t;Us()||Ce(!1);let{basename:r,navigator:a}=w.useContext(gn),{hash:i,pathname:l,search:o}=Ml(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:Yn([r,l])),a.createHref({pathname:u,search:o,hash:i})}function Us(){return w.useContext(Pl)!=null}function lr(){return Us()||Ce(!1),w.useContext(Pl).location}function Fp(e){w.useContext(gn).static||w.useLayoutEffect(e)}function ht(){let{isDataRoute:e}=w.useContext(Gt);return e?$y():Cy()}function Cy(){Us()||Ce(!1);let e=w.useContext(El),{basename:t,future:n,navigator:r}=w.useContext(gn),{matches:a}=w.useContext(Gt),{pathname:i}=lr(),l=JSON.stringify(Rc(a,n.v7_relativeSplatPath)),o=w.useRef(!1);return Fp(()=>{o.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let p=Oc(c,JSON.parse(l),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Yn([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,l,i,e])}const _y=w.createContext(null);function Ey(e){let t=w.useContext(Gt).outlet;return t&&w.createElement(_y.Provider,{value:e},t)}function Tl(){let{matches:e}=w.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function Ml(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(gn),{matches:a}=w.useContext(Gt),{pathname:i}=lr(),l=JSON.stringify(Rc(a,r.v7_relativeSplatPath));return w.useMemo(()=>Oc(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function Py(e,t){return Ty(e,t)}function Ty(e,t,n,r){Us()||Ce(!1);let{navigator:a}=w.useContext(gn),{matches:i}=w.useContext(Gt),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=lr(),f;if(t){var p;let N=typeof t=="string"?Lr(t):t;u==="/"||(p=N.pathname)!=null&&p.startsWith(u)||Ce(!1),f=N}else f=c;let g=f.pathname||"/",v=g;if(u!=="/"){let N=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=ny(e,{pathname:v}),b=Iy(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Yn([u,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Yn([u,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return t&&b?w.createElement(Pl.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bn.Pop}},b):b}function My(){let e=Ly(),t=Ny(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:a},n):null,null)}const Fy=w.createElement(My,null);class Ry extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Gt.Provider,{value:this.props.routeContext},w.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oy(e){let{routeContext:t,match:n,children:r}=e,a=w.useContext(El);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Gt.Provider,{value:t},r)}function Iy(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let f=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||Ce(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:v}=n,y=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,p,g)=>{let v,y=!1,b=null,N=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||Fy,u&&(c<0&&g===0?(By("route-fallback"),y=!0,N=null):c===g&&(y=!0,N=p.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,g+1)),d=()=>{let m;return v?m=b:y?m=N:p.route.Component?m=w.createElement(p.route.Component,null):p.route.element?m=p.route.element:m=f,w.createElement(Oy,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:m})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?w.createElement(Ry,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:d(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):d()},null)}var Rp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rp||{}),Op=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Op||{});function Dy(e){let t=w.useContext(El);return t||Ce(!1),t}function Ay(e){let t=w.useContext(Tp);return t||Ce(!1),t}function Uy(e){let t=w.useContext(Gt);return t||Ce(!1),t}function Ip(e){let t=Uy(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function Ly(){var e;let t=w.useContext(Mp),n=Ay(),r=Ip();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function $y(){let{router:e}=Dy(Rp.UseNavigateStable),t=Ip(Op.UseNavigateStable),n=w.useRef(!1);return Fp(()=>{n.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ta({fromRouteId:t},i)))},[e,t])}const ym={};function By(e,t,n){ym[e]||(ym[e]=!0)}function qy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mi(e){let{to:t,replace:n,state:r,relative:a}=e;Us()||Ce(!1);let{future:i,static:l}=w.useContext(gn),{matches:o}=w.useContext(Gt),{pathname:u}=lr(),c=ht(),f=Oc(t,Rc(o,i.v7_relativeSplatPath),u,a==="path"),p=JSON.stringify(f);return w.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:a}),[c,p,a,n,r]),null}function Fl(e){return Ey(e.context)}function X(e){Ce(!1)}function zy(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Bn.Pop,navigator:i,static:l=!1,future:o}=e;Us()&&Ce(!1);let u=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:i,static:l,future:Ta({v7_relativeSplatPath:!1},o)}),[u,o,i,l]);typeof r=="string"&&(r=Lr(r));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=r,b=w.useMemo(()=>{let N=_s(f,u);return N==null?null:{location:{pathname:N,search:p,hash:g,state:v,key:y},navigationType:a}},[u,f,p,g,v,y,a]);return b==null?null:w.createElement(gn.Provider,{value:c},w.createElement(Pl.Provider,{children:n,value:b}))}function Wy(e){let{children:t,location:n}=e;return Py(du(t),n)}new Promise(()=>{});function du(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,a)=>{if(!w.isValidElement(r))return;let i=[...t,a];if(r.type===w.Fragment){n.push.apply(n,du(r.props.children,i));return}r.type!==X&&Ce(!1),!r.props.index||!r.props.children||Ce(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=du(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}function Dp(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Hy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qy(e,t){return e.button===0&&(!t||t==="_self")&&!Hy(e)}function mu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Vy(e,t){let n=mu(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const Ky=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zy="6";try{window.__reactRouterVersion=Zy}catch{}const Yy=w.createContext({isTransitioning:!1}),Gy="startTransition",bm=Bx[Gy];function Xy(e){let{basename:t,children:n,future:r,window:a}=e,i=w.useRef();i.current==null&&(i.current=Xv({window:a,v5Compat:!0}));let l=i.current,[o,u]=w.useState({action:l.action,location:l.location}),{v7_startTransition:c}=r||{},f=w.useCallback(p=>{c&&bm?bm(()=>u(p)):u(p)},[u,c]);return w.useLayoutEffect(()=>l.listen(f),[l,f]),w.useEffect(()=>qy(r),[r]),w.createElement(zy,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=w.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:u,to:c,preventScrollReset:f,viewTransition:p}=t,g=Dp(t,Ky),{basename:v}=w.useContext(gn),y,b=!1;if(typeof c=="string"&&t0.test(c)&&(y=c,e0))try{let m=new URL(window.location.href),h=c.startsWith("//")?new URL(m.protocol+c):new URL(c),k=_s(h.pathname,v);h.origin===m.origin&&k!=null?c=k+h.search+h.hash:b=!0}catch{}let N=Sy(c,{relative:a}),x=r0(c,{replace:l,state:o,target:u,preventScrollReset:f,relative:a,viewTransition:p});function d(m){r&&r(m),m.defaultPrevented||x(m)}return w.createElement("a",Xi({},g,{href:y||N,onClick:b||i?r:d,ref:n,target:u}))}),jm=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:u,viewTransition:c,children:f}=t,p=Dp(t,Jy),g=Ml(u,{relative:p.relative}),v=lr(),y=w.useContext(Tp),{navigator:b,basename:N}=w.useContext(gn),x=y!=null&&s0(g)&&c===!0,d=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,m=v.pathname,h=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(m=m.toLowerCase(),h=h?h.toLowerCase():null,d=d.toLowerCase()),h&&N&&(h=_s(h,N)||h);const k=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let _=m===d||!l&&m.startsWith(d)&&m.charAt(k)==="/",F=h!=null&&(h===d||!l&&h.startsWith(d)&&h.charAt(d.length)==="/"),T={isActive:_,isPending:F,isTransitioning:x},U=_?r:void 0,C;typeof i=="function"?C=i(T):C=[i,_?"active":null,F?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(T):o;return w.createElement(fe,Xi({},p,{"aria-current":U,className:C,ref:n,style:S,to:u,viewTransition:c}),typeof f=="function"?f(T):f)});var hu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hu||(hu={}));var wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wm||(wm={}));function n0(e){let t=w.useContext(El);return t||Ce(!1),t}function r0(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,u=ht(),c=lr(),f=Ml(e,{relative:l});return w.useCallback(p=>{if(Qy(p,n)){p.preventDefault();let g=r!==void 0?r:Gi(c)===Gi(f);u(e,{replace:g,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[c,u,f,r,a,n,e,i,l,o])}function or(e){let t=w.useRef(mu(e)),n=w.useRef(!1),r=lr(),a=w.useMemo(()=>Vy(r.search,n.current?null:t.current),[r.search]),i=ht(),l=w.useCallback((o,u)=>{const c=mu(typeof o=="function"?o(a):o);n.current=!0,i("?"+c,u)},[i,a]);return[a,l]}function s0(e,t){t===void 0&&(t={});let n=w.useContext(Yy);n==null&&Ce(!1);let{basename:r}=n0(hu.useViewTransitionState),a=Ml(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=_s(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=_s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cu(a.pathname,l)!=null||cu(a.pathname,i)!=null}var Ls=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},a0={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Tn,Du,rh,i0=(rh=class{constructor(){W(this,Tn,a0);W(this,Du,!1)}setTimeoutProvider(e){A(this,Tn,e)}setTimeout(e,t){return j(this,Tn).setTimeout(e,t)}clearTimeout(e){j(this,Tn).clearTimeout(e)}setInterval(e,t){return j(this,Tn).setInterval(e,t)}clearInterval(e){j(this,Tn).clearInterval(e)}},Tn=new WeakMap,Du=new WeakMap,rh),xr=new i0;function l0(e){setTimeout(e,0)}var Rr=typeof window>"u"||"Deno"in globalThis;function tt(){}function o0(e,t){return typeof e=="function"?e(t):e}function fu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ap(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function kt(e,t){return typeof e=="function"?e(t):e}function Nm(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==Ic(l,t.options))return!1}else if(!Ma(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function km(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Or(t.options.mutationKey)!==Or(i))return!1}else if(!Ma(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Ic(e,t){return((t==null?void 0:t.queryKeyHashFn)||Or)(e)}function Or(e){return JSON.stringify(e,(t,n)=>pu(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Ma(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ma(e[n],t[n])):!1}var u0=Object.prototype.hasOwnProperty;function Up(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Sm(e)&&Sm(t);if(!r&&!(pu(e)&&pu(t)))return t;const i=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),o=l.length,u=r?new Array(o):{};let c=0;for(let f=0;f<o;f++){const p=r?f:l[f],g=e[p],v=t[p];if(g===v){u[p]=g,(r?f<i:u0.call(e,p))&&c++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){u[p]=v;continue}const y=Up(g,v,n+1);u[p]=y,y===g&&c++}return i===o&&c===i?e:u}function el(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Sm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pu(e){if(!Cm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Cm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cm(e){return Object.prototype.toString.call(e)==="[object Object]"}function c0(e){return new Promise(t=>{xr.setTimeout(t,e)})}function xu(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Up(e,t):t}function d0(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function m0(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Dc=Symbol();function Lp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ac(e,t){return typeof e=="function"?e(...t):!!e}function h0(e,t,n){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var gr,Mn,os,sh,f0=(sh=class extends Ls{constructor(){super();W(this,gr);W(this,Mn);W(this,os);A(this,os,t=>{if(!Rr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Mn)||this.setEventListener(j(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Mn))==null||t.call(this),A(this,Mn,void 0))}setEventListener(t){var n;A(this,os,t),(n=j(this,Mn))==null||n.call(this),A(this,Mn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,gr)!==t&&(A(this,gr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,gr)=="boolean"?j(this,gr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gr=new WeakMap,Mn=new WeakMap,os=new WeakMap,sh),Uc=new f0;function gu(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var p0=l0;function x0(){let e=[],t=0,n=o=>{o()},r=o=>{o()},a=p0;const i=o=>{t?e.push(o):a(()=>{n(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var De=x0(),us,Fn,cs,ah,g0=(ah=class extends Ls{constructor(){super();W(this,us,!0);W(this,Fn);W(this,cs);A(this,cs,t=>{if(!Rr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Fn)||this.setEventListener(j(this,cs))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Fn))==null||t.call(this),A(this,Fn,void 0))}setEventListener(t){var n;A(this,cs,t),(n=j(this,Fn))==null||n.call(this),A(this,Fn,t(this.setOnline.bind(this)))}setOnline(t){j(this,us)!==t&&(A(this,us,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,us)}},us=new WeakMap,Fn=new WeakMap,cs=new WeakMap,ah),tl=new g0;function v0(e){return Math.min(1e3*2**e,3e4)}function $p(e){return(e??"online")==="online"?tl.isOnline():!0}var vu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bp(e){let t=!1,n=0,r;const a=gu(),i=()=>a.status!=="pending",l=b=>{var N;if(!i()){const x=new vu(b);g(x),(N=e.onCancel)==null||N.call(e,x)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>Uc.isFocused()&&(e.networkMode==="always"||tl.isOnline())&&e.canRun(),f=()=>$p(e.networkMode)&&e.canRun(),p=b=>{i()||(r==null||r(),a.resolve(b))},g=b=>{i()||(r==null||r(),a.reject(b))},v=()=>new Promise(b=>{var N;r=x=>{(i()||c())&&b(x)},(N=e.onPause)==null||N.call(e)}).then(()=>{var b;r=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const N=n===0?e.initialPromise:void 0;try{b=N??e.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(p).catch(x=>{var _;if(i())return;const d=e.retry??(Rr?0:3),m=e.retryDelay??v0,h=typeof m=="function"?m(n,x):m,k=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,x);if(t||!k){g(x);return}n++,(_=e.onFail)==null||_.call(e,n,x),c0(h).then(()=>c()?void 0:v()).then(()=>{t?g(x):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(r==null||r(),a),cancelRetry:o,continueRetry:u,canStart:f,start:()=>(f()?y():v().then(y),a)}}var vr,ih,qp=(ih=class{constructor(){W(this,vr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fu(this.gcTime)&&A(this,vr,xr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rr?1/0:5*60*1e3))}clearGcTimeout(){j(this,vr)&&(xr.clearTimeout(j(this,vr)),A(this,vr,void 0))}},vr=new WeakMap,ih),yr,ds,Nt,br,Ue,Aa,jr,It,Xt,lh,y0=(lh=class extends qp{constructor(t){super();W(this,It);W(this,yr);W(this,ds);W(this,Nt);W(this,br);W(this,Ue);W(this,Aa);W(this,jr);A(this,jr,!1),A(this,Aa,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,br,t.client),A(this,Nt,j(this,br).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,yr,Em(this.options)),this.state=t.state??j(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...j(this,Aa),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Em(this.options);n.data!==void 0&&(this.setState(_m(n.data,n.dataUpdatedAt)),A(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Nt).remove(this)}setData(t,n){const r=xu(this.state.data,t,this.options);return G(this,It,Xt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){G(this,It,Xt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=j(this,Ue))==null?void 0:r.promise;return(a=j(this,Ue))==null||a.cancel(t),n?n.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,yr))}isActive(){return this.observers.some(t=>kt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ap(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,Nt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,Ue)&&(j(this,jr)?j(this,Ue).cancel({revert:!0}):j(this,Ue).cancelRetry()),this.scheduleGc()),j(this,Nt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,It,Xt).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,f,p,g,v,y,b,N,x,d,m;if(this.state.fetchStatus!=="idle"&&((u=j(this,Ue))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,Ue))return j(this,Ue).continueRetry(),j(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(k=>k.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(A(this,jr,!0),r.signal)})},i=()=>{const h=Lp(this.options,n),_=(()=>{const F={client:j(this,br),queryKey:this.queryKey,meta:this.meta};return a(F),F})();return A(this,jr,!1),this.options.persister?this.options.persister(h,_,this):h(_)},o=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:j(this,br),state:this.state,fetchFn:i};return a(h),h})();(c=this.options.behavior)==null||c.onFetch(o,this),A(this,ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&G(this,It,Xt).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),A(this,Ue,Bp({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:h=>{h instanceof vu&&h.revert&&this.setState({...j(this,ds),fetchStatus:"idle"}),r.abort()},onFail:(h,k)=>{G(this,It,Xt).call(this,{type:"failed",failureCount:h,error:k})},onPause:()=>{G(this,It,Xt).call(this,{type:"pause"})},onContinue:()=>{G(this,It,Xt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const h=await j(this,Ue).start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),(v=(g=j(this,Nt).config).onSuccess)==null||v.call(g,h,this),(b=(y=j(this,Nt).config).onSettled)==null||b.call(y,h,this.state.error,this),h}catch(h){if(h instanceof vu){if(h.silent)return j(this,Ue).promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw G(this,It,Xt).call(this,{type:"error",error:h}),(x=(N=j(this,Nt).config).onError)==null||x.call(N,h,this),(m=(d=j(this,Nt).config).onSettled)==null||m.call(d,this.state.data,h,this),h}finally{this.scheduleGc()}}},yr=new WeakMap,ds=new WeakMap,Nt=new WeakMap,br=new WeakMap,Ue=new WeakMap,Aa=new WeakMap,jr=new WeakMap,It=new WeakSet,Xt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zp(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,..._m(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,ds,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),De.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,Nt).notify({query:this,type:"updated",action:t})})},lh);function zp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$p(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _m(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Em(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var it,se,Ua,Ge,wr,ms,nn,Rn,La,hs,fs,Nr,kr,On,ps,ce,ta,yu,bu,ju,wu,Nu,ku,Su,Wp,oh,b0=(oh=class extends Ls{constructor(t,n){super();W(this,ce);W(this,it);W(this,se);W(this,Ua);W(this,Ge);W(this,wr);W(this,ms);W(this,nn);W(this,Rn);W(this,La);W(this,hs);W(this,fs);W(this,Nr);W(this,kr);W(this,On);W(this,ps,new Set);this.options=n,A(this,it,t),A(this,Rn,null),A(this,nn,gu()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,se).addObserver(this),Pm(j(this,se),this.options)?G(this,ce,ta).call(this):this.updateResult(),G(this,ce,wu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cu(j(this,se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cu(j(this,se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,ce,Nu).call(this),G(this,ce,ku).call(this),j(this,se).removeObserver(this)}setOptions(t){const n=this.options,r=j(this,se);if(this.options=j(this,it).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kt(this.options.enabled,j(this,se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,ce,Su).call(this),j(this,se).setOptions(this.options),n._defaulted&&!el(this.options,n)&&j(this,it).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,se),observer:this});const a=this.hasListeners();a&&Tm(j(this,se),r,this.options,n)&&G(this,ce,ta).call(this),this.updateResult(),a&&(j(this,se)!==r||kt(this.options.enabled,j(this,se))!==kt(n.enabled,j(this,se))||Gn(this.options.staleTime,j(this,se))!==Gn(n.staleTime,j(this,se)))&&G(this,ce,yu).call(this);const i=G(this,ce,bu).call(this);a&&(j(this,se)!==r||kt(this.options.enabled,j(this,se))!==kt(n.enabled,j(this,se))||i!==j(this,On))&&G(this,ce,ju).call(this,i)}getOptimisticResult(t){const n=j(this,it).getQueryCache().build(j(this,it),t),r=this.createResult(n,t);return w0(this,r)&&(A(this,Ge,r),A(this,ms,this.options),A(this,wr,j(this,se).state)),r}getCurrentResult(){return j(this,Ge)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&j(this,nn).status==="pending"&&j(this,nn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(t){j(this,ps).add(t)}getCurrentQuery(){return j(this,se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=j(this,it).defaultQueryOptions(t),r=j(this,it).getQueryCache().build(j(this,it),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return G(this,ce,ta).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Ge)))}createResult(t,n){var U;const r=j(this,se),a=this.options,i=j(this,Ge),l=j(this,wr),o=j(this,ms),c=t!==r?t.state:j(this,Ua),{state:f}=t;let p={...f},g=!1,v;if(n._optimisticResults){const C=this.hasListeners(),S=!C&&Pm(t,n),R=C&&Tm(t,r,n,a);(S||R)&&(p={...p,...zp(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:N}=p;v=p.data;let x=!1;if(n.placeholderData!==void 0&&v===void 0&&N==="pending"){let C;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(C=i.data,x=!0):C=typeof n.placeholderData=="function"?n.placeholderData((U=j(this,fs))==null?void 0:U.state.data,j(this,fs)):n.placeholderData,C!==void 0&&(N="success",v=xu(i==null?void 0:i.data,C,n),g=!0)}if(n.select&&v!==void 0&&!x)if(i&&v===(l==null?void 0:l.data)&&n.select===j(this,La))v=j(this,hs);else try{A(this,La,n.select),v=n.select(v),v=xu(i==null?void 0:i.data,v,n),A(this,hs,v),A(this,Rn,null)}catch(C){A(this,Rn,C)}j(this,Rn)&&(y=j(this,Rn),v=j(this,hs),b=Date.now(),N="error");const d=p.fetchStatus==="fetching",m=N==="pending",h=N==="error",k=m&&d,_=v!==void 0,T={status:N,fetchStatus:p.fetchStatus,isPending:m,isSuccess:N==="success",isError:h,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:d,isRefetching:d&&!m,isLoadingError:h&&!_,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:h&&_,isStale:Lc(t,n),refetch:this.refetch,promise:j(this,nn),isEnabled:kt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=H=>{T.status==="error"?H.reject(T.error):T.data!==void 0&&H.resolve(T.data)},S=()=>{const H=A(this,nn,T.promise=gu());C(H)},R=j(this,nn);switch(R.status){case"pending":t.queryHash===r.queryHash&&C(R);break;case"fulfilled":(T.status==="error"||T.data!==R.value)&&S();break;case"rejected":(T.status!=="error"||T.error!==R.reason)&&S();break}}return T}updateResult(){const t=j(this,Ge),n=this.createResult(j(this,se),this.options);if(A(this,wr,j(this,se).state),A(this,ms,this.options),j(this,wr).data!==void 0&&A(this,fs,j(this,se)),el(n,t))return;A(this,Ge,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!j(this,ps).size)return!0;const l=new Set(i??j(this,ps));return this.options.throwOnError&&l.add("error"),Object.keys(j(this,Ge)).some(o=>{const u=o;return j(this,Ge)[u]!==t[u]&&l.has(u)})};G(this,ce,Wp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,ce,wu).call(this)}},it=new WeakMap,se=new WeakMap,Ua=new WeakMap,Ge=new WeakMap,wr=new WeakMap,ms=new WeakMap,nn=new WeakMap,Rn=new WeakMap,La=new WeakMap,hs=new WeakMap,fs=new WeakMap,Nr=new WeakMap,kr=new WeakMap,On=new WeakMap,ps=new WeakMap,ce=new WeakSet,ta=function(t){G(this,ce,Su).call(this);let n=j(this,se).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tt)),n},yu=function(){G(this,ce,Nu).call(this);const t=Gn(this.options.staleTime,j(this,se));if(Rr||j(this,Ge).isStale||!fu(t))return;const r=Ap(j(this,Ge).dataUpdatedAt,t)+1;A(this,Nr,xr.setTimeout(()=>{j(this,Ge).isStale||this.updateResult()},r))},bu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,se)):this.options.refetchInterval)??!1},ju=function(t){G(this,ce,ku).call(this),A(this,On,t),!(Rr||kt(this.options.enabled,j(this,se))===!1||!fu(j(this,On))||j(this,On)===0)&&A(this,kr,xr.setInterval(()=>{(this.options.refetchIntervalInBackground||Uc.isFocused())&&G(this,ce,ta).call(this)},j(this,On)))},wu=function(){G(this,ce,yu).call(this),G(this,ce,ju).call(this,G(this,ce,bu).call(this))},Nu=function(){j(this,Nr)&&(xr.clearTimeout(j(this,Nr)),A(this,Nr,void 0))},ku=function(){j(this,kr)&&(xr.clearInterval(j(this,kr)),A(this,kr,void 0))},Su=function(){const t=j(this,it).getQueryCache().build(j(this,it),this.options);if(t===j(this,se))return;const n=j(this,se);A(this,se,t),A(this,Ua,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Wp=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(j(this,Ge))}),j(this,it).getQueryCache().notify({query:j(this,se),type:"observerResultsUpdated"})})},oh);function j0(e,t){return kt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pm(e,t){return j0(e,t)||e.state.data!==void 0&&Cu(e,t,t.refetchOnMount)}function Cu(e,t,n){if(kt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Lc(e,t)}return!1}function Tm(e,t,n,r){return(e!==t||kt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Lc(e,n)}function Lc(e,t){return kt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function w0(e,t){return!el(e.getCurrentResult(),t)}function Mm(e){return{onFetch:(t,n)=>{var f,p,g,v,y;const r=t.options,a=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let b=!1;const N=m=>{h0(m,()=>t.signal,()=>b=!0)},x=Lp(t.options,t.fetchOptions),d=async(m,h,k)=>{if(b)return Promise.reject();if(h==null&&m.pages.length)return Promise.resolve(m);const F=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:h,direction:k?"backward":"forward",meta:t.options.meta};return N(S),S})(),T=await x(F),{maxPages:U}=t.options,C=k?m0:d0;return{pages:C(m.pages,T,U),pageParams:C(m.pageParams,h,U)}};if(a&&i.length){const m=a==="backward",h=m?N0:Fm,k={pages:i,pageParams:l},_=h(r,k);o=await d(k,_,m)}else{const m=e??i.length;do{const h=u===0?l[0]??r.initialPageParam:Fm(r,o);if(u>0&&h==null)break;o=await d(o,h),u++}while(u<m)}return o};t.options.persister?t.fetchFn=()=>{var b,N;return(N=(b=t.options).persister)==null?void 0:N.call(b,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Fm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function N0(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var $a,Ht,Xe,Sr,Qt,Nn,uh,k0=(uh=class extends qp{constructor(t){super();W(this,Qt);W(this,$a);W(this,Ht);W(this,Xe);W(this,Sr);A(this,$a,t.client),this.mutationId=t.mutationId,A(this,Xe,t.mutationCache),A(this,Ht,[]),this.state=t.state||Hp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Ht).includes(t)||(j(this,Ht).push(t),this.clearGcTimeout(),j(this,Xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,Ht,j(this,Ht).filter(n=>n!==t)),this.scheduleGc(),j(this,Xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Ht).length||(this.state.status==="pending"?this.scheduleGc():j(this,Xe).remove(this))}continue(){var t;return((t=j(this,Sr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,u,c,f,p,g,v,y,b,N,x,d,m,h,k,_,F,T,U;const n=()=>{G(this,Qt,Nn).call(this,{type:"continue"})},r={client:j(this,$a),meta:this.options.meta,mutationKey:this.options.mutationKey};A(this,Sr,Bp({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,S)=>{G(this,Qt,Nn).call(this,{type:"failed",failureCount:C,error:S})},onPause:()=>{G(this,Qt,Nn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Xe).canRun(this)}));const a=this.state.status==="pending",i=!j(this,Sr).canStart();try{if(a)n();else{G(this,Qt,Nn).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=j(this,Xe).config).onMutate)==null?void 0:o.call(l,t,this,r));const S=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));S!==this.state.context&&G(this,Qt,Nn).call(this,{type:"pending",context:S,variables:t,isPaused:i})}const C=await j(this,Sr).start();return await((p=(f=j(this,Xe).config).onSuccess)==null?void 0:p.call(f,C,t,this.state.context,this,r)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,C,t,this.state.context,r)),await((b=(y=j(this,Xe).config).onSettled)==null?void 0:b.call(y,C,null,this.state.variables,this.state.context,this,r)),await((x=(N=this.options).onSettled)==null?void 0:x.call(N,C,null,t,this.state.context,r)),G(this,Qt,Nn).call(this,{type:"success",data:C}),C}catch(C){try{await((m=(d=j(this,Xe).config).onError)==null?void 0:m.call(d,C,t,this.state.context,this,r))}catch(S){Promise.reject(S)}try{await((k=(h=this.options).onError)==null?void 0:k.call(h,C,t,this.state.context,r))}catch(S){Promise.reject(S)}try{await((F=(_=j(this,Xe).config).onSettled)==null?void 0:F.call(_,void 0,C,this.state.variables,this.state.context,this,r))}catch(S){Promise.reject(S)}try{await((U=(T=this.options).onSettled)==null?void 0:U.call(T,void 0,C,t,this.state.context,r))}catch(S){Promise.reject(S)}throw G(this,Qt,Nn).call(this,{type:"error",error:C}),C}finally{j(this,Xe).runNext(this)}}},$a=new WeakMap,Ht=new WeakMap,Xe=new WeakMap,Sr=new WeakMap,Qt=new WeakSet,Nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),De.batch(()=>{j(this,Ht).forEach(r=>{r.onMutationUpdate(t)}),j(this,Xe).notify({mutation:this,type:"updated",action:t})})},uh);function Hp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rn,Dt,Ba,ch,S0=(ch=class extends Ls{constructor(t={}){super();W(this,rn);W(this,Dt);W(this,Ba);this.config=t,A(this,rn,new Set),A(this,Dt,new Map),A(this,Ba,0)}build(t,n,r){const a=new k0({client:t,mutationCache:this,mutationId:++Ka(this,Ba)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){j(this,rn).add(t);const n=hi(t);if(typeof n=="string"){const r=j(this,Dt).get(n);r?r.push(t):j(this,Dt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(j(this,rn).delete(t)){const n=hi(t);if(typeof n=="string"){const r=j(this,Dt).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&j(this,Dt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=hi(t);if(typeof n=="string"){const r=j(this,Dt).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=hi(t);if(typeof n=="string"){const a=(r=j(this,Dt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{j(this,rn).forEach(t=>{this.notify({type:"removed",mutation:t})}),j(this,rn).clear(),j(this,Dt).clear()})}getAll(){return Array.from(j(this,rn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>km(n,r))}findAll(t={}){return this.getAll().filter(n=>km(t,n))}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return De.batch(()=>Promise.all(t.map(n=>n.continue().catch(tt))))}},rn=new WeakMap,Dt=new WeakMap,Ba=new WeakMap,ch);function hi(e){var t;return(t=e.options.scope)==null?void 0:t.id}var sn,In,lt,an,cn,Ci,_u,dh,C0=(dh=class extends Ls{constructor(n,r){super();W(this,cn);W(this,sn);W(this,In);W(this,lt);W(this,an);A(this,sn,n),this.setOptions(r),this.bindMethods(),G(this,cn,Ci).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=j(this,sn).defaultMutationOptions(n),el(this.options,r)||j(this,sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,lt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Or(r.mutationKey)!==Or(this.options.mutationKey)?this.reset():((a=j(this,lt))==null?void 0:a.state.status)==="pending"&&j(this,lt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,lt))==null||n.removeObserver(this)}onMutationUpdate(n){G(this,cn,Ci).call(this),G(this,cn,_u).call(this,n)}getCurrentResult(){return j(this,In)}reset(){var n;(n=j(this,lt))==null||n.removeObserver(this),A(this,lt,void 0),G(this,cn,Ci).call(this),G(this,cn,_u).call(this)}mutate(n,r){var a;return A(this,an,r),(a=j(this,lt))==null||a.removeObserver(this),A(this,lt,j(this,sn).getMutationCache().build(j(this,sn),this.options)),j(this,lt).addObserver(this),j(this,lt).execute(n)}},sn=new WeakMap,In=new WeakMap,lt=new WeakMap,an=new WeakMap,cn=new WeakSet,Ci=function(){var r;const n=((r=j(this,lt))==null?void 0:r.state)??Hp();A(this,In,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_u=function(n){De.batch(()=>{var r,a,i,l,o,u,c,f;if(j(this,an)&&this.hasListeners()){const p=j(this,In).variables,g=j(this,In).context,v={client:j(this,sn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(a=(r=j(this,an)).onSuccess)==null||a.call(r,n.data,p,g,v)}catch(y){Promise.reject(y)}try{(l=(i=j(this,an)).onSettled)==null||l.call(i,n.data,null,p,g,v)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(u=(o=j(this,an)).onError)==null||u.call(o,n.error,p,g,v)}catch(y){Promise.reject(y)}try{(f=(c=j(this,an)).onSettled)==null||f.call(c,void 0,n.error,p,g,v)}catch(y){Promise.reject(y)}}}this.listeners.forEach(p=>{p(j(this,In))})})},dh),Vt,mh,_0=(mh=class extends Ls{constructor(t={}){super();W(this,Vt);this.config=t,A(this,Vt,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??Ic(a,n);let l=this.get(i);return l||(l=new y0({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){j(this,Vt).has(t.queryHash)||(j(this,Vt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,Vt).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,Vt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Vt).get(t)}getAll(){return[...j(this,Vt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Nm(t,r)):n}notify(t){De.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vt=new WeakMap,mh),Ee,Dn,An,xs,gs,Un,vs,ys,hh,E0=(hh=class{constructor(e={}){W(this,Ee);W(this,Dn);W(this,An);W(this,xs);W(this,gs);W(this,Un);W(this,vs);W(this,ys);A(this,Ee,e.queryCache||new _0),A(this,Dn,e.mutationCache||new S0),A(this,An,e.defaultOptions||{}),A(this,xs,new Map),A(this,gs,new Map),A(this,Un,0)}mount(){Ka(this,Un)._++,j(this,Un)===1&&(A(this,vs,Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Ee).onFocus())})),A(this,ys,tl.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Ee).onOnline())})))}unmount(){var e,t;Ka(this,Un)._--,j(this,Un)===0&&((e=j(this,vs))==null||e.call(this),A(this,vs,void 0),(t=j(this,ys))==null||t.call(this),A(this,ys,void 0))}isFetching(e){return j(this,Ee).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Dn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Ee).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=j(this,Ee).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return j(this,Ee).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=j(this,Ee).get(r.queryHash),i=a==null?void 0:a.state.data,l=o0(t,i);if(l!==void 0)return j(this,Ee).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return De.batch(()=>j(this,Ee).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Ee).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,Ee);De.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,Ee);return De.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=De.batch(()=>j(this,Ee).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(tt).catch(tt)}invalidateQueries(e,t={}){return De.batch(()=>(j(this,Ee).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=De.batch(()=>j(this,Ee).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(tt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,Ee).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tt).catch(tt)}fetchInfiniteQuery(e){return e.behavior=Mm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tt).catch(tt)}ensureInfiniteQueryData(e){return e.behavior=Mm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tl.isOnline()?j(this,Dn).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Ee)}getMutationCache(){return j(this,Dn)}getDefaultOptions(){return j(this,An)}setDefaultOptions(e){A(this,An,e)}setQueryDefaults(e,t){j(this,xs).set(Or(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,xs).values()],n={};return t.forEach(r=>{Ma(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){j(this,gs).set(Or(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,gs).values()],n={};return t.forEach(r=>{Ma(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,An).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ic(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,An).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,Ee).clear(),j(this,Dn).clear()}},Ee=new WeakMap,Dn=new WeakMap,An=new WeakMap,xs=new WeakMap,gs=new WeakMap,Un=new WeakMap,vs=new WeakMap,ys=new WeakMap,hh),Qp=w.createContext(void 0),vn=e=>{const t=w.useContext(Qp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},P0=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Qp.Provider,{value:e,children:t})),Vp=w.createContext(!1),T0=()=>w.useContext(Vp);Vp.Provider;function M0(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var F0=w.createContext(M0()),R0=()=>w.useContext(F0),O0=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Ac(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},I0=e=>{w.useEffect(()=>{e.clearReset()},[e])},D0=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||Ac(n,[e.error,r])),A0=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},U0=(e,t)=>e.isLoading&&e.isFetching&&!t,L0=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $0(e,t,n){var g,v,y,b;const r=T0(),a=R0(),i=vn(),l=i.defaultQueryOptions(e);(v=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,l);const o=i.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",A0(l),O0(l,a,o),I0(a);const u=!i.getQueryCache().get(l.queryHash),[c]=w.useState(()=>new t(i,l)),f=c.getOptimisticResult(l),p=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(N=>{const x=p?c.subscribe(De.batchCalls(N)):tt;return c.updateResult(),x},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(l)},[l,c]),L0(l,f))throw Rm(l,c,a);if(D0({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:o,suspense:l.suspense}))throw f.error;if((b=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,l,f),l.experimental_prefetchInRender&&!Rr&&U0(f,r)){const N=u?Rm(l,c,a):o==null?void 0:o.promise;N==null||N.catch(tt).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?f:c.trackResult(f)}function te(e,t){return $0(e,b0)}function pe(e,t){const n=vn(),[r]=w.useState(()=>new C0(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const a=w.useSyncExternalStore(w.useCallback(l=>r.subscribe(De.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=w.useCallback((l,o)=>{r.mutate(l,o).catch(tt)},[r]);if(a.error&&Ac(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function B0(){return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Your Moving Company"}),s.jsx("p",{className:"text-xl text-center text-gray-600 mb-12",children:"Professional moving services you can trust"}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(fe,{to:"/estimate",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Get Quote"}),s.jsx(fe,{to:"/login",className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Login"})]})]})})}const Kp="http://localhost:8000";let Fa=null,Es=null,Ks=null;function Jp(e,t){Fa=e,Es=t,localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t)}function Zp(){Fa=null,Es=null,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}typeof window<"u"&&(Fa=localStorage.getItem("accessToken"),Es=localStorage.getItem("refreshToken"));async function q0(){if(Ks)return Ks;if(!Es)throw new Error("No refresh token");return Ks=(async()=>{try{const e=await fetch(`${Kp}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:Es})});if(!e.ok)throw new Error("Refresh failed");const t=await e.json();return Jp(t.accessToken,t.refreshToken),t.accessToken}finally{Ks=null}})(),Ks}async function Z(e,t={}){const n=`${Kp}${e}`,r={};t.headers&&(t.headers instanceof Headers?t.headers.forEach((l,o)=>{r[o]=l}):Array.isArray(t.headers)?t.headers.forEach(([l,o])=>{r[l]=o}):Object.assign(r,t.headers));const a={"Content-Type":"application/json",...r};Fa&&(a.Authorization=`Bearer ${Fa}`);let i=await fetch(n,{...t,headers:a});if(i.status===401&&Es&&!r.Authorization)try{const l=await q0();a.Authorization=`Bearer ${l}`,i=await fetch(n,{...t,headers:a})}catch(l){throw Zp(),n.includes("/bookings/public")||(window.location.href="/#/login"),l}if(!i.ok){const l=await i.json().catch(()=>({message:"Request failed"}));if(console.error("API Error:",l),console.error("Error detail:",l.detail),i.status===422&&Array.isArray(l.detail)){const o=l.detail.map(u=>`${u.loc.join(".")}: ${u.msg}`).join(", ");throw new Error(`Validation error: ${o}`)}if(i.status===422&&l.detail&&!Array.isArray(l.detail)&&typeof l.detail=="object"){const o=l.detail.msg||l.detail.message||JSON.stringify(l.detail);throw new Error(`Validation error: ${o}`)}if(l.detail&&typeof l.detail=="object"&&l.detail!==null){const o=l.detail.message||l.message||`HTTP ${i.status}`;throw new Error(o)}throw l.detail&&typeof l.detail=="string"?new Error(l.detail):(console.error("Unhandled error format:",l),new Error(l.message||`HTTP ${i.status}: ${JSON.stringify(l)}`))}return i.json()}var le;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},e.find=(a,i)=>{for(const l of a)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(le||(le={}));var Om;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Om||(Om={}));const q=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cn=e=>{switch(typeof e){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(e)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(e)?q.array:e===null?q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?q.promise:typeof Map<"u"&&e instanceof Map?q.map:typeof Set<"u"&&e instanceof Set?q.set:typeof Date<"u"&&e instanceof Date?q.date:q.object;default:return q.unknown}},I=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let o=r,u=0;for(;u<l.path.length;){const c=l.path[u];u===l.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(l))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return a(this),r}static assert(t){if(!(t instanceof pn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}pn.create=e=>new pn(e);const Eu=(e,t)=>{let n;switch(e.code){case I.invalid_type:e.received===q.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,le.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${le.joinValues(e.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${le.joinValues(e.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${le.joinValues(e.options)}, received '${e.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:le.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case I.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case I.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=t.defaultError,le.assertNever(e)}return{message:n}};let z0=Eu;function W0(){return z0}const H0=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)o=c(l,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function L(e,t){const n=W0(),r=H0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Eu?void 0:Eu].filter(a=>!!a)});e.common.issues.push(r)}class yt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Q;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,l=await a.value;r.push({key:i,value:l})}return yt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return Q;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(r[i.value]=l.value)}return{status:t.value,value:r}}}const Q=Object.freeze({status:"aborted"}),na=e=>({status:"dirty",value:e}),Mt=e=>({status:"valid",value:e}),Im=e=>e.status==="aborted",Dm=e=>e.status==="dirty",Ps=e=>e.status==="valid",nl=e=>typeof Promise<"u"&&e instanceof Promise;var z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(z||(z={}));class nr{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Am=(e,t)=>{if(Ps(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new pn(e.common.issues);return this._error=n,this._error}}};function ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(l,o)=>{const{message:u}=e;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??r??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:u??n??o.defaultError}},description:a}}class ie{get description(){return this._def.description}_getType(t){return Cn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Cn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new yt,ctx:{common:t.parent.common,data:t.data,parsedType:Cn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(nl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cn(t)},a=this._parseSync({data:t,path:r.path,parent:r});return Am(r,a)}"~validate"(t){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return Ps(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>Ps(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cn(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(nl(a)?a:Promise.resolve(a));return Am(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const l=t(a),o=()=>i.addIssue({code:I.custom,...r(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Fs({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xn.create(this,this._def)}nullable(){return Rs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yt.create(this)}promise(){return il.create(this,this._def)}or(t){return sl.create([this,t],this._def)}and(t){return al.create(this,t,this._def)}transform(t){return new Fs({...ne(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Tu({...ne(this._def),innerType:this,defaultValue:n,typeName:V.ZodDefault})}brand(){return new fb({typeName:V.ZodBranded,type:this,...ne(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Mu({...ne(this._def),innerType:this,catchValue:n,typeName:V.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return $c.create(this,t)}readonly(){return Fu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q0=/^c[^\s-]{8,}$/i,V0=/^[0-9a-z]+$/,K0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,J0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Z0=/^[a-z0-9_-]{21}$/i,Y0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,G0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fo;const tb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ab=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ib=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lb=new RegExp(`^${Yp}$`);function Gp(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function ob(e){return new RegExp(`^${Gp(e)}$`)}function ub(e){let t=`${Yp}T${Gp(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function cb(e,t){return!!((t==="v4"||!t)&&tb.test(e)||(t==="v6"||!t)&&rb.test(e))}function db(e,t){if(!Y0.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function mb(e,t){return!!((t==="v4"||!t)&&nb.test(e)||(t==="v6"||!t)&&sb.test(e))}class qn extends ie{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==q.string){const i=this._getOrReturnCtx(t);return L(i,{code:I.invalid_type,expected:q.string,received:i.parsedType}),Q}const r=new yt;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),L(a,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),L(a,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,o=t.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(t,a),l?L(a,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&L(a,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")X0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"email",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")fo||(fo=new RegExp(eb,"u")),fo.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"emoji",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")J0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"uuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Z0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"nanoid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Q0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"cuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")V0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"cuid2",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")K0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"ulid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),L(a,{validation:"url",code:I.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"regex",code:I.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?ub(i).test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?lb.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?ob(i).test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{code:I.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?G0.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"duration",code:I.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?cb(t.data,i.version)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"ip",code:I.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?db(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"jwt",code:I.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?mb(t.data,i.version)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"cidr",code:I.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?ab.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"base64",code:I.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?ib.test(t.data)||(a=this._getOrReturnCtx(t,a),L(a,{validation:"base64url",code:I.invalid_string,message:i.message}),r.dirty()):le.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:I.invalid_string,...z.errToObj(r)})}_addCheck(t){return new qn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...z.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...z.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...z.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...z.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...z.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...z.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...z.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...z.errToObj(n)})}nonempty(t){return this.min(1,z.errToObj(t))}trim(){return new qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}qn.create=e=>new qn({checks:[],typeName:V.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ne(e)});function hb(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return i%l/10**a}class Ts extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==q.number){const i=this._getOrReturnCtx(t);return L(i,{code:I.invalid_type,expected:q.number,received:i.parsedType}),Q}let r;const a=new yt;for(const i of this._def.checks)i.kind==="int"?le.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),L(r,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?hb(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),L(r,{code:I.not_finite,message:i.message}),a.dirty()):le.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,z.toString(n))}setLimit(t,n,r,a){return new Ts({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:z.toString(a)}]})}_addCheck(t){return new Ts({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:z.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:z.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&le.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ts.create=e=>new Ts({checks:[],typeName:V.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ne(e)});class Ra extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==q.bigint)return this._getInvalidInput(t);let r;const a=new yt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),L(r,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):le.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return L(n,{code:I.invalid_type,expected:q.bigint,received:n.parsedType}),Q}gte(t,n){return this.setLimit("min",t,!0,z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,z.toString(n))}setLimit(t,n,r,a){return new Ra({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:z.toString(a)}]})}_addCheck(t){return new Ra({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:z.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ra.create=e=>new Ra({checks:[],typeName:V.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ne(e)});class Um extends ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==q.boolean){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.boolean,received:r.parsedType}),Q}return Mt(t.data)}}Um.create=e=>new Um({typeName:V.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ne(e)});class rl extends ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==q.date){const i=this._getOrReturnCtx(t);return L(i,{code:I.invalid_type,expected:q.date,received:i.parsedType}),Q}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return L(i,{code:I.invalid_date}),Q}const r=new yt;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),L(a,{code:I.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),L(a,{code:I.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):le.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new rl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:z.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:z.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}rl.create=e=>new rl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:V.ZodDate,...ne(e)});class Lm extends ie{_parse(t){if(this._getType(t)!==q.symbol){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.symbol,received:r.parsedType}),Q}return Mt(t.data)}}Lm.create=e=>new Lm({typeName:V.ZodSymbol,...ne(e)});class $m extends ie{_parse(t){if(this._getType(t)!==q.undefined){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.undefined,received:r.parsedType}),Q}return Mt(t.data)}}$m.create=e=>new $m({typeName:V.ZodUndefined,...ne(e)});class Bm extends ie{_parse(t){if(this._getType(t)!==q.null){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.null,received:r.parsedType}),Q}return Mt(t.data)}}Bm.create=e=>new Bm({typeName:V.ZodNull,...ne(e)});class qm extends ie{constructor(){super(...arguments),this._any=!0}_parse(t){return Mt(t.data)}}qm.create=e=>new qm({typeName:V.ZodAny,...ne(e)});class zm extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mt(t.data)}}zm.create=e=>new zm({typeName:V.ZodUnknown,...ne(e)});class rr extends ie{_parse(t){const n=this._getOrReturnCtx(t);return L(n,{code:I.invalid_type,expected:q.never,received:n.parsedType}),Q}}rr.create=e=>new rr({typeName:V.ZodNever,...ne(e)});class Wm extends ie{_parse(t){if(this._getType(t)!==q.undefined){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.void,received:r.parsedType}),Q}return Mt(t.data)}}Wm.create=e=>new Wm({typeName:V.ZodVoid,...ne(e)});class Yt extends ie{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==q.array)return L(n,{code:I.invalid_type,expected:q.array,received:n.parsedType}),Q;if(a.exactLength!==null){const l=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(l||o)&&(L(n,{code:l?I.too_big:I.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(L(n,{code:I.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(L(n,{code:I.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,o)=>a.type._parseAsync(new nr(n,l,n.path,o)))).then(l=>yt.mergeArray(r,l));const i=[...n.data].map((l,o)=>a.type._parseSync(new nr(n,l,n.path,o)));return yt.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Yt({...this._def,minLength:{value:t,message:z.toString(n)}})}max(t,n){return new Yt({...this._def,maxLength:{value:t,message:z.toString(n)}})}length(t,n){return new Yt({...this._def,exactLength:{value:t,message:z.toString(n)}})}nonempty(t){return this.min(1,t)}}Yt.create=(e,t)=>new Yt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...ne(t)});function zr(e){if(e instanceof Fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Xn.create(zr(r))}return new Fe({...e._def,shape:()=>t})}else return e instanceof Yt?new Yt({...e._def,type:zr(e.element)}):e instanceof Xn?Xn.create(zr(e.unwrap())):e instanceof Rs?Rs.create(zr(e.unwrap())):e instanceof Ir?Ir.create(e.items.map(t=>zr(t))):e}class Fe extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=le.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==q.object){const c=this._getOrReturnCtx(t);return L(c,{code:I.invalid_type,expected:q.object,received:c.parsedType}),Q}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof rr&&this._def.unknownKeys==="strip"))for(const c in a.data)l.includes(c)||o.push(c);const u=[];for(const c of l){const f=i[c],p=a.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new nr(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof rr){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of o)u.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(c==="strict")o.length>0&&(L(a,{code:I.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of o){const p=a.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new nr(a,p,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const p=await f.key,g=await f.value;c.push({key:p,value:g,alwaysSet:f.alwaysSet})}return c}).then(c=>yt.mergeObjectSync(r,c)):yt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return z.errToObj,new Fe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:z.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Fe({...this._def,unknownKeys:"strip"})}passthrough(){return new Fe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Fe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Fe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:V.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Fe({...this._def,catchall:t})}pick(t){const n={};for(const r of le.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}omit(t){const n={};for(const r of le.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}deepPartial(){return zr(this)}partial(t){const n={};for(const r of le.objectKeys(this.shape)){const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}return new Fe({...this._def,shape:()=>n})}required(t){const n={};for(const r of le.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Xn;)i=i._def.innerType;n[r]=i}return new Fe({...this._def,shape:()=>n})}keyof(){return Xp(le.objectKeys(this.shape))}}Fe.create=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strip",catchall:rr.create(),typeName:V.ZodObject,...ne(t)});Fe.strictCreate=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strict",catchall:rr.create(),typeName:V.ZodObject,...ne(t)});Fe.lazycreate=(e,t)=>new Fe({shape:e,unknownKeys:"strip",catchall:rr.create(),typeName:V.ZodObject,...ne(t)});class sl extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new pn(o.ctx.common.issues));return L(n,{code:I.invalid_union,unionErrors:l}),Q}if(n.common.async)return Promise.all(r.map(async i=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(u=>new pn(u));return L(n,{code:I.invalid_union,unionErrors:o}),Q}}get options(){return this._def.options}}sl.create=(e,t)=>new sl({options:e,typeName:V.ZodUnion,...ne(t)});function Pu(e,t){const n=Cn(e),r=Cn(t);if(e===t)return{valid:!0,data:e};if(n===q.object&&r===q.object){const a=le.objectKeys(t),i=le.objectKeys(e).filter(o=>a.indexOf(o)!==-1),l={...e,...t};for(const o of i){const u=Pu(e[o],t[o]);if(!u.valid)return{valid:!1};l[o]=u.data}return{valid:!0,data:l}}else if(n===q.array&&r===q.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const l=e[i],o=t[i],u=Pu(l,o);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return n===q.date&&r===q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class al extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,l)=>{if(Im(i)||Im(l))return Q;const o=Pu(i.value,l.value);return o.valid?((Dm(i)||Dm(l))&&n.dirty(),{status:n.value,value:o.data}):(L(r,{code:I.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}al.create=(e,t,n)=>new al({left:e,right:t,typeName:V.ZodIntersection,...ne(n)});class Ir extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.array)return L(r,{code:I.invalid_type,expected:q.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return L(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(L(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((l,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new nr(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>yt.mergeArray(n,l)):yt.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ir({...this._def,rest:t})}}Ir.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ir({items:e,typeName:V.ZodTuple,rest:null,...ne(t)})};class Hm extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.map)return L(r,{code:I.invalid_type,expected:q.map,received:r.parsedType}),Q;const a=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([o,u],c)=>({key:a._parse(new nr(r,o,r.path,[c,"key"])),value:i._parse(new nr(r,u,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of l){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return Q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of l){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return Q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}}}}Hm.create=(e,t,n)=>new Hm({valueType:t,keyType:e,typeName:V.ZodMap,...ne(n)});class Oa extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.set)return L(r,{code:I.invalid_type,expected:q.set,received:r.parsedType}),Q;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(L(r,{code:I.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(L(r,{code:I.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function l(u){const c=new Set;for(const f of u){if(f.status==="aborted")return Q;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((u,c)=>i._parse(new nr(r,u,r.path,c)));return r.common.async?Promise.all(o).then(u=>l(u)):l(o)}min(t,n){return new Oa({...this._def,minSize:{value:t,message:z.toString(n)}})}max(t,n){return new Oa({...this._def,maxSize:{value:t,message:z.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Oa.create=(e,t)=>new Oa({valueType:e,minSize:null,maxSize:null,typeName:V.ZodSet,...ne(t)});class Qm extends ie{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qm.create=(e,t)=>new Qm({getter:e,typeName:V.ZodLazy,...ne(t)});class Vm extends ie{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return L(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}}Vm.create=(e,t)=>new Vm({value:e,typeName:V.ZodLiteral,...ne(t)});function Xp(e,t){return new Ms({values:e,typeName:V.ZodEnum,...ne(t)})}class Ms extends ie{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return L(n,{expected:le.joinValues(r),received:n.parsedType,code:I.invalid_type}),Q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return L(n,{received:n.data,code:I.invalid_enum_value,options:r}),Q}return Mt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ms.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ms.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ms.create=Xp;class Km extends ie{_parse(t){const n=le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==q.string&&r.parsedType!==q.number){const a=le.objectValues(n);return L(r,{expected:le.joinValues(a),received:r.parsedType,code:I.invalid_type}),Q}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=le.objectValues(n);return L(r,{received:r.data,code:I.invalid_enum_value,options:a}),Q}return Mt(t.data)}get enum(){return this._def.values}}Km.create=(e,t)=>new Km({values:e,typeName:V.ZodNativeEnum,...ne(t)});class il extends ie{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==q.promise&&n.common.async===!1)return L(n,{code:I.invalid_type,expected:q.promise,received:n.parsedType}),Q;const r=n.parsedType===q.promise?n.data:Promise.resolve(n.data);return Mt(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}il.create=(e,t)=>new il({type:e,typeName:V.ZodPromise,...ne(t)});class Fs extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:l=>{L(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async o=>{if(n.value==="aborted")return Q;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?Q:u.status==="dirty"||n.value==="dirty"?na(u.value):u});{if(n.value==="aborted")return Q;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?Q:o.status==="dirty"||n.value==="dirty"?na(o.value):o}}if(a.type==="refinement"){const l=o=>{const u=a.refinement(o,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),l(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),l(o.value).then(()=>({status:n.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ps(l))return Q;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ps(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:n.value,value:o})):Q);le.assertNever(a)}}Fs.create=(e,t,n)=>new Fs({schema:e,typeName:V.ZodEffects,effect:t,...ne(n)});Fs.createWithPreprocess=(e,t,n)=>new Fs({schema:t,effect:{type:"preprocess",transform:e},typeName:V.ZodEffects,...ne(n)});class Xn extends ie{_parse(t){return this._getType(t)===q.undefined?Mt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xn.create=(e,t)=>new Xn({innerType:e,typeName:V.ZodOptional,...ne(t)});class Rs extends ie{_parse(t){return this._getType(t)===q.null?Mt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Rs.create=(e,t)=>new Rs({innerType:e,typeName:V.ZodNullable,...ne(t)});class Tu extends ie{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tu.create=(e,t)=>new Tu({innerType:e,typeName:V.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ne(t)});class Mu extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nl(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mu.create=(e,t)=>new Mu({innerType:e,typeName:V.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ne(t)});class Jm extends ie{_parse(t){if(this._getType(t)!==q.nan){const r=this._getOrReturnCtx(t);return L(r,{code:I.invalid_type,expected:q.nan,received:r.parsedType}),Q}return{status:"valid",value:t.data}}}Jm.create=e=>new Jm({typeName:V.ZodNaN,...ne(e)});class fb extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class $c extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Q:i.status==="dirty"?(n.dirty(),na(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new $c({in:t,out:n,typeName:V.ZodPipeline})}}class Fu extends ie{_parse(t){const n=this._def.innerType._parse(t),r=a=>(Ps(a)&&(a.value=Object.freeze(a.value)),a);return nl(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Fu.create=(e,t)=>new Fu({innerType:e,typeName:V.ZodReadonly,...ne(t)});var V;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(V||(V={}));const _n=qn.create,Zm=Ts.create;rr.create;Yt.create;const ex=Fe.create;sl.create;al.create;Ir.create;Ms.create;il.create;Xn.create;Rs.create;const pb=ex({email:_n().email(),password:_n().min(1)});ex({slotId:Zm(),customerName:_n().min(1),customerEmail:_n().email(),customerPhone:_n().min(1),moveFromAddress:_n().min(1),moveToAddress:_n().min(1),notes:_n().optional(),depositAmountCents:Zm().optional()});async function xb(e,t){const n=pb.parse({email:e,password:t}),r=await Z("/auth/login",{method:"POST",body:JSON.stringify(n)});return Jp(r.accessToken,r.refreshToken),r}function Rl(){Zp()}async function Ol(){return Z("/auth/me")}function gb(){var o;const e=ht(),[t,n]=w.useState(""),[r,a]=w.useState(""),i=pe({mutationFn:()=>xb(t,r),onSuccess:u=>{const c=u.user.role;c==="customer"?e("/customer/availability"):c==="sales"?e("/sales/bookings"):c==="mover"?e("/mover/dispatch"):c==="admin"&&e("/admin/users")}}),l=u=>{u.preventDefault(),i.mutate()};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Login"}),s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:u=>n(u.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),s.jsx("input",{type:"password",value:r,onChange:u=>a(u.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),i.isError&&s.jsx("div",{className:"mb-4 text-red-600 text-sm",children:((o=i.error)==null?void 0:o.message)||"Invalid email or password"}),s.jsx("button",{type:"submit",disabled:i.isPending,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i.isPending?"Logging in...":"Login"})]})]})})}async function vb(e,t){return Z(`/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function tx(e){return Z("/bookings",{method:"POST",body:JSON.stringify(e)})}async function yb(e){return Z("/bookings/public",{method:"POST",body:JSON.stringify(e)})}async function bb(){return Z("/bookings/me")}async function jb(){return Z("/bookings/sales")}async function nx(){return Z("/bookings")}async function wb(e,t){return Z(`/bookings/${e}/reschedule`,{method:"POST",body:JSON.stringify(t)})}async function Nb(e){return Z(`/bookings/${e}`,{method:"DELETE"})}async function rx(e){return Z("/bookings/estimate",{method:"POST",body:JSON.stringify(e)})}function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function qt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Me(e){ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ia(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function kb(e,t){ve(2,arguments);var n=Me(e),r=qt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function yn(e,t){ve(2,arguments);var n=Me(e),r=qt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var l=i.getDate();return a>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function Sb(e,t){ve(2,arguments);var n=Me(e).getTime(),r=qt(t);return new Date(n+r)}var Cb={};function Il(){return Cb}function _b(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ru(e){ve(1,arguments);var t=Me(e);return t.setHours(0,0,0,0),t}function ll(e,t){ve(2,arguments);var n=Ru(e),r=Ru(t);return n.getTime()===r.getTime()}function Eb(e){return ve(1,arguments),e instanceof Date||Ia(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pb(e){if(ve(1,arguments),!Eb(e)&&typeof e!="number")return!1;var t=Me(e);return!isNaN(Number(t))}function ur(e){ve(1,arguments);var t=Me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function sx(e,t){var n;ve(1,arguments);var r=e||{},a=Me(r.start),i=Me(r.end),l=i.getTime();if(!(a.getTime()<=l))throw new RangeError("Invalid interval");var o=[],u=a;u.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=l;)o.push(Me(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return o}function Dl(e){ve(1,arguments);var t=Me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Tb(e,t){ve(2,arguments);var n=qt(t);return Sb(e,-n)}var Mb=864e5;function Fb(e){ve(1,arguments);var t=Me(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/Mb)+1}function ol(e){ve(1,arguments);var t=1,n=Me(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function ax(e){ve(1,arguments);var t=Me(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=ol(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var l=ol(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Rb(e){ve(1,arguments);var t=ax(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=ol(n);return r}var Ob=6048e5;function Ib(e){ve(1,arguments);var t=Me(e),n=ol(t).getTime()-Rb(t).getTime();return Math.round(n/Ob)+1}function ul(e,t){var n,r,a,i,l,o,u,c;ve(1,arguments);var f=Il(),p=qt((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Me(e),v=g.getUTCDay(),y=(v<p?7:0)+v-p;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}function ix(e,t){var n,r,a,i,l,o,u,c;ve(1,arguments);var f=Me(e),p=f.getUTCFullYear(),g=Il(),v=qt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(p+1,0,v),y.setUTCHours(0,0,0,0);var b=ul(y,t),N=new Date(0);N.setUTCFullYear(p,0,v),N.setUTCHours(0,0,0,0);var x=ul(N,t);return f.getTime()>=b.getTime()?p+1:f.getTime()>=x.getTime()?p:p-1}function Db(e,t){var n,r,a,i,l,o,u,c;ve(1,arguments);var f=Il(),p=qt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=ix(e,t),v=new Date(0);v.setUTCFullYear(g,0,p),v.setUTCHours(0,0,0,0);var y=ul(v,t);return y}var Ab=6048e5;function Ub(e,t){ve(1,arguments);var n=Me(e),r=ul(n,t).getTime()-Db(n,t).getTime();return Math.round(r/Ab)+1}function de(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var wn={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return de(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):de(r+1,2)},d:function(t,n){return de(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return de(t.getUTCHours()%12||12,n.length)},H:function(t,n){return de(t.getUTCHours(),n.length)},m:function(t,n){return de(t.getUTCMinutes(),n.length)},s:function(t,n){return de(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,r-3));return de(i,n.length)}},qr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lb={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return wn.y(t,n)},Y:function(t,n,r,a){var i=ix(t,a),l=i>0?i:1-i;if(n==="YY"){var o=l%100;return de(o,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):de(l,n.length)},R:function(t,n){var r=ax(t);return de(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return de(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return de(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return de(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return wn.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return de(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var i=Ub(t,a);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):de(i,n.length)},I:function(t,n,r){var a=Ib(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):de(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):wn.d(t,n)},D:function(t,n,r){var a=Fb(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):de(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return de(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var i=t.getUTCDay(),l=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return de(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return de(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),i;switch(a===12?i=qr.noon:a===0?i=qr.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),i;switch(a>=17?i=qr.evening:a>=12?i=qr.afternoon:a>=4?i=qr.morning:i=qr.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return wn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):wn.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):de(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):de(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):wn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):wn.s(t,n)},S:function(t,n){return wn.S(t,n)},X:function(t,n,r,a){var i=a._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Gm(l);case"XXXX":case"XX":return mr(l);case"XXXXX":case"XXX":default:return mr(l,":")}},x:function(t,n,r,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(n){case"x":return Gm(l);case"xxxx":case"xx":return mr(l);case"xxxxx":case"xxx":default:return mr(l,":")}},O:function(t,n,r,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ym(l,":");case"OOOO":default:return"GMT"+mr(l,":")}},z:function(t,n,r,a){var i=a._originalDate||t,l=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ym(l,":");case"zzzz":default:return"GMT"+mr(l,":")}},t:function(t,n,r,a){var i=a._originalDate||t,l=Math.floor(i.getTime()/1e3);return de(l,n.length)},T:function(t,n,r,a){var i=a._originalDate||t,l=i.getTime();return de(l,n.length)}};function Ym(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var l=t;return n+String(a)+l+de(i,2)}function Gm(e,t){if(e%60===0){var n=e>0?"-":"+";return n+de(Math.abs(e)/60,2)}return mr(e,t)}function mr(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),i=de(Math.floor(a/60),2),l=de(a%60,2);return r+i+n+l}var Xm=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},lx=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},$b=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return Xm(t,n);var l;switch(a){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",Xm(a,n)).replace("{{time}}",lx(i,n))},Bb={p:lx,P:$b},qb=["D","DD"],zb=["YY","YYYY"];function Wb(e){return qb.indexOf(e)!==-1}function Hb(e){return zb.indexOf(e)!==-1}function eh(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vb=function(t,n,r){var a,i=Qb[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function po(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Kb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yb={date:po({formats:Kb,defaultWidth:"full"}),time:po({formats:Jb,defaultWidth:"full"}),dateTime:po({formats:Zb,defaultWidth:"full"})},Gb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xb=function(t,n,r,a){return Gb[t]};function Js(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var ej={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ij=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lj={ordinalNumber:ij,era:Js({values:ej,defaultWidth:"wide"}),quarter:Js({values:tj,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Js({values:nj,defaultWidth:"wide"}),day:Js({values:rj,defaultWidth:"wide"}),dayPeriod:Js({values:sj,defaultWidth:"wide",formattingValues:aj,defaultFormattingWidth:"wide"})};function Zs(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var l=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?uj(o,function(p){return p.test(l)}):oj(o,function(p){return p.test(l)}),c;c=e.valueCallback?e.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;var f=t.slice(l.length);return{value:c,rest:f}}}function oj(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function uj(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function cj(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;var o=t.slice(a.length);return{value:l,rest:o}}}var dj=/^(\d+)(th|st|nd|rd)?/i,mj=/\d+/i,hj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fj={any:[/^b/i,/^(a|c)/i]},pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xj={any:[/1/i,/2/i,/3/i,/4/i]},gj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nj={ordinalNumber:cj({matchPattern:dj,parsePattern:mj,valueCallback:function(t){return parseInt(t,10)}}),era:Zs({matchPatterns:hj,defaultMatchWidth:"wide",parsePatterns:fj,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:pj,defaultMatchWidth:"wide",parsePatterns:xj,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Zs({matchPatterns:gj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any"}),day:Zs({matchPatterns:yj,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:jj,defaultMatchWidth:"any",parsePatterns:wj,defaultParseWidth:"any"})},kj={code:"en-US",formatDistance:Vb,formatLong:Yb,formatRelative:Xb,localize:lj,match:Nj,options:{weekStartsOn:0,firstWeekContainsDate:1}},Sj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_j=/^'([^]*?)'?$/,Ej=/''/g,Pj=/[a-zA-Z]/;function Je(e,t,n){var r,a,i,l,o,u,c,f,p,g,v,y,b,N;ve(2,arguments);var x=String(t),d=Il(),m=(r=(a=void 0)!==null&&a!==void 0?a:d.locale)!==null&&r!==void 0?r:kj,h=qt((i=(l=(o=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&l!==void 0?l:(c=d.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=qt((p=(g=(v=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&v!==void 0?v:d.weekStartsOn)!==null&&g!==void 0?g:(b=d.locale)===null||b===void 0||(N=b.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&p!==void 0?p:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var _=Me(e);if(!Pb(_))throw new RangeError("Invalid time value");var F=_b(_),T=Tb(_,F),U={firstWeekContainsDate:h,weekStartsOn:k,locale:m,_originalDate:_},C=x.match(Cj).map(function(S){var R=S[0];if(R==="p"||R==="P"){var H=Bb[R];return H(S,m.formatLong)}return S}).join("").match(Sj).map(function(S){if(S==="''")return"'";var R=S[0];if(R==="'")return Tj(S);var H=Lb[R];if(H)return Hb(S)&&eh(S,t,String(e)),Wb(S)&&eh(S,t,String(e)),H(T,S,m.localize,U);if(R.match(Pj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return S}).join("");return C}function Tj(e){var t=e.match(_j);return t?t[1].replace(Ej,"'"):e}function ox(e){ve(1,arguments);var t=Me(e),n=t.getDay();return n}function Mj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ou(e,t)}function Fj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cl(e)}function ux(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ux=function(){return!!e})()}function Rj(e,t){if(t&&(Ia(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mj(e)}function Oj(e){var t=ux();return function(){var n,r=cl(e);if(t){var a=cl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rj(this,n)}}function Ij(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function cx(e,t){ve(2,arguments);var n=Me(e),r=Me(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Aj(e,t){ve(2,arguments);var n=qt(t);return kb(e,-n)}function dx(e,t){ve(2,arguments);var n=qt(t);return yn(e,-n)}function Y(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}function ue(e){if(typeof e=="string"){const t=parseFloat(e);return isNaN(t)?0:Math.round(t*100)}return Math.round(e*100)}function mx(e){return e==null?"":e/100}function oe(e){const t=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(t)}function Uj(){const e=ht(),[t]=or(),n=t.get("returnTo"),[r,a]=w.useState({originAddress:"",originLongCarry:"normal",destinationAddress:"",destinationLongCarry:"normal",moveDateIso:new Date().toISOString().split("T")[0],moveType:"apartment",stopCount:1,additionalStops:[],bedroomsWithMattresses:0,boxCount:0,fromStairsFlights:0,toStairsFlights:0,fromHasElevator:!1,toHasElevator:!1,specialItems:[],disassemblyNeeds:"none",packingService:"none",requestedTrucks:1,roomsMoving:1}),[i,l]=w.useState(null),[o,u]=w.useState(!1),[c,f]=w.useState(2),p=async()=>{if(!r.originAddress||!r.destinationAddress){alert("Please enter both origin and destination addresses.");return}u(!0);try{const d=await rx(r);l(d),d.kind==="instant"&&d.options&&f(2)}catch(d){console.error("Estimation error:",d),alert("Error calculating quote. Please check your addresses and try again.")}finally{u(!1)}},g=()=>{a(d=>({...d,stopCount:d.stopCount+1,additionalStops:[...d.additionalStops,{address:"",longCarry:"normal"}]}))},v=d=>{a(m=>{const h=[...m.additionalStops];return h.splice(d,1),{...m,stopCount:m.stopCount-1,additionalStops:h}})},y=(d,m,h)=>{a(k=>{const _=[...k.additionalStops];return _[d]={..._[d],[m]:h},{...k,additionalStops:_}})},b=[{id:"piano",label:"Piano"},{id:"poolTable",label:"Pool Table"},{id:"safe",label:"Safe (over 600 lbs)"},{id:"heavyFurniture",label:"Heavy Furniture (over 600 lbs)"},{id:"artwork",label:"Artwork (over $2000)"}],N=d=>{a(m=>{if(d==="none")return{...m,specialItems:[]};const h=m.specialItems.includes(d)?m.specialItems.filter(k=>k!==d):[...m.specialItems,d];return{...m,specialItems:h}})},x=d=>{if(d.preventDefault(),!i||i.kind==="manual"){alert("Please contact us for a manual quote for this move.");return}sessionStorage.setItem("estimateData",JSON.stringify({...r,quote:i,selectedMoverCount:c})),e(n==="admin"?"/admin/create-booking?fromEstimate=true":n==="sales"?"/sales/create-booking?fromEstimate=true":"/customer/availability")};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[s.jsx("h1",{className:"text-4xl font-extrabold mb-8 text-center text-gray-900",children:"Get Your Move Estimate"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded-2xl shadow-xl space-y-8",children:[s.jsxs("section",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Address Information"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Origin Address"}),s.jsx("input",{type:"text",value:r.originAddress,onChange:d=>a({...r,originAddress:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street, City, State, ZIP",required:!0})]})}),s.jsx("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Destination Address"}),s.jsx("input",{type:"text",value:r.destinationAddress,onChange:d=>a({...r,destinationAddress:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street, City, State, ZIP",required:!0})]})}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block text-lg font-bold text-gray-800",children:"Are you making any other stops?"}),s.jsx("button",{type:"button",onClick:g,className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-bold hover:bg-blue-200",children:"+ Add Stop"})]}),r.additionalStops.map((d,m)=>s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 space-y-4 relative",children:[s.jsx("button",{type:"button",onClick:()=>v(m),className:"absolute top-2 right-2 text-blue-400 hover:text-blue-600",children:""}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-blue-600 uppercase mb-1",children:["Stop ",m+1," Address"]}),s.jsx("input",{type:"text",value:d.address,onChange:h=>y(m,"address",h.target.value),className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street, City, State, ZIP",required:!0})]})]},m))]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Inventory & Logistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Property Type"}),s.jsxs("select",{value:r.moveType,onChange:d=>a({...r,moveType:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"storage",children:"Storage Unit"}),s.jsx("option",{value:"office",children:"Office"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",min:"0",value:r.bedroomsWithMattresses,onChange:d=>a({...r,bedroomsWithMattresses:parseInt(d.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Boxes"}),s.jsx("input",{type:"number",min:"0",value:r.boxCount,onChange:d=>a({...r,boxCount:parseInt(d.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Trucks"}),s.jsx("input",{type:"number",min:"1",max:"5",value:r.requestedTrucks,onChange:d=>a({...r,requestedTrucks:parseInt(d.target.value)||1}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Are You Planning on Moving Any of the Following Items?"}),s.jsx("p",{className:"text-sm text-gray-500 -mt-4 font-bold",children:"Check All That Apply"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.map(d=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-xl hover:bg-blue-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.specialItems.includes(d.id),onChange:()=>N(d.id),className:"w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:d.label})]},d.id)),s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-xl hover:bg-blue-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.specialItems.length===0,onChange:()=>N("none"),className:"w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"None of the above"})]})]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Special Services"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Disassembly & Assembly Needs"}),s.jsxs("select",{value:r.disassemblyNeeds,onChange:d=>a({...r,disassemblyNeeds:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"some",children:"Some (1-3 items)"}),s.jsx("option",{value:"many",children:"Many (4+ items)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Packing Service"}),s.jsxs("select",{value:r.packingService,onChange:d=>a({...r,packingService:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"none",children:"No Packing"}),s.jsx("option",{value:"partial",children:"Partial Packing"}),s.jsx("option",{value:"full",children:"Full Packing"})]})]})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-100",children:s.jsx("button",{type:"button",onClick:p,disabled:o,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-xl hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-200 disabled:opacity-50",children:o?"Calculating...":"Get Instant Quote"})})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-8 space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border-2 border-blue-600",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center justify-between",children:["Your Instant Quote",o&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})]}),(i==null?void 0:i.kind)==="instant"&&i.options?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-2",children:"Select Your Crew Size:"}),i.options.map(d=>s.jsxs("div",{onClick:()=>f(d.moverCount),className:`p-4 rounded-xl border-2 transition-all cursor-pointer ${c===d.moverCount?"bg-blue-600 border-blue-600 text-white shadow-md transform scale-[1.02]":"bg-blue-50 border-blue-100 text-gray-900 hover:border-blue-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("span",{className:`font-bold text-lg ${c===d.moverCount?"text-white":"text-blue-700"}`,children:[d.moverCount," Movers"]}),s.jsxs("span",{className:`text-sm font-semibold ${c===d.moverCount?"text-blue-100":"text-gray-500"}`,children:[(()=>{const m=Math.round(d.etaMinutesRange.low/60),h=Math.round(d.etaMinutesRange.high/60);return h<=m?`${m}-${m+1}`:`${m}-${h}`})()," hrs"]})]}),s.jsxs("div",{className:`text-2xl font-black ${c===d.moverCount?"text-white":"text-gray-900"}`,children:[Y(d.priceRange.low*100)," - ",Y(d.priceRange.high*100)]}),d.transportFee>0&&s.jsxs("div",{className:`text-[10px] mt-1 ${c===d.moverCount?"text-blue-100":"text-gray-400"}`,children:["Includes ",Y(d.transportFee*100)," transport fee"]})]},d.moverCount)),s.jsx("button",{onClick:x,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-200",children:"Book This Move"})]}):(i==null?void 0:i.kind)==="manual"?s.jsxs("div",{className:"p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[s.jsx("p",{className:"text-yellow-800 font-bold mb-2",children:"Manual Quote Required"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["Based on your move details (",i.reason==="officeMove"?"office move":i.reason,"), we need to review this manually to give you an accurate price."]}),s.jsx("button",{className:"w-full mt-4 py-2 bg-yellow-600 text-white rounded-lg font-bold",children:"Request Review"})]}):s.jsx("div",{className:"py-12 text-center text-gray-400",children:s.jsx("p",{children:'Fill out the form and click "Get Instant Quote" to see your pricing options.'})})]}),(i==null?void 0:i.distance)&&s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Move Distance:"}),s.jsxs("span",{className:"font-bold",children:[i.distance.miles.toFixed(1)," miles"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Drive Time:"}),s.jsxs("span",{className:"font-bold",children:[i.distance.driveMinutes," mins"]})]})]})]})})]})]})})}function Lj(){var S;const[e]=or(),t=ht(),n=e.get("startUtc")||"",r=parseInt(e.get("requestedTrucks")||"1"),a=w.useMemo(()=>{const R=sessionStorage.getItem("estimateData");if(!R)return null;try{return JSON.parse(R)}catch{return null}},[]),[i,l]=w.useState({customerName:(a==null?void 0:a.customerName)||"",customerEmail:(a==null?void 0:a.customerEmail)||"",customerPhone:(a==null?void 0:a.customerPhone)||"",notes:(a==null?void 0:a.notes)||""}),[o,u]=w.useState(null),[c,f]=w.useState(!1),[p,g]=w.useState(null),[v,y]=w.useState(null),[b,N]=w.useState(null),[x,d]=w.useState(null),m=w.useRef(null);w.useEffect(()=>{if(!b)return;const R=setInterval(()=>{const H=new Date().getTime(),je=new Date(b).getTime(),Ye=Math.max(0,Math.floor((je-H)/1e3));d(Ye),Ye===0&&(clearInterval(R),u("Your session has expired. Please refresh the page to try again."))},1e3);return()=>clearInterval(R)},[b]);const h=R=>{const H=Math.floor(R/60),je=R%60;return`${H}:${je.toString().padStart(2,"0")}`};w.useEffect(()=>{if(!a){t("/estimate");return}if(!n&&!a.startUtc){t("/customer/availability");return}},[n,a,t]);const k=n||(a==null?void 0:a.startUtc),_=a==null?void 0:a.quote,F=(a==null?void 0:a.selectedMoverCount)||2,T=w.useMemo(()=>(_==null?void 0:_.kind)==="instant"&&_.options?_.options.find(R=>R.moverCount===F)||_.options[0]:null,[_,F]);w.useEffect(()=>{n&&a&&!a.startUtc&&sessionStorage.setItem("estimateData",JSON.stringify({...a,startUtc:n}))},[n,a]),w.useEffect(()=>{if(c&&m.current)if(m.current.innerHTML="",typeof window<"u"&&window.customElements&&window.customElements.get("stripe-buy-button")){const R=document.createElement("stripe-buy-button");R.setAttribute("buy-button-id","buy_btn_1SpvD5RoTKuWjkUYScyyXtZt"),R.setAttribute("publishable-key","pk_test_51Spt6aRoTKuWjkUYHF3DgqvtY4SqV88P7DvvXhnRnQ2BlrU98jz4BvM4JoAs5GjvKwxGoAlwv6pPHVoZIq3Y3WG100EQsPPECK"),m.current.appendChild(R)}else m.current.innerHTML=`
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <p class="text-yellow-800 font-semibold mb-2">Payment Button Blocked</p>
            <p class="text-yellow-700 text-sm mb-3">Your ad blocker is preventing the payment button from loading.</p>
            <p class="text-yellow-700 text-sm">Your booking (#${p}) is created. Please contact us to complete payment.</p>
          </div>
        `},[c,p]);const U=pe({mutationFn:async()=>{var P,$,he;if(!a||!_)throw new Error("Missing estimate or quote data");const R=(T==null?void 0:T.etaMinutesRange.high)/60||4,H=new Date(k),je=new Date(H.getTime()+R*60*60*1e3),{additionalStops:Ye,...at}=a;let Be=i.notes||"";((P=a.additionalStops)==null?void 0:P.length)>0&&(Be+=`

Additional Stops:
`,a.additionalStops.forEach((we,Ft)=>{Be+=`${Ft+1}. ${we.address}
`})),(($=a.specialItems)==null?void 0:$.length)>0&&(Be+=`
Special Items: `+a.specialItems.join(", ")),Be+=`
Crew Size: ${F} Movers`;const D={...at,additionalStops:(((he=a.additionalStops)==null?void 0:he.length)||0)>0,startUtc:k,endUtc:je.toISOString(),requestedTrucks:a.requestedTrucks||r||1,customerName:i.customerName,customerEmail:i.customerEmail,customerPhone:i.customerPhone,moveFromAddress:a.originAddress,moveToAddress:a.destinationAddress,estimatedHours:R,notes:Be.trim(),additionalStopsDetailed:JSON.stringify(a.additionalStops||[])};return yb(D)},onSuccess:R=>{u(null),R.bookingId?(g(R.bookingId),R.expiresAtUtc&&N(R.expiresAtUtc),R.checkoutUrl?(y(R.checkoutUrl),window.location.href=R.checkoutUrl):f(!0)):u("Booking created but payment link not available.")},onError:R=>{u(R.message||"Failed to create booking.")}}),C=R=>{R.preventDefault(),u(null),U.mutate()};return!k||!a||!_?s.jsx("div",{className:"p-12 text-center",children:"Loading booking details..."}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-blue-600 p-8 text-white relative",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Secure Your Move"}),s.jsx("p",{className:"opacity-90 mt-2 text-lg",children:"Review your details and pay the deposit to confirm."}),x!==null&&x>0&&s.jsxs("div",{className:"absolute top-8 right-8 bg-blue-500/50 backdrop-blur-sm px-4 py-2 rounded-full border border-white/20",children:[s.jsx("p",{className:"text-xs uppercase font-bold tracking-wider opacity-80",children:"Hold expires in"}),s.jsx("p",{className:"text-2xl font-mono font-bold leading-none",children:h(x)})]})]}),s.jsxs("div",{className:"p-8",children:[o&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:o}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2",children:"Move Summary"}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Arrival:"})," ",s.jsx("span",{className:"font-bold",children:oe(k)})]}),T&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Est. Duration:"})," ",s.jsxs("span",{className:"font-bold",children:[(()=>{const R=Math.round(T.etaMinutesRange.low/60),H=Math.round(T.etaMinutesRange.high/60);return H<=R?`${R}-${R+1}`:`${R}-${H}`})()," hrs"]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"From:"})," ",s.jsx("span",{className:"font-bold",children:a.originAddress})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"To:"})," ",s.jsx("span",{className:"font-bold",children:a.destinationAddress})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Type:"})," ",s.jsx("span",{className:"font-bold capitalize",children:a.moveType})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Bedrooms:"})," ",s.jsx("span",{className:"font-bold",children:a.bedroomsWithMattresses})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Boxes:"})," ",s.jsx("span",{className:"font-bold",children:a.boxCount})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Trucks:"})," ",s.jsx("span",{className:"font-bold",children:a.requestedTrucks||1})]}),((S=a.additionalStops)==null?void 0:S.length)>0&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Extra Stops:"})," ",s.jsx("span",{className:"font-bold",children:a.additionalStops.length})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2",children:"Estimated Pricing"}),T&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[s.jsxs("p",{className:"text-xs text-blue-600 uppercase font-bold mb-1",children:[F," Mover Estimate (",(()=>{const R=Math.round(T.etaMinutesRange.low/60),H=Math.round(T.etaMinutesRange.high/60);return H<=R?`${R}-${R+1}`:`${R}-${H}`})()," hrs)"]}),s.jsxs("p",{className:"text-2xl font-black text-blue-900",children:[Y(T.priceRange.low*100)," - ",Y(T.priceRange.high*100)]}),s.jsx("p",{className:"text-[10px] text-blue-500 mt-2 italic",children:"* Total based on actual hours. Transport fee included."})]}),_.kind==="manual"&&s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100",children:[s.jsx("p",{className:"text-yellow-800 font-bold",children:"Manual Quote Pending"}),s.jsx("p",{className:"text-xs text-yellow-700",children:"A deposit is still required to hold your slot. We will contact you with final pricing."})]})]})]}),c?s.jsxs("div",{className:"space-y-6 text-center border-t pt-8 animate-in fade-in",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Reserved!"}),v?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Redirecting to secure payment..."}),s.jsx("a",{href:v,className:"inline-block px-8 py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 shadow-lg",children:"Click here if not redirected"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-600",children:"Please complete the payment below to finalize your reservation."}),s.jsx("div",{ref:m,className:"max-w-xs mx-auto"})]})]}):s.jsxs("form",{onSubmit:C,className:"space-y-6 border-t pt-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Your Contact Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:i.customerName,onChange:R=>l({...i,customerName:R.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:i.customerEmail,onChange:R=>l({...i,customerEmail:R.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:i.customerPhone,onChange:R=>l({...i,customerPhone:R.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Special Instructions / Notes"}),s.jsx("textarea",{value:i.notes,onChange:R=>l({...i,notes:R.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Any specific items we should know about? Parking instructions?"})]})]}),s.jsxs("div",{className:"bg-gray-100 p-6 rounded-xl text-center",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["A ",s.jsx("span",{className:"font-bold text-gray-900",children:"$100.00 deposit"})," is required to reserve your slot."]}),s.jsx("button",{type:"submit",disabled:U.isPending,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-xl hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-200 disabled:opacity-50",children:U.isPending?"Reserving...":_.kind==="manual"?"Request Manual Review":"Confirm & Pay Deposit"})]})]})]})]})})})}function $j(){var l,o,u;const[e]=or(),n=e.get("type")==="reschedule",r=w.useMemo(()=>{const c=sessionStorage.getItem("estimateData");if(!c)return null;try{return JSON.parse(c)}catch{return null}},[]),a=(r==null?void 0:r.selectedMoverCount)||2,i=w.useMemo(()=>{var c;return((c=r==null?void 0:r.quote)==null?void 0:c.kind)==="instant"&&r.quote.options?r.quote.options.find(f=>f.moverCount===a)||r.quote.options[0]:null},[r,a]);return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-2xl w-full space-y-8 bg-white p-8 md:p-10 rounded-2xl shadow-xl text-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-blue-100 mb-6 border-4 border-white shadow-md",children:s.jsx("svg",{className:"h-12 w-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2 tracking-tight",children:n?"Reschedule Confirmed!":"Move Confirmed!"}),s.jsx("p",{className:"text-lg text-gray-600 font-medium",children:n?"Your move has been successfully rescheduled. We have updated your arrival window.":"Thank you for your deposit. Your move is now officially scheduled."})]}),r&&s.jsxs("div",{className:"mt-8 border-t border-gray-100 pt-8 space-y-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Move Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-2xl border border-gray-100 shadow-inner",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Arrival Window"}),s.jsx("p",{className:"font-bold text-blue-700",children:r.startUtc?oe(r.startUtc):"Scheduled"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"From"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:r.originAddress})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"To"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:r.destinationAddress})]}),((l=r.additionalStops)==null?void 0:l.length)>0&&s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Additional Stops"}),s.jsx("div",{className:"space-y-1 mt-1",children:r.additionalStops.map((c,f)=>s.jsxs("div",{className:"text-[11px] font-semibold text-gray-600 flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-1",children:""}),s.jsx("span",{children:c.address})]},f))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Property Type"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 capitalize",children:r.moveType})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Bedrooms"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:r.bedroomsWithMattresses})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Boxes"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:r.boxCount})]})]}),(((o=r.specialItems)==null?void 0:o.length)>0||r.disassemblyNeeds!=="none")&&s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Special Items/Services"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[(u=r.specialItems)==null?void 0:u.map(c=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-md capitalize",children:c},c)),r.disassemblyNeeds!=="none"&&s.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-md capitalize",children:["Assembly: ",r.disassemblyNeeds]})]})]})]})]}),i&&s.jsxs("div",{className:"bg-blue-600 p-6 rounded-2xl shadow-lg text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest opacity-80",children:"Estimated Price Range"}),s.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/30",children:[a," Mover Rate"]})]}),s.jsxs("div",{className:"text-3xl font-black",children:[Y(i.priceRange.low*100)," - ",Y(i.priceRange.high*100)]}),s.jsx("p",{className:"text-[10px] mt-2 opacity-75 italic",children:"* Final price is based on actual hours worked. Includes transport fees."})]})]}),s.jsx("div",{className:"mt-8 space-y-4",children:s.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 text-left relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:s.jsxs("svg",{className:"w-12 h-12 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),s.jsx("h3",{className:"text-blue-800 font-bold mb-3 text-sm uppercase tracking-wider",children:"What's Next?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-3 font-medium",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"bg-blue-200 text-blue-800 w-5 h-5 rounded-full flex items-center justify-center text-[10px] mr-3 mt-0.5 shrink-0 font-black",children:"1"}),"Check your inbox for a confirmation email with these details."]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"bg-blue-200 text-blue-800 w-5 h-5 rounded-full flex items-center justify-center text-[10px] mr-3 mt-0.5 shrink-0 font-black",children:"2"}),"Our operations team will call you 24-48 hours before the move to confirm final logistics."]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"bg-blue-200 text-blue-800 w-5 h-5 rounded-full flex items-center justify-center text-[10px] mr-3 mt-0.5 shrink-0 font-black",children:"3"}),"Need to make changes? Reply to your confirmation email or contact our support team."]})]})]})})]})})}function Bj(){const[e]=or(),t=e.get("startUtc")||"",n=e.get("endUtc")||"",r=parseFloat(e.get("estimatedHours")||"4");w.useEffect(()=>{if(document.querySelector('script[src="https://js.stripe.com/v3/buy-button.js"]'))return;const o=document.createElement("script");o.src="https://js.stripe.com/v3/buy-button.js",o.async=!0,document.body.appendChild(o)},[]);const a=100,i=r*a;return!t||!n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"max-w-md mx-auto px-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Invalid Quote"}),s.jsx("p",{className:"text-gray-600",children:"Missing required information. Please go back and select a time slot."})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Your Moving Quote"}),s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2 text-blue-900",children:"Scheduled Time"}),s.jsxs("div",{className:"space-y-1 text-blue-800",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Start:"})," ",oe(t)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"End:"})," ",oe(n)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Estimated Duration:"})," ",r," hours"]})]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2 text-green-900",children:"Estimated Cost"}),s.jsxs("p",{className:"text-3xl font-bold text-green-800",children:["$",i.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Based on ",r," hours at $",a,"/hour"]})]}),s.jsx("div",{className:"text-center",children:s.jsx("stripe-buy-button",{"buy-button-id":"buy_btn_1SpvD5RoTKuWjkUYScyyXtZt","publishable-key":"pk_test_51Spt6aRoTKuWjkUYHF3DgqvtY4SqV88P7DvvXhnRnQ2BlrU98jz4BvM4JoAs5GjvKwxGoAlwv6pPHVoZIq3Y3WG100EQsPPECK"})})]})})})}function qj(){const e=ht(),t=()=>{Rl(),e("/#/login")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(jm,{to:"/customer/availability",className:({isActive:n})=>n?"text-blue-600 font-medium":"text-gray-700 hover:text-gray-900",children:"Availability"}),s.jsx(jm,{to:"/customer/my-bookings",className:({isActive:n})=>n?"text-blue-600 font-medium":"text-gray-700 hover:text-gray-900",children:"My Bookings"})]}),s.jsx("button",{onClick:t,className:"text-gray-700 hover:text-gray-900",children:"Logout"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx(Fl,{})})]})}async function zj(e,t){return Z(`/availability?fromUtc=${encodeURIComponent(e)}&toUtc=${encodeURIComponent(t)}`)}async function Bc(e,t){return Z(`/availability/by-day?fromUtc=${encodeURIComponent(e)}&toUtc=${encodeURIComponent(t)}`)}async function Wj(e){return Z("/availability/requests",{method:"POST",body:JSON.stringify(e)})}function qc({onDaySelect:e,availableDates:t=[],selectedDate:n=null}){const[r,a]=w.useState(new Date),i=Dl(r),l=ur(r),o=sx({start:i,end:l}),u=ox(i),c=[];for(let N=0;N<u;N++)c.push(null);o.forEach(N=>c.push(N));const f=N=>{const x=Je(N,"yyyy-MM-dd");return t.includes(x)},p=()=>{a(dx(r,1))},g=()=>{a(yn(r,1))},v=N=>{f(N)&&e(N)},y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=new Date;return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("button",{onClick:p,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded",type:"button",children:""}),s.jsx("h2",{className:"text-xl font-semibold",children:Je(r,"MMMM yyyy")}),s.jsx("button",{onClick:g,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded",type:"button",children:""})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[y.map(N=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2",children:N},N)),c.map((N,x)=>{if(N===null)return s.jsx("div",{className:"aspect-square"},`empty-${x}`);const d=ll(N,b),m=f(N),h=n&&ll(N,n),k=cx(N,r);return s.jsxs("button",{onClick:()=>v(N),disabled:!m||!k,className:`
                aspect-square rounded border-2 transition-all
                ${k?"text-gray-900":"text-gray-300"}
                ${d?"border-blue-500 font-bold":"border-gray-200"}
                ${h?"bg-blue-100 border-blue-600":""}
                ${m&&k?"hover:bg-blue-50 hover:border-blue-400 cursor-pointer":"cursor-not-allowed opacity-50"}
                ${!m||!k?"opacity-40":""}
                relative flex flex-col items-center justify-center
              `,type:"button",children:[s.jsx("span",{children:Je(N,"d")}),m&&k&&s.jsx("span",{className:"absolute bottom-1 w-1.5 h-1.5 bg-green-500 rounded-full"})]},N.toISOString())})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{children:"Has availability"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),s.jsx("span",{children:"Today"})]})]})]})}function Hj(){var d,m;const[e,t]=w.useState(!1),[n,r]=w.useState(null),[a,i]=w.useState({requestedStartUtc:"",requestedEndUtc:"",requestedCapacity:1,notes:""}),{fromUtc:l,toUtc:o}=w.useMemo(()=>{const h=new Date,k=Ru(h),_=ur(yn(h,2));return{fromUtc:k.toISOString(),toUtc:_.toISOString()}},[]),{data:u,isLoading:c,error:f,isError:p}=te({queryKey:["availability-by-day",l,o],queryFn:()=>Bc(l,o),retry:1,staleTime:3e4}),g=w.useMemo(()=>(u==null?void 0:u.map(h=>h.date))||[],[u]),v=w.useMemo(()=>{if(!n||!u)return[];const h=Je(n,"yyyy-MM-dd"),k=u.find(_=>_.date===h);return k?k.slots.filter(_=>{const F=new Date(_.startUtc),C=new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",hour:"2-digit",hour12:!1}).formatToParts(F).find(R=>R.type==="hour"),S=C?parseInt(C.value):-1;return S>=8&&S<18}):[]},[n,u]),y=pe({mutationFn:()=>Wj({requestedStartUtc:new Date(a.requestedStartUtc).toISOString(),requestedEndUtc:new Date(a.requestedEndUtc).toISOString(),requestedCapacity:a.requestedCapacity,notes:a.notes||void 0}),onSuccess:()=>{alert("Availability request submitted! An admin will review it shortly."),t(!1),i({requestedStartUtc:"",requestedEndUtc:"",requestedCapacity:1,notes:""})}}),b=h=>{if(h.preventDefault(),!a.requestedStartUtc||!a.requestedEndUtc){alert("Please select both start and end times");return}y.mutate()},N=w.useMemo(()=>{const h=sessionStorage.getItem("estimateData");if(!h)return null;try{return JSON.parse(h)}catch{return null}},[]),x=(N==null?void 0:N.requestedTrucks)||1;return c?s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-blue-900",children:"Need a Different Time?"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Request a custom availability slot"})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg text-lg",children:e?" Cancel":"+ Request Custom Time"})]})}),s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{children:"Loading availability..."})})]}):p?s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-blue-900",children:"Need a Different Time?"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Request a custom availability slot"})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg text-lg",children:e?" Cancel":"+ Request Custom Time"})]})}),s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-red-800 font-bold",children:"Error loading availability"}),s.jsx("p",{className:"text-red-600 text-sm mt-2",children:f instanceof Error?f.message:"Failed to load availability slots"}),s.jsx("p",{className:"text-red-600 text-xs mt-2",children:"Check that the backend is running at http://localhost:8000"})]}),e&&s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request Custom Availability"}),s.jsxs("form",{onSubmit:b,className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),s.jsx("input",{type:"datetime-local",value:a.requestedStartUtc,onChange:h=>i({...a,requestedStartUtc:h.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),s.jsx("input",{type:"datetime-local",value:a.requestedEndUtc,onChange:h=>i({...a,requestedEndUtc:h.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity (number of spots)"}),s.jsx("input",{type:"number",min:"1",value:a.requestedCapacity,onChange:h=>i({...a,requestedCapacity:parseInt(h.target.value)||1}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:a.notes,onChange:h=>i({...a,notes:h.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:"Any special requirements or notes..."})]}),s.jsx("button",{type:"submit",disabled:y.isPending,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:y.isPending?"Submitting...":"Submit Request"}),y.isError&&s.jsx("div",{className:"text-red-600 text-sm",children:((d=y.error)==null?void 0:d.message)||"Failed to submit request"})]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-blue-900",children:"Need a Different Time?"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Request a custom availability slot"})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg text-lg",children:e?" Cancel":"+ Request Custom Time"})]})}),s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Available Time Slots"})}),s.jsx("div",{className:"mb-6",children:s.jsx(qc,{onDaySelect:h=>r(h),availableDates:g,selectedDate:n})}),n&&v.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Available Slots for ",Je(n,"EEEE, MMMM d, yyyy")]}),s.jsx("div",{className:"grid gap-4",children:v.map(h=>s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe(h.startUtc)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.remainingCapacity," of ",h.capacity," spots available"]})]}),h.remainingCapacity>0&&s.jsx(fe,{to:`/checkout?startUtc=${encodeURIComponent(h.startUtc)}&endUtc=${encodeURIComponent(h.endUtc)}&requestedTrucks=${x}`,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold",children:"Book Now"})]})},h.id))})]}),n&&v.length===0&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-yellow-800",children:["No available slots for ",Je(n,"MMMM d, yyyy"),". Please select another date or request a custom time slot."]})}),!n&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800",children:"Select a date on the calendar above to see available time slots."})}),e&&s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Request Custom Availability"}),s.jsxs("form",{onSubmit:b,className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),s.jsx("input",{type:"datetime-local",value:a.requestedStartUtc,onChange:h=>i({...a,requestedStartUtc:h.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),s.jsx("input",{type:"datetime-local",value:a.requestedEndUtc,onChange:h=>i({...a,requestedEndUtc:h.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity (number of spots)"}),s.jsx("input",{type:"number",min:"1",value:a.requestedCapacity,onChange:h=>i({...a,requestedCapacity:parseInt(h.target.value)||1}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:a.notes,onChange:h=>i({...a,notes:h.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:"Any special requirements or notes..."})]}),s.jsx("button",{type:"submit",disabled:y.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 font-bold",children:y.isPending?"Submitting...":"Submit Request"}),y.isError&&s.jsx("div",{className:"text-red-600 text-sm",children:((m=y.error)==null?void 0:m.message)||"Failed to submit request"})]})]})]})}function th(){var _,F,T,U;const[e]=or(),t=ht(),n=e.get("startUtc")||"",r=parseInt(e.get("requestedTrucks")||"1"),a=typeof window<"u"&&localStorage.getItem("accessToken"),{data:i}=te({queryKey:["currentUser"],queryFn:Ol,retry:!1,enabled:!!a}),[l,o]=w.useState(()=>{const C=sessionStorage.getItem("estimateData"),S=C?JSON.parse(C):null;return{customerName:(S==null?void 0:S.customerName)||"",customerEmail:(S==null?void 0:S.customerEmail)||"",customerPhone:(S==null?void 0:S.customerPhone)||"",notes:(S==null?void 0:S.notes)||"",originAddress:(S==null?void 0:S.originAddress)||"",originLongCarry:(S==null?void 0:S.originLongCarry)||"normal",destinationAddress:(S==null?void 0:S.destinationAddress)||"",destinationLongCarry:(S==null?void 0:S.destinationLongCarry)||"normal",moveDateIso:n?new Date(n).toISOString().split("T")[0]:(S==null?void 0:S.moveDateIso)||new Date().toISOString().split("T")[0],moveType:(S==null?void 0:S.moveType)||"apartment",stopCount:(S==null?void 0:S.stopCount)||1,additionalStops:(S==null?void 0:S.additionalStops)||[],roomsMoving:(S==null?void 0:S.roomsMoving)||1,bedroomsWithMattresses:(S==null?void 0:S.bedroomsWithMattresses)||0,boxCount:(S==null?void 0:S.boxCount)||0,fromStairsFlights:(S==null?void 0:S.fromStairsFlights)||0,toStairsFlights:(S==null?void 0:S.toStairsFlights)||0,fromHasElevator:(S==null?void 0:S.fromHasElevator)||!1,toHasElevator:(S==null?void 0:S.toHasElevator)||!1,specialItems:(S==null?void 0:S.specialItems)||[],disassemblyNeeds:(S==null?void 0:S.disassemblyNeeds)||"none",packingService:(S==null?void 0:S.packingService)||"none",requestedTrucks:r}}),[u,c]=w.useState(()=>{const C=sessionStorage.getItem("estimateData"),S=C?JSON.parse(C):null;return(S==null?void 0:S.quote)||null}),f=w.useMemo(()=>{const C=sessionStorage.getItem("estimateData"),S=C?JSON.parse(C):null;return(S==null?void 0:S.selectedMoverCount)||2},[]),[p,g]=w.useState(!1),[v,y]=w.useState(null),b=async()=>{if(!l.originAddress||!l.destinationAddress){alert("Please enter both origin and destination addresses.");return}g(!0);try{const C=await rx(l);c(C)}catch(C){console.error("Estimation error:",C),alert("Error calculating quote. Please check your addresses and try again.")}finally{g(!1)}};w.useEffect(()=>{i&&(i.role==="sales"?t("/sales/create-booking?"+e.toString()):i.role==="admin"&&t("/admin/create-booking?"+e.toString()))},[i,t,e]);const N=()=>{o(C=>({...C,stopCount:C.stopCount+1,additionalStops:[...C.additionalStops,{address:"",longCarry:"normal"}]}))},x=C=>{o(S=>{const R=[...S.additionalStops];return R.splice(C,1),{...S,stopCount:S.stopCount-1,additionalStops:R}})},d=(C,S,R)=>{o(H=>{const je=[...H.additionalStops];return je[C]={...je[C],[S]:R},{...H,additionalStops:je}})},m=[{id:"piano",label:"Piano"},{id:"poolTable",label:"Pool Table"},{id:"safe",label:"Safe (over 600 lbs)"},{id:"heavyFurniture",label:"Heavy Furniture (over 600 lbs)"},{id:"artwork",label:"Artwork (over $2000)"}],h=C=>{o(S=>{if(C==="none")return{...S,specialItems:[]};const R=S.specialItems.includes(C)?S.specialItems.filter(H=>H!==C):[...S.specialItems,C];return{...S,specialItems:R}})},k=C=>{if(C.preventDefault(),y(null),!n){y("Please select a time slot from the availability page");return}if(!u||u.kind==="manual"){alert("Please contact us for a manual quote for this move.");return}sessionStorage.setItem("estimateData",JSON.stringify({...l,quote:u,startUtc:n})),t("/checkout")};return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Complete Your Booking"}),n&&s.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-green-800 font-medium",children:["Selected Arrival Window: ",oe(n)]})}),v&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:v}),s.jsxs("form",{onSubmit:k,className:"space-y-8",children:[s.jsxs("section",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Your Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:l.customerName,onChange:C=>o({...l,customerName:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.customerEmail,onChange:C=>o({...l,customerEmail:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone Number"}),s.jsx("input",{type:"tel",value:l.customerPhone,onChange:C=>o({...l,customerPhone:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]})]})]}),s.jsxs("section",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Address Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Origin Address"}),s.jsx("input",{type:"text",value:l.originAddress,onChange:C=>o({...l,originAddress:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street address, City, State, ZIP",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-blue-600 mb-1",children:"Walking Distance (Origin)"}),s.jsxs("select",{value:l.originLongCarry,onChange:C=>o({...l,originLongCarry:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"normal",children:"Normal (under 75ft)"}),s.jsx("option",{value:"long",children:"Long (75-150ft)"}),s.jsx("option",{value:"veryLong",children:"Very Long (150ft+)"})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Destination Address"}),s.jsx("input",{type:"text",value:l.destinationAddress,onChange:C=>o({...l,destinationAddress:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street address, City, State, ZIP",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-blue-600 mb-1",children:"Walking Distance (Destination)"}),s.jsxs("select",{value:l.destinationLongCarry,onChange:C=>o({...l,destinationLongCarry:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"normal",children:"Normal (under 75ft)"}),s.jsx("option",{value:"long",children:"Long (75-150ft)"}),s.jsx("option",{value:"veryLong",children:"Very Long (150ft+)"})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block text-lg font-bold text-gray-800",children:"Additional Stops"}),s.jsx("button",{type:"button",onClick:N,className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-bold hover:bg-blue-200",children:"+ Add Stop"})]}),l.additionalStops.map((C,S)=>s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 space-y-4 relative",children:[s.jsx("button",{type:"button",onClick:()=>x(S),className:"absolute top-2 right-2 text-blue-400 hover:text-blue-600",children:""}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-blue-600 uppercase mb-1",children:["Stop ",S+1," Address"]}),s.jsx("input",{type:"text",value:C.address,onChange:R=>d(S,"address",R.target.value),className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Street, City, State, ZIP",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-blue-600 uppercase mb-1",children:["Walking Distance (Stop ",S+1,")"]}),s.jsxs("select",{value:C.longCarry,onChange:R=>d(S,"longCarry",R.target.value),className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"normal",children:"Normal (under 75ft)"}),s.jsx("option",{value:"long",children:"Long (75-150ft)"}),s.jsx("option",{value:"veryLong",children:"Very Long (150ft+)"})]})]})]},S))]})]}),s.jsxs("section",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Inventory & Logistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Property Type"}),s.jsxs("select",{value:l.moveType,onChange:C=>o({...l,moveType:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"storage",children:"Storage Unit"}),s.jsx("option",{value:"office",children:"Office"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",min:"0",value:l.bedroomsWithMattresses,onChange:C=>o({...l,bedroomsWithMattresses:parseInt(C.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Boxes"}),s.jsx("input",{type:"number",min:"0",value:l.boxCount,onChange:C=>o({...l,boxCount:parseInt(C.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase",children:"Origin Access"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Stairs (Flights)"}),s.jsx("input",{type:"number",min:"0",value:l.fromStairsFlights,onChange:C=>o({...l,fromStairsFlights:parseInt(C.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"flex items-center pt-5",children:[s.jsx("input",{type:"checkbox",id:"fromElevator",checked:l.fromHasElevator,onChange:C=>o({...l,fromHasElevator:C.target.checked}),className:"mr-2"}),s.jsx("label",{htmlFor:"fromElevator",className:"text-sm",children:"Elevator?"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase",children:"Destination Access"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Stairs (Flights)"}),s.jsx("input",{type:"number",min:"0",value:l.toStairsFlights,onChange:C=>o({...l,toStairsFlights:parseInt(C.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"flex items-center pt-5",children:[s.jsx("input",{type:"checkbox",id:"toElevator",checked:l.toHasElevator,onChange:C=>o({...l,toHasElevator:C.target.checked}),className:"mr-2"}),s.jsx("label",{htmlFor:"toElevator",className:"text-sm",children:"Elevator?"})]})]})]})]})]}),s.jsxs("section",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 text-blue-600",children:"Special Items"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.map(C=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-xl hover:bg-blue-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:l.specialItems.includes(C.id),onChange:()=>h(C.id),className:"w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:C.label})]},C.id)),s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-xl hover:bg-blue-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:l.specialItems.length===0,onChange:()=>h("none"),className:"w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"None of the above"})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"button",onClick:b,disabled:p,className:"px-8 py-3 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-200 disabled:opacity-50",children:p?"Calculating...":"Get Instant Quote"})}),s.jsxs("div",{className:"bg-blue-600 p-6 rounded-lg shadow-lg text-white",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Estimated Quote"}),p?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Recalculating your dynamic estimate..."})]}):(u==null?void 0:u.kind)==="instant"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm opacity-90",children:["Based on your details, here is the estimated range for ",f," movers:"]}),s.jsxs("div",{className:"text-3xl font-black",children:[Y((((F=(_=u.options)==null?void 0:_.find(C=>C.moverCount===f))==null?void 0:F.priceRange.low)||u.options[0].priceRange.low)*100)," - ",Y((((U=(T=u.options)==null?void 0:T.find(C=>C.moverCount===f))==null?void 0:U.priceRange.high)||u.options[0].priceRange.high)*100)]}),s.jsx("p",{className:"text-xs opacity-75",children:"* Final price depends on actual time worked. Includes transport fees."})]}):(u==null?void 0:u.kind)==="manual"?s.jsxs("div",{className:"p-4 bg-white/10 rounded-lg",children:[s.jsx("p",{className:"font-bold",children:"Manual Quote Required"}),s.jsxs("p",{className:"text-sm opacity-90",children:["Your move requires manual review (",u.reason==="officeMove"?"office move":u.reason,")."]})]}):s.jsx("p",{className:"text-sm",children:'Click "Get Instant Quote" above to see your estimate.'})]}),s.jsx("button",{type:"submit",disabled:!u||u.kind==="manual"&&!l.customerName||p,className:"w-full py-4 bg-green-600 text-white rounded-lg font-bold text-xl hover:bg-green-700 shadow-xl disabled:opacity-50 transition-all",children:(u==null?void 0:u.kind)==="manual"?"Request Manual Review":"Proceed to Checkout"})]})]})}function Qj(){const{data:e,isLoading:t}=te({queryKey:["myBookings"],queryFn:bb});return t?s.jsx("div",{children:"Loading bookings..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Bookings"}),s.jsx("div",{className:"grid gap-4",children:(e==null?void 0:e.length)===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No bookings found"}):e==null?void 0:e.map(n=>s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:n.customerName}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${n.status==="confirmed"?"bg-green-100 text-green-800":n.status==="pendingPayment"?"bg-yellow-100 text-yellow-800":n.status==="canceled"?"bg-red-100 text-red-800":n.status==="expired"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:n.status})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.customerEmail," | ",n.customerPhone]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"From:"}),s.jsx("p",{className:"font-medium",children:n.moveFromAddress})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"To:"}),s.jsx("p",{className:"font-medium",children:n.moveToAddress})]})]}),n.startUtc&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("p",{className:"text-gray-500",children:"Scheduled Time:"}),s.jsxs("p",{className:"font-medium",children:[oe(n.startUtc)," - ",oe(n.endUtc||n.startUtc)]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mb-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Deposit:"})," ",s.jsx("span",{className:"font-medium",children:Y(n.depositAmountCents)})]}),n.requestedTrucks&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Trucks:"})," ",s.jsx("span",{className:"font-medium",children:n.requestedTrucks})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Booking ID:"})," ",s.jsxs("span",{className:"font-medium",children:["#",n.id]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Created:"})," ",s.jsx("span",{className:"font-medium",children:oe(n.createdAtUtc)})]})]}),n.notes&&s.jsxs("div",{className:"text-sm mt-3 p-3 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Notes:"}),s.jsx("p",{className:"text-gray-700",children:n.notes})]}),n.rescheduleFeeAmountCents&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Reschedule Fee: ",Y(n.rescheduleFeeAmountCents)]})]}),s.jsx("div",{className:"flex gap-2 ml-4",children:n.status==="confirmed"&&s.jsx(fe,{to:`/customer/reschedule?bookingId=${n.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm whitespace-nowrap",children:"Reschedule"})})]})},n.id))})]})}function Vj(){const[e]=or(),t=parseInt(e.get("bookingId")||"0"),{fromUtc:n,toUtc:r}=w.useMemo(()=>{const u=new Date,c=new Date(u.getFullYear(),u.getMonth(),u.getDate()),f=ur(yn(u,2));return{fromUtc:c.toISOString(),toUtc:f.toISOString()}},[]),{data:a}=te({queryKey:["availability",n,r],queryFn:()=>zj(n,r)}),i=w.useMemo(()=>a?a.filter(u=>{const c=new Date(u.startUtc),g=new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",hour:"2-digit",hour12:!1}).formatToParts(c).find(y=>y.type==="hour"),v=g?parseInt(g.value):-1;return v>=8&&v<18}):[],[a]),l=pe({mutationFn:u=>wb(t,u),onSuccess:u=>{window.location.href=u.checkoutUrl}}),o=u=>{l.mutate({newStartUtc:u.startUtc,newEndUtc:u.endUtc,newRequestedTrucks:1})};return s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Reschedule Booking"}),s.jsx("p",{className:"mb-4",children:"Select a new time slot:"}),s.jsx("div",{className:"grid gap-4",children:i==null?void 0:i.map(u=>s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe(u.startUtc)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.remainingCapacity," of ",u.capacity," trucks available"]})]}),u.remainingCapacity>0&&s.jsx("button",{onClick:()=>o({startUtc:u.startUtc,endUtc:u.endUtc}),disabled:l.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:"Select"})]})},u.id))})]})}function Kj(){return s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Messages"}),s.jsx("p",{className:"text-gray-600",children:"No messages yet."})]})}function Jj(){const e=ht(),t=()=>{Rl(),e("/login")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(fe,{to:"/sales/bookings",className:"text-gray-700 hover:text-gray-900",children:"Bookings"}),s.jsx(fe,{to:"/sales/jobs",className:"text-gray-700 hover:text-gray-900",children:"Jobs"}),s.jsx(fe,{to:"/sales/create-booking",className:"text-gray-700 hover:text-gray-900",children:"Create Booking"}),s.jsx(fe,{to:"/sales/commission",className:"text-gray-700 hover:text-gray-900",children:"Commission"})]}),s.jsx("button",{onClick:t,className:"text-gray-700 hover:text-gray-900",children:"Logout"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx(Fl,{})})]})}function Zj(){const[e]=or(),t=e.get("fromEstimate")==="true",[n,r]=w.useState(null),[a,i]=w.useState(null),[l,o]=w.useState({customerName:"",customerEmail:"",customerPhone:"",moveFromAddress:"",moveToAddress:"",depositAmount:"100.00",requestedTrucks:"1",estimatedHours:"4",notes:""});w.useEffect(()=>{if(t){const m=sessionStorage.getItem("estimateData");if(m)try{const h=JSON.parse(m);if(o(k=>{var _,F,T,U;return{...k,customerName:h.customerName||k.customerName,customerEmail:h.customerEmail||k.customerEmail,customerPhone:h.customerPhone||k.customerPhone,moveFromAddress:h.originAddress||k.moveFromAddress,moveToAddress:h.destinationAddress||k.moveToAddress,requestedTrucks:((_=h.requestedTrucks)==null?void 0:_.toString())||k.requestedTrucks,estimatedHours:(((U=(T=(F=h.quote)==null?void 0:F.options)==null?void 0:T.find(C=>C.moverCount===h.selectedMoverCount))==null?void 0:U.etaMinutesRange.high)/60).toFixed(1)||k.estimatedHours,notes:h.notes||k.notes,moveType:h.moveType,stopCount:h.stopCount,additionalStopsDetailed:JSON.stringify(h.additionalStops||[]),roomsMoving:h.roomsMoving,bedroomsWithMattresses:h.bedroomsWithMattresses,boxCount:h.boxCount,fromStairsFlights:h.fromStairsFlights,toStairsFlights:h.toStairsFlights,fromHasElevator:h.fromHasElevator,toHasElevator:h.toHasElevator,originLongCarry:h.originLongCarry,destinationLongCarry:h.destinationLongCarry,specialItems:h.specialItems,disassemblyNeeds:h.disassemblyNeeds,packingService:h.packingService}}),h.startUtc){const k=new Date(h.startUtc);r(k),i({startUtc:h.startUtc,endUtc:h.startUtc})}}catch(h){console.error("Error parsing estimate data:",h)}}},[t]);const{fromUtc:u,toUtc:c}=w.useMemo(()=>{const m=new Date,h=new Date(m.getFullYear(),m.getMonth(),m.getDate()),k=ur(yn(m,2));return{fromUtc:h.toISOString(),toUtc:k.toISOString()}},[]),{data:f,isLoading:p}=te({queryKey:["availability-by-day",u,c],queryFn:()=>Bc(u,c)}),g=w.useMemo(()=>(f==null?void 0:f.map(m=>m.date))||[],[f]),v=w.useMemo(()=>{if(!n||!f)return[];const m=Je(n,"yyyy-MM-dd"),h=f.find(k=>k.date===m);return h?h.slots.filter(k=>{const _=new Date(k.startUtc),U=new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",hour:"2-digit",hour12:!1}).formatToParts(_).find(S=>S.type==="hour"),C=U?parseInt(U.value):-1;return C>=8&&C<18}):[]},[n,f]),y=w.useMemo(()=>{if(!a||!l.estimatedHours)return(a==null?void 0:a.endUtc)||null;const m=new Date(a.startUtc),h=parseFloat(l.estimatedHours)||0;return new Date(m.getTime()+h*60*60*1e3).toISOString()},[a,l.estimatedHours]),[b,N]=w.useState(null),x=pe({mutationFn:()=>{if(!a)throw new Error("No slot selected");if(!y)throw new Error("Invalid estimated hours");const{requestedTrucks:m,estimatedHours:h,depositAmount:k,..._}=l;return tx({startUtc:a.startUtc,endUtc:y,requestedTrucks:parseInt(l.requestedTrucks)||1,..._,depositAmountCents:ue(parseFloat(l.depositAmount))})},onSuccess:m=>{N(null),window.location.href=m.checkoutUrl},onError:m=>{const h=m.message||"Failed to create booking. Please try again.";N(h)}}),d=m=>{m.preventDefault(),N(null),a?x.mutate():N("Please select a time slot")};return p?s.jsx("div",{children:"Loading availability..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create Booking (Sales)"}),s.jsx("button",{onClick:()=>window.location.href="#/estimate?returnTo=sales",className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition-colors",children:"Use Quote Estimator"})]}),b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Booking Error"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:b})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Time Slot"}),s.jsx("div",{className:"mb-6",children:s.jsx(qc,{onDaySelect:m=>{r(m),i(null)},availableDates:g,selectedDate:n})}),n&&v.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-md font-semibold mb-4",children:["Available Slots for ",Je(n,"EEEE, MMMM d, yyyy")]}),s.jsx("div",{className:"grid gap-2",children:v.map(m=>s.jsxs("button",{onClick:()=>i({startUtc:m.startUtc,endUtc:m.endUtc}),className:`p-3 text-left border rounded ${(a==null?void 0:a.startUtc)===m.startUtc?"border-blue-600 bg-blue-50":"border-gray-200"} ${m.remainingCapacity>0?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,disabled:m.remainingCapacity===0,children:[s.jsx("p",{className:"font-medium",children:oe(m.startUtc)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m.remainingCapacity," of ",m.capacity," trucks available"]})]},m.id))})]}),n&&v.length===0&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-yellow-800",children:["No available slots for ",Je(n,"MMMM d, yyyy"),". Please select another date."]})}),!n&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800",children:"Select a date on the calendar above to see available time slots."})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),s.jsx("input",{type:"text",value:l.customerName,onChange:m=>o({...l,customerName:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.customerEmail,onChange:m=>o({...l,customerEmail:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:l.customerPhone,onChange:m=>o({...l,customerPhone:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Move From"}),s.jsx("input",{type:"text",value:l.moveFromAddress,onChange:m=>o({...l,moveFromAddress:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Move To"}),s.jsx("input",{type:"text",value:l.moveToAddress,onChange:m=>o({...l,moveToAddress:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Requested Trucks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:l.requestedTrucks,onChange:m=>o({...l,requestedTrucks:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of trucks needed for this booking"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Estimated Hours ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"10",value:l.estimatedHours,onChange:m=>o({...l,estimatedHours:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Expected duration of the move. Booking will end at: ",a&&l.estimatedHours&&y?oe(y):"Select a time slot first"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Deposit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:l.depositAmount,onChange:m=>o({...l,depositAmount:m.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),s.jsx("textarea",{value:l.notes,onChange:m=>o({...l,notes:m.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),s.jsx("button",{type:"submit",disabled:!a||x.isPending,className:"w-full px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:x.isPending?"Creating...":"Create Booking"})]})]})]})]})}async function Os(e,t,n){const r=new URLSearchParams;return e&&r.append("dateFromUtc",e),t&&r.append("dateToUtc",t),Z(`/jobs?${r.toString()}`)}async function hx(e,t,n){const r=new URLSearchParams;return e&&r.append("dateFromUtc",e),t&&r.append("dateToUtc",t),Z(`/jobs/by-day?${r.toString()}`)}async function fx(e){return Z("/jobs",{method:"POST",body:JSON.stringify(e)})}async function zc(e){return Z(`/jobs/${e}`)}async function Wc(e,t){return Z(`/jobs/${e}/status`,{method:"POST",body:JSON.stringify({newStatus:t})})}async function px(e,t){return Z(`/jobs/${e}/crew`,{method:"POST",body:JSON.stringify({employeeIds:t})})}async function _i(e,t){return Z(`/jobs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function xx(e,t=0){return Z(`/jobs/${e}/invoice-preview?tipAmountCents=${t}`)}async function Yj(e,t=0){return Z(`/jobs/${e}/final-payment-session`,{method:"POST",body:JSON.stringify({tipAmountCents:t})})}async function Al(){return Z("/employees")}function Gj(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[a,i]=w.useState({bookingId:0,notes:"",employeeIds:[]}),l=vn(),{data:o,isLoading:u}=te({queryKey:["salesBookings"],queryFn:jb}),{data:c}=te({queryKey:["jobs"],queryFn:()=>Os()}),{data:f}=te({queryKey:["employees"],queryFn:Al}),p=pe({mutationFn:fx,onSuccess:()=>{l.invalidateQueries({queryKey:["jobs"]}),l.invalidateQueries({queryKey:["salesBookings"]}),r(!1),t(null),i({bookingId:0,notes:"",employeeIds:[]}),alert("Job created successfully")},onError:y=>{alert(`Error: ${y.message}`)}}),g=y=>{t(y),i({bookingId:y,notes:"",employeeIds:[]}),r(!0)},v=()=>{if(!a.bookingId){alert("Please select a booking");return}p.mutate(a)};return u?s.jsx("div",{children:"Loading bookings..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Sales Bookings"}),s.jsx("div",{className:"grid gap-4",children:o==null?void 0:o.map(y=>{const b=c==null?void 0:c.some(N=>N.bookingId===y.id);return s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:y.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:oe(y.createdAtUtc)}),s.jsxs("p",{className:"text-sm",children:["Status: ",s.jsx("span",{className:"capitalize",children:y.status})]}),s.jsxs("p",{className:"text-sm",children:["Deposit: ",Y(y.depositAmountCents)]}),y.notes&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Notes: ",y.notes]})]}),y.status==="confirmed"&&!b&&s.jsx("button",{onClick:()=>g(y.id),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Create Job"}),b&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Job Created"})]})},y.id)})}),n&&e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Create Job for Booking #",e]}),(()=>{const y=o==null?void 0:o.find(b=>b.id===e);return y?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Customer:"})," ",y.customerName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",y.customerEmail]}),s.jsxs("p",{children:[s.jsx("strong",{children:"From:"})," ",y.moveFromAddress]}),s.jsxs("p",{children:[s.jsx("strong",{children:"To:"})," ",y.moveToAddress]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign Employees (optional)"}),s.jsx("div",{className:"border rounded max-h-48 overflow-y-auto",children:f==null?void 0:f.map(b=>{var N;return s.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((N=a.employeeIds)==null?void 0:N.includes(b.id))||!1,onChange:x=>{const d=a.employeeIds||[];x.target.checked?i({...a,employeeIds:[...d,b.id]}):i({...a,employeeIds:d.filter(m=>m!==b.id)})},className:"mr-2"}),s.jsxs("span",{className:"text-sm",children:[b.userFullName||`Employee #${b.id}`,b.employeeNumber&&` (${b.employeeNumber})`,b.isManager&&s.jsx("span",{className:"text-xs text-gray-500",children:" - Manager"})]})]},b.id)})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes (optional)"}),s.jsx("textarea",{value:a.notes||"",onChange:b=>i({...a,notes:b.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:"Add any notes for this job..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:v,disabled:p.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:p.isPending?"Creating...":"Create Job"}),s.jsx("button",{onClick:()=>{r(!1),t(null),i({bookingId:0,notes:"",employeeIds:[]})},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]}):null})()]})})]})}function gx({jobsByDay:e,onDaySelect:t,selectedDate:n=null}){const[r,a]=w.useState(new Date),i=Dl(r),l=ur(r),o=sx({start:i,end:l}),u=ox(i),c=[];for(let d=0;d<u;d++)c.push(null);o.forEach(d=>c.push(d));const f=new Map;e.forEach(({date:d,jobs:m})=>{f.set(d,m)});const p=d=>{const m=Je(d,"yyyy-MM-dd");return f.get(m)||[]},g=()=>{a(dx(r,1))},v=()=>{a(yn(r,1))},y=d=>{t&&t(d)},b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],N=new Date,x=d=>{switch(d){case"scheduled":return"bg-blue-500";case"enRoute":return"bg-yellow-500";case"started":return"bg-green-500";case"finishedLoading":return"bg-indigo-500";case"startUnloading":return"bg-purple-500";case"completed":return"bg-gray-500";case"issueReported":return"bg-red-500";default:return"bg-gray-400"}};return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("button",{onClick:g,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded",type:"button",children:""}),s.jsx("h2",{className:"text-xl font-semibold",children:Je(r,"MMMM yyyy")}),s.jsx("button",{onClick:v,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded",type:"button",children:""})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[b.map(d=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2",children:d},d)),c.map((d,m)=>{if(d===null)return s.jsx("div",{className:"aspect-square"},`empty-${m}`);const h=ll(d,N),k=p(d),_=k.length>0,F=n&&ll(d,n),T=cx(d,r);return s.jsxs("button",{onClick:()=>y(d),disabled:!T,className:`
                aspect-square rounded border-2 transition-all relative
                ${T?"text-gray-900":"text-gray-300"}
                ${h?"border-blue-500 font-bold":"border-gray-200"}
                ${F?"bg-blue-100 border-blue-600":""}
                ${_&&T?"hover:bg-blue-50 hover:border-blue-400 cursor-pointer":T?"hover:bg-gray-50 cursor-pointer":"cursor-not-allowed opacity-50"}
                ${T?"":"opacity-40"}
                flex flex-col items-center justify-center p-1
              `,type:"button",children:[s.jsx("span",{className:"text-sm",children:Je(d,"d")}),_&&T&&s.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex gap-0.5 justify-center flex-wrap",children:[k.slice(0,3).map(U=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x(U.status)}`,title:`Job #${U.id} - ${U.status}`},U.id)),k.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",k.length-3]})]})]},d.toISOString())})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-gray-600 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Scheduled"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{children:"En Route"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{children:"Started"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{children:"Issue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),s.jsx("span",{children:"Today"})]})]}),n&&p(n).length>0&&s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsxs("h3",{className:"font-medium mb-2",children:["Jobs on ",Je(n,"MMMM d, yyyy")]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p(n).map(d=>s.jsx(fe,{to:`/mover/job/${d.id}`,className:"block p-2 bg-gray-50 rounded hover:bg-gray-100 text-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium",children:["Job #",d.id]}),d.booking&&s.jsx("p",{className:"text-xs text-gray-600",children:d.booking.customerName}),s.jsx("p",{className:"text-xs text-gray-500",children:oe(d.scheduledStartUtc)}),d.assignedCrew&&d.assignedCrew.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Crew: ",d.assignedCrew.map(m=>{var k,_;const h=(k=m.userFullName)==null?void 0:k.trim();return h||((_=m.employeeNumber)!=null&&_.trim()?m.employeeNumber.trim():"Unknown")}).join(", ")]})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${d.status==="scheduled"?"bg-blue-100 text-blue-800":d.status==="enRoute"?"bg-yellow-100 text-yellow-800":d.status==="started"?"bg-green-100 text-green-800":d.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:d.status})]})},d.id))})]})]})}function Xj(){const[e,t]=w.useState("table"),[n,r]=w.useState(null),[a,i]=w.useState(""),[l,o]=w.useState(""),[u,c]=w.useState(""),{data:f}=te({queryKey:["currentUser"],queryFn:Ol}),{calendarFromUtc:p,calendarToUtc:g}=w.useMemo(()=>{const m=new Date,h=Dl(m),k=ur(yn(m,1));return{calendarFromUtc:h.toISOString(),calendarToUtc:k.toISOString()}},[]),{data:v,isLoading:y}=te({queryKey:["jobs",a,l,u],queryFn:()=>{const m={};return l&&(m.dateFromUtc=new Date(l).toISOString()),u&&(m.dateToUtc=new Date(u+"T23:59:59").toISOString()),Os(m.dateFromUtc,m.dateToUtc)}}),{data:b}=te({queryKey:["jobs-by-day",p,g],queryFn:()=>hx(p,g)}),N=w.useMemo(()=>{if(!n||!b)return[];const m=n.toISOString().split("T")[0],h=b.find(k=>k.date===m);return(h==null?void 0:h.jobs)||[]},[n,b]),x=(v==null?void 0:v.filter(m=>!(a&&m.status!==a)))||[],d=(f==null?void 0:f.role)==="sales";return y?s.jsx("div",{children:"Loading jobs..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Jobs"}),d&&s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Showing your booked jobs"})]}),s.jsxs("div",{className:"mb-4 flex gap-2",children:[s.jsx("button",{onClick:()=>t("table"),className:`px-4 py-2 rounded ${e==="table"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Table View"}),s.jsx("button",{onClick:()=>t("calendar"),className:`px-4 py-2 rounded ${e==="calendar"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Calendar View"})]}),e==="calendar"?s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(gx,{jobsByDay:b||[],onDaySelect:m=>r(m),selectedDate:n})}),s.jsxs("div",{children:[n&&N.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Jobs for ",n.toLocaleDateString()]}),s.jsx("div",{className:"grid gap-4",children:N.map(m=>s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Job #",m.id]}),s.jsx("p",{className:"text-sm text-gray-600",children:oe(m.scheduledStartUtc)}),s.jsxs("p",{className:"text-sm",children:["Status: ",s.jsx("span",{className:"capitalize",children:m.status})]}),m.notes&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Notes: ",m.notes]})]}),s.jsx(fe,{to:`/mover/job/${m.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"View Details"})]})},m.id))})]}),n&&N.length===0&&s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-yellow-800",children:"No jobs scheduled for this date"})}),!n&&s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800",children:"Select a date on the calendar to view jobs"})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status Filter"}),s.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"inProgress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:l,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:u,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border rounded"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scheduled Time"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:x.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No jobs found"})}):x.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:m.id}),s.jsx("td",{className:"px-4 py-3 text-sm",children:m.bookingId}),s.jsx("td",{className:"px-4 py-3 text-sm",children:oe(m.scheduledStartUtc)}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.status==="completed"?"bg-green-100 text-green-800":m.status==="inProgress"?"bg-blue-100 text-blue-800":m.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:m.status})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx(fe,{to:`/mover/job/${m.id}`,className:"text-blue-600 hover:text-blue-800",children:"View Details"})})]},m.id))})]})})})]})]})}async function ew(){return Z("/sales/commissions")}async function tw(){return Z("/sales/stats")}function nw(){const{data:e,isLoading:t}=te({queryKey:["salesCommissions"],queryFn:ew}),{data:n,isLoading:r}=te({queryKey:["salesStats"],queryFn:tw});return t||r?s.jsx("div",{children:"Loading commission data..."}):s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Commission Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Commission"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y((n==null?void 0:n.totalCommissionCents)||0)})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-blue-500",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Completed Moves"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.completedMovesCount)||0})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-yellow-500",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pending Moves"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.pendingMovesCount)||0})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Average per Move"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n!=null&&n.completedMovesCount?Y(n.totalCommissionCents/n.completedMovesCount):"$0.00"})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Commission History"}),s.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"List of all bookings and earned commissions."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Move Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e==null?void 0:e.length)===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No commission records found."})}):e==null?void 0:e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:oe(a.createdAtUtc)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.customerName}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",a.bookingId]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.totalAmountCents?Y(a.totalAmountCents):Y(a.depositAmountCents)+" (Deposit)"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:Y(a.commissionAmountCents)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.isFinal?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.isFinal?"Final":"Pending"})})]},a.id))})]})})]})]})})}function rw(){const e=ht(),t=()=>{Rl(),e("/login")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(fe,{to:"/mover/dispatch",className:"text-gray-700 hover:text-gray-900",children:"Dispatch Board"}),s.jsx(fe,{to:"/mover/payroll",className:"text-gray-700 hover:text-gray-900",children:"Payroll"}),s.jsx(fe,{to:"/mover/communications",className:"text-gray-700 hover:text-gray-900",children:"Communications"})]}),s.jsx("button",{onClick:t,className:"text-gray-700 hover:text-gray-900",children:"Logout"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx(Fl,{})})]})}function sw(){const{data:e,isLoading:t}=te({queryKey:["jobs"],queryFn:()=>Os()});return t?s.jsx("div",{children:"Loading jobs..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Assigned Jobs"}),e&&e.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:"You don't have any assigned jobs at this time."})}):s.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(n=>{var r;return s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(fe,{to:`/mover/job/${n.id}`,className:"font-medium text-blue-600 hover:underline text-lg",children:((r=n.booking)==null?void 0:r.customerName)||`Job #${n.id}`}),n.booking&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:n.booking.customerName}),s.jsx("p",{className:"text-xs text-gray-500",children:n.booking.moveFromAddress}),s.jsxs("p",{className:"text-xs text-gray-500",children:[" ",n.booking.moveToAddress]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.jsx("strong",{children:"Scheduled:"})," ",oe(n.scheduledStartUtc)]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Status:"})," ",s.jsx("span",{className:"capitalize",children:n.status})]}),n.assignedCrew&&n.assignedCrew.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Crew: ",n.assignedCrew.map(a=>{var l,o;const i=(l=a.userFullName)==null?void 0:l.trim();return i||((o=a.employeeNumber)!=null&&o.trim()?a.employeeNumber.trim():"Unknown")}).join(", ")]})]}),s.jsx("div",{children:s.jsx(fe,{to:`/mover/job/${n.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View Details"})})]})},n.id)})})]})}function aw(){var Vc,Kc;const{id:e}=Tl(),t=ht(),n=parseInt(e||"0"),[r,a]=w.useState(!1),[i,l]=w.useState([]),[o,u]=w.useState(!1),[c,f]=w.useState({actualStartUtc:"",actualEndUtc:""}),[p,g]=w.useState(!1),[v,y]=w.useState(null),[b,N]=w.useState(!1),[x,d]=w.useState([]),m=vn(),{data:h}=te({queryKey:["job",n],queryFn:()=>zc(n)}),{data:k}=te({queryKey:["employees"],queryFn:Al}),{data:_}=te({queryKey:["currentUser"],queryFn:Ol}),F=(_==null?void 0:_.role)==="admin",T=(_==null?void 0:_.role)==="sales",U=((Vc=h==null?void 0:h.booking)==null?void 0:Vc.salesUserId)===(_==null?void 0:_.id),C=F||T&&U,S=pe({mutationFn:E=>Wc(n,E),onSuccess:()=>{m.invalidateQueries({queryKey:["job",n]}),m.invalidateQueries({queryKey:["jobs"]})}}),R=pe({mutationFn:E=>px(n,E),onSuccess:()=>{m.invalidateQueries({queryKey:["job",n]}),m.invalidateQueries({queryKey:["jobs"]}),a(!1),l([]),alert("Crew updated successfully")},onError:E=>{alert(`Error: ${E.message}`)}}),H=pe({mutationFn:E=>_i(n,E),onSuccess:()=>{m.invalidateQueries({queryKey:["job",n]}),u(!1),alert("Times updated successfully")},onError:E=>{alert(`Error updating times: ${E.message}`)}}),je=pe({mutationFn:async E=>{const J={},ee={};"jobNotes"in E&&(J.notes=E.jobNotes),"issueDescription"in E&&(J.issueDescription=E.issueDescription),["customerName","customerEmail","customerPhone","moveFromAddress","moveToAddress","moveType","requestedTrucks","bedroomsWithMattresses","boxCount","packingService","disassemblyNeeds","notes"].forEach($r=>{$r in E&&(ee[$r]=E[$r])});const bn=[];return Object.keys(J).length>0&&bn.push(_i(n,J)),h!=null&&h.bookingId&&Object.keys(ee).length>0&&bn.push(vb(h.bookingId,ee)),Promise.all(bn)},onSuccess:()=>{m.invalidateQueries({queryKey:["job",n]}),g(!1),alert("Details updated successfully")},onError:E=>{alert(`Error updating details: ${E.message}`)}}),Ye=pe({mutationFn:E=>_i(n,{materialsUsed:E}),onSuccess:()=>{m.invalidateQueries({queryKey:["job",n]}),N(!1),alert("Materials updated successfully")},onError:E=>{alert(`Error updating materials: ${E.message}`)}});if(!h)return s.jsx("div",{children:"Loading..."});const at=()=>{f({actualStartUtc:h.actualStartUtc?new Date(h.actualStartUtc).toISOString().slice(0,16):"",actualEndUtc:h.actualEndUtc?new Date(h.actualEndUtc).toISOString().slice(0,16):""}),u(!0)},Be=()=>{H.mutate({actualStartUtc:c.actualStartUtc?new Date(c.actualStartUtc).toISOString():null,actualEndUtc:c.actualEndUtc?new Date(c.actualEndUtc).toISOString():null})},D=()=>{var E,J,ee,qe,bn,$r,Jc,Zc,Yc,Gc,Xc,ed,td,nd,rd;y({jobNotes:h.notes||"",issueDescription:h.issueDescription||"",customerName:((E=h.booking)==null?void 0:E.customerName)||"",customerEmail:((J=h.booking)==null?void 0:J.customerEmail)||"",customerPhone:((ee=h.booking)==null?void 0:ee.customerPhone)||"",moveFromAddress:((qe=h.booking)==null?void 0:qe.moveFromAddress)||"",moveToAddress:((bn=h.booking)==null?void 0:bn.moveToAddress)||"",moveType:(($r=h.booking)==null?void 0:$r.moveType)||"",requestedTrucks:((Jc=h.booking)==null?void 0:Jc.requestedTrucks)||1,bedroomsWithMattresses:((Zc=h.booking)==null?void 0:Zc.bedroomsWithMattresses)||0,boxCount:((Yc=h.booking)==null?void 0:Yc.boxCount)||0,packingService:((Gc=h.booking)==null?void 0:Gc.packingService)||"none",disassemblyNeeds:((Xc=h.booking)==null?void 0:Xc.disassemblyNeeds)||"none",notes:((ed=h.booking)==null?void 0:ed.notes)||"",additionalStopsDetailed:(td=h.booking)!=null&&td.additionalStopsDetailed?JSON.parse((nd=h.booking)==null?void 0:nd.additionalStopsDetailed):[],specialItems:((rd=h.booking)==null?void 0:rd.specialItems)||[]}),g(!0)},P=()=>{const E={...v,additionalStopsDetailed:JSON.stringify(v.additionalStopsDetailed)};je.mutate(E)},$=()=>{d(h.materialsUsed||[]),N(!0)},he=()=>{Ye.mutate(x)},we=E=>{const J=x.find(ee=>ee.type===E);d(J?x.map(ee=>ee.type===E?{...ee,quantity:ee.quantity+1}:ee):[...x,{type:E,quantity:1}])},Ft=(E,J)=>{J<=0?wt(E):d(x.map(ee=>ee.type===E?{...ee,quantity:J}:ee))},wt=E=>{d(x.filter(J=>J.type!==E))},M=[{id:"smallBox",label:"Small Box"},{id:"mediumBox",label:"Medium Box"},{id:"largeBox",label:"Large Box"},{id:"tvBox",label:"TV Box"},{id:"shrinkWrap",label:"Shrink Wrap"},{id:"tape",label:"Tape"}],K=((Kc=h.assignedCrew)==null?void 0:Kc.map(E=>E.id))||[],Oe=(k==null?void 0:k.filter(E=>!K.includes(E.id)))||[],Va=()=>{if(i.length===0){alert("Please select at least one employee");return}const E=[...K,...i];R.mutate(E)},Ul=E=>{const J=K.filter(ee=>ee!==E);R.mutate(J)},Qc=E=>{switch(E){case"scheduled":return"bg-blue-100 text-blue-800";case"enRoute":return"bg-yellow-100 text-yellow-800";case"started":return"bg-green-100 text-green-800";case"finishedLoading":return"bg-indigo-100 text-indigo-800";case"startUnloading":return"bg-purple-100 text-purple-800";case"completed":return"bg-gray-100 text-gray-800";case"issueReported":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Nx=E=>({scheduled:{nextStatus:"enRoute",label:"En Route"},enRoute:{nextStatus:"started",label:"Start Job"},started:{nextStatus:"finishedLoading",label:"Finished Loading"},finishedLoading:{nextStatus:"startUnloading",label:"Start Unloading"},startUnloading:{nextStatus:"completed",label:"Finish Job"}})[E]||null;return s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Job #",h.id]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Job Details"}),C&&!p&&s.jsx("button",{onClick:D,className:"text-sm text-blue-600 hover:underline",children:"Edit Details"})]}),p?s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"col-span-2",children:s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase mb-2",children:"Customer & Move Info"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Customer Name"}),s.jsx("input",{type:"text",value:v.customerName,onChange:E=>y({...v,customerName:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Customer Email"}),s.jsx("input",{type:"email",value:v.customerEmail,onChange:E=>y({...v,customerEmail:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Customer Phone"}),s.jsx("input",{type:"text",value:v.customerPhone,onChange:E=>y({...v,customerPhone:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Move Type"}),s.jsxs("select",{value:v.moveType,onChange:E=>y({...v,moveType:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"storage",children:"Storage"}),s.jsx("option",{value:"office",children:"Office"})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"From Address"}),s.jsx("input",{type:"text",value:v.moveFromAddress,onChange:E=>y({...v,moveFromAddress:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"To Address"}),s.jsx("input",{type:"text",value:v.moveToAddress,onChange:E=>y({...v,moveToAddress:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsx("div",{className:"col-span-2 mt-2",children:s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase mb-2",children:"Inventory & Services"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Trucks"}),s.jsx("input",{type:"number",value:v.requestedTrucks,onChange:E=>y({...v,requestedTrucks:parseInt(E.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Bedrooms"}),s.jsx("input",{type:"number",value:v.bedroomsWithMattresses,onChange:E=>y({...v,bedroomsWithMattresses:parseInt(E.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Boxes"}),s.jsx("input",{type:"number",value:v.boxCount,onChange:E=>y({...v,boxCount:parseInt(E.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Packing"}),s.jsxs("select",{value:v.packingService,onChange:E=>y({...v,packingService:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"full",children:"Full"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Disassembly"}),s.jsxs("select",{value:v.disassemblyNeeds,onChange:E=>y({...v,disassemblyNeeds:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"some",children:"Some"}),s.jsx("option",{value:"many",children:"Many"})]})]}),s.jsxs("div",{className:"col-span-2 mt-4 border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase",children:"Additional Stops"}),s.jsx("button",{type:"button",onClick:()=>{const E=[...v.additionalStopsDetailed,{address:"",longCarry:"normal"}];y({...v,additionalStopsDetailed:E})},className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"+ Add Stop"})]}),s.jsxs("div",{className:"space-y-3",children:[v.additionalStopsDetailed.map((E,J)=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded border border-gray-200 relative",children:[s.jsx("button",{type:"button",onClick:()=>{const ee=v.additionalStopsDetailed.filter((qe,bn)=>bn!==J);y({...v,additionalStopsDetailed:ee})},className:"absolute top-2 right-2 text-red-600 hover:text-red-800",children:"Remove"}),s.jsx("div",{className:"grid grid-cols-1 gap-2 pr-12",children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] text-gray-500 uppercase font-bold",children:["Stop #",J+1," Address"]}),s.jsx("input",{type:"text",value:E.address,onChange:ee=>{const qe=[...v.additionalStopsDetailed];qe[J].address=ee.target.value,y({...v,additionalStopsDetailed:qe})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Enter address"})]})})]},J)),v.additionalStopsDetailed.length===0&&s.jsx("p",{className:"text-xs text-gray-500 italic",children:"No additional stops added."})]})]}),s.jsxs("div",{className:"col-span-2 mt-4 border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase mb-2",children:"Special Items"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"piano",label:"Piano"},{id:"poolTable",label:"Pool Table"},{id:"safe",label:"Safe"},{id:"heavyFurniture",label:"Heavy Furniture"},{id:"artwork",label:"Artwork"}].map(E=>s.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v.specialItems.includes(E.id),onChange:J=>{const ee=J.target.checked?[...v.specialItems,E.id]:v.specialItems.filter(qe=>qe!==E.id);y({...v,specialItems:ee})},className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:E.label})]},E.id))})]}),s.jsx("div",{className:"col-span-2 mt-2",children:s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase mb-2",children:"Notes"})}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Booking Notes (Customer)"}),s.jsx("textarea",{value:v.notes,onChange:E=>y({...v,notes:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm h-20"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Mover/Job Notes"}),s.jsx("textarea",{value:v.jobNotes,onChange:E=>y({...v,jobNotes:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm h-20"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Issue Description"}),s.jsx("textarea",{value:v.issueDescription,onChange:E=>y({...v,issueDescription:E.target.value}),className:"w-full px-2 py-1 border rounded text-sm h-20"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:P,disabled:je.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 disabled:opacity-50",children:je.isPending?"Saving...":"Save All Changes"}),s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded font-bold hover:bg-gray-400",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[h.booking&&s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-medium mb-2 text-gray-900",children:"Customer Information"}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Name:"})," ",h.booking.customerName]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Email:"})," ",h.booking.customerEmail]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Phone:"})," ",h.booking.customerPhone]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"From:"})," ",h.booking.moveFromAddress]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"To:"})," ",h.booking.moveToAddress]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[s.jsx("h3",{className:"font-medium mb-1 text-gray-900",children:"Move Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",h.booking.moveType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Trucks Requested:"})," ",h.booking.requestedTrucks]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Bedrooms:"})," ",h.booking.bedroomsWithMattresses]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Boxes:"})," ",h.booking.boxCount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Packing:"})," ",h.booking.packingService]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Disassembly:"})," ",h.booking.disassemblyNeeds]})]}),h.booking.specialItems&&h.booking.specialItems.length>0&&s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Special Items:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.booking.specialItems.map((E,J)=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:E},J))})]}),h.booking.additionalStopsDetailed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Additional Stops:"}),s.jsx("ul",{className:"list-disc list-inside mt-1 text-xs text-gray-600",children:JSON.parse(h.booking.additionalStopsDetailed).map((E,J)=>s.jsx("li",{children:E.address},J))})]}),h.booking.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Booking Notes:"}),s.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',h.booking.notes,'"']})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("p",{className:"font-medium",children:["Status: ",s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Qc(h.status)}`,children:h.status})]}),F&&h.status!=="completed"&&!o&&s.jsx("button",{onClick:at,className:"text-xs text-blue-600 hover:underline",children:"Edit Times"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Scheduled:"})," ",oe(h.scheduledStartUtc)]}),o?s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Edit Actual Times"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Actual Start Time"}),s.jsx("input",{type:"datetime-local",value:c.actualStartUtc,onChange:E=>f({...c,actualStartUtc:E.target.value}),className:"w-full px-3 py-2 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Actual End Time"}),s.jsx("input",{type:"datetime-local",value:c.actualEndUtc,onChange:E=>f({...c,actualEndUtc:E.target.value}),className:"w-full px-3 py-2 border rounded text-sm"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Be,disabled:H.isPending,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm font-bold hover:bg-blue-700 disabled:opacity-50",children:H.isPending?"Saving...":"Save Times"}),s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 rounded text-sm font-bold hover:bg-gray-400",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[h.actualStartUtc&&s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Actual Start:"})," ",oe(h.actualStartUtc)]}),h.actualEndUtc&&s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Actual End:"})," ",oe(h.actualEndUtc)]})]}),h.baseAmountCents!==void 0&&h.baseAmountCents!==null&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded border border-blue-100",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Payment Details"}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-700",children:[s.jsx("span",{children:"Move Total:"}),s.jsx("span",{children:Y(h.baseAmountCents)})]}),h.tipAmountCents?s.jsxs("div",{className:"flex justify-between text-xs text-blue-700",children:[s.jsx("span",{children:"Tip:"}),s.jsx("span",{children:Y(h.tipAmountCents)})]}):null,s.jsxs("div",{className:"flex justify-between text-sm font-bold text-blue-900 mt-1 border-t border-blue-200 pt-1",children:[s.jsx("span",{children:"Total Taken:"}),s.jsx("span",{children:Y((h.baseAmountCents||0)+(h.tipAmountCents||0))})]})]})]}),h.notes&&s.jsxs("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[s.jsx("p",{className:"text-sm font-bold text-yellow-800 mb-1",children:"Mover/Job Notes:"}),s.jsx("p",{className:"text-sm text-yellow-900",children:h.notes})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Update Status"}),(()=>{const E=Nx(h.status);return s.jsxs("div",{className:"space-y-4",children:[E&&s.jsx("button",{onClick:()=>{E.nextStatus==="completed"?t(`/mover/job/${n}/tip`):S.mutate(E.nextStatus)},disabled:S.isPending,className:"w-full px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:S.isPending?"Updating...":E.label}),!E&&s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Status: ",s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Qc(h.status)}`,children:h.status})]}),F&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2 uppercase tracking-wider",children:"Admin: Reset Status"}),s.jsxs("select",{value:h.status,onChange:J=>S.mutate(J.target.value),disabled:S.isPending,className:"w-full px-3 py-2 border rounded text-sm bg-gray-50",children:[s.jsx("option",{value:"scheduled",children:"Scheduled (Reset)"}),s.jsx("option",{value:"enRoute",children:"En Route"}),s.jsx("option",{value:"started",children:"Started"}),s.jsx("option",{value:"finishedLoading",children:"Finished Loading"}),s.jsx("option",{value:"startUnloading",children:"Start Unloading"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"issueReported",children:"Issue Reported"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:"Note: Admins can bypass the normal status flow."})]})]})})()]}),h.issueDescription&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1 text-red-600",children:"Issue Description:"}),s.jsx("p",{className:"text-sm text-red-600",children:h.issueDescription})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Materials"}),!b&&h.status!=="completed"&&s.jsx("button",{onClick:$,className:"text-sm text-blue-600 hover:underline",children:"Edit Materials"})]}),b?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(E=>s.jsxs("button",{onClick:()=>we(E.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded text-sm font-medium hover:bg-gray-200",children:["+ ",E.label]},E.id))}),s.jsx("div",{className:"mt-4 space-y-2 border-t pt-4",children:x.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No materials added yet."}):x.map(E=>{var J;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>wt(E.type),className:"text-red-500 hover:text-red-700 text-xs font-bold",children:"Remove"}),s.jsx("span",{className:"text-sm font-medium capitalize",children:((J=M.find(ee=>ee.id===E.type))==null?void 0:J.label)||E.type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Ft(E.type,E.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300",children:"-"}),s.jsx("span",{className:"w-8 text-center font-bold",children:E.quantity}),s.jsx("button",{onClick:()=>Ft(E.type,E.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300",children:"+"})]})]},E.type)})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:he,disabled:Ye.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 disabled:opacity-50",children:Ye.isPending?"Saving...":"Save Materials"}),s.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded font-bold hover:bg-gray-400",children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-2",children:h.materialsUsed&&h.materialsUsed.length>0?h.materialsUsed.map((E,J)=>{var ee;return s.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded text-sm",children:[s.jsx("span",{className:"capitalize",children:((ee=M.find(qe=>qe.id===E.type))==null?void 0:ee.label)||E.type}),s.jsxs("span",{className:"font-bold",children:["x",E.quantity]})]},J)}):s.jsx("p",{className:"text-sm text-gray-500",children:"No materials recorded."})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Assigned Crew"}),F&&!r&&s.jsx("button",{onClick:()=>a(!0),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"+ Add Crew"})]}),h.assignedCrew&&h.assignedCrew.length>0?s.jsx("div",{className:"space-y-2",children:h.assignedCrew.map(E=>s.jsxs("div",{className:`flex items-center ${F?"justify-between":"justify-start"} p-3 bg-gray-50 rounded border`,children:[s.jsx("div",{children:s.jsxs("p",{className:"font-medium text-sm",children:[(()=>{var ee,qe;const J=(ee=E.userFullName)==null?void 0:ee.trim();return J||((qe=E.employeeNumber)!=null&&qe.trim()?E.employeeNumber.trim():`Employee #${E.id}`)})(),E.isManager&&s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Manager)"})]})}),F&&s.jsx("button",{onClick:()=>Ul(E.id),disabled:R.isPending,className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},E.id))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No crew assigned yet."}),F&&r&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Add Crew Members"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded p-2",children:Oe.length===0?s.jsx("p",{className:"text-xs text-gray-500",children:"All employees are already assigned"}):Oe.map(E=>s.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(E.id),onChange:J=>{J.target.checked?l([...i,E.id]):l(i.filter(ee=>ee!==E.id))},className:"mr-2"}),s.jsxs("span",{className:"text-sm",children:[(()=>{var ee,qe;const J=(ee=E.userFullName)==null?void 0:ee.trim();return J||((qe=E.employeeNumber)!=null&&qe.trim()?E.employeeNumber.trim():`Employee #${E.id}`)})(),E.isManager&&s.jsx("span",{className:"text-xs text-gray-500",children:" - Manager"})]})]},E.id))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{onClick:Va,disabled:R.isPending||i.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:R.isPending?"Adding...":"Add Selected"}),s.jsx("button",{onClick:()=>{a(!1),l([])},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 text-sm",children:"Cancel"})]})]})]})]})]})}function iw(){const{id:e}=Tl(),t=parseInt(e||"0"),n=ht(),[r,a]=w.useState(""),[i,l]=w.useState(null),{data:o,isLoading:u}=te({queryKey:["job",t],queryFn:()=>zc(t)}),{data:c,isLoading:f}=te({queryKey:["invoice-preview",t],queryFn:()=>xx(t)});if(u||f)return s.jsx("div",{className:"p-8 text-center text-gray-600",children:"Loading details..."});if(!o||!c)return s.jsx("div",{className:"p-8 text-center text-red-600",children:"Job not found"});const p=c.baseAmountCents,g=x=>{l(x),a("")},v=x=>{a(x),l(null)},b=(()=>{if(i!==null)return Math.round(p*(i/100));const x=parseFloat(r);return isNaN(x)?0:Math.round(x*100)})(),N=()=>{n(`/mover/job/${t}/invoice?tip=${b}`)};return s.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white shadow rounded-lg my-12",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"Add a Tip?"}),s.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Show your appreciation for the hard work!"}),s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-blue-700 uppercase font-semibold tracking-wider",children:"Move Base Total"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Y(p)}),s.jsxs("p",{className:"text-[10px] text-blue-600 mt-1 italic",children:["(Labor: ",Y(c.laborAmountCents)," + Trip: ",Y(c.tripFeeCents)," + Specials: ",Y(c.specialItemsTotalCents),")"]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Based on ",c.billedHours.toFixed(1)," billed hours"]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[10,15,20].map(x=>s.jsxs("button",{onClick:()=>g(x),className:`py-3 rounded-lg border-2 transition-all ${i===x?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-gray-200 hover:border-blue-300 text-gray-700"}`,children:[x,"%",s.jsx("div",{className:"text-[10px] font-normal",children:Y(Math.round(p*(x/100)))})]},x))}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Tip Amount ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:r,onChange:x=>v(x.target.value),placeholder:"0.00",className:"w-full pl-7 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:N,className:"w-full py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold text-lg shadow-lg",children:b>0?`Add ${Y(b)} Tip & Continue`:"No Tip, Continue to Signature"}),s.jsx("button",{onClick:()=>n(`/mover/job/${t}`),className:"w-full py-2 text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Cancel"})]})]})}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(null,arguments)}function lw(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ow(e,t){if(e==null)return{};var n,r,a=lw(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var vx={exports:{}},uw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cw=uw,dw=cw;function yx(){}function bx(){}bx.resetWarningCache=yx;var mw=function(){function e(r,a,i,l,o,u){if(u!==dw){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bx,resetWarningCache:yx};return n.PropTypes=n,n};vx.exports=mw();var hw=vx.exports;const ft=Au(hw);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Dr(e,t,n){this.x=e,this.y=t,this.time=n||new Date().getTime()}Dr.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};Dr.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};Dr.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function Hc(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}Hc.prototype.length=function(){for(var e=10,t=0,n=void 0,r=void 0,a=0;a<=e;a+=1){var i=a/e,l=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var u=l-n,c=o-r;t+=Math.sqrt(u*u+c*c)}n=l,r=o}return t};Hc.prototype._point=function(e,t,n,r,a){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+a*e*e*e};function fw(e,t,n){var r,a,i,l=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),l=null,i=e.apply(r,a),l||(r=a=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var f=t-(c-o);return r=this,a=arguments,f<=0||f>t?(l&&(clearTimeout(l),l=null),o=c,i=e.apply(r,a),l||(r=a=null)):!l&&n.trailing!==!1&&(l=setTimeout(u,f)),i}}function xe(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=fw(xe.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=xe.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(a){a.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(a))},this._handleMouseMove=function(a){n._mouseButtonDown&&n._strokeMoveUpdate(a)},this._handleMouseUp=function(a){a.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(a))},this._handleTouchStart=function(a){if(a.targetTouches.length===1){var i=a.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(a){a.preventDefault();var i=a.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(a){var i=a.target===n._canvas;i&&(a.preventDefault(),n._strokeEnd(a))},this.on()}xe.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};xe.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,l=n.height||this._canvas.height/a;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,l)},this._isEmpty=!1};xe.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))}};xe.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};xe.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};xe.prototype.isEmpty=function(){return this._isEmpty};xe.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};xe.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],l=i&&r.distanceTo(i)<this.minDistance;if(!(i&&l)){var o=this._addPoint(r),u=o.curve,c=o.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};xe.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};xe.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};xe.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};xe.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};xe.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new Dr(e-r.left,t-r.top,n||new Date().getTime())};xe.prototype._addPoint=function(e){var t=this.points,n=void 0;if(t.push(e),t.length>2){t.length===3&&t.unshift(t[0]),n=this._calculateCurveControlPoints(t[0],t[1],t[2]);var r=n.c2;n=this._calculateCurveControlPoints(t[1],t[2],t[3]);var a=n.c1,i=new Hc(t[1],r,a,t[2]),l=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:l}}return{}};xe.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,a=e.y-t.y,i=t.x-n.x,l=t.y-n.y,o={x:(e.x+t.x)/2,y:(e.y+t.y)/2},u={x:(t.x+n.x)/2,y:(t.y+n.y)/2},c=Math.sqrt(r*r+a*a),f=Math.sqrt(i*i+l*l),p=o.x-u.x,g=o.y-u.y,v=f/(c+f),y={x:u.x+p*v,y:u.y+g*v},b=t.x-y.x,N=t.y-y.y;return{c1:new Dr(o.x+b,o.y+N),c2:new Dr(u.x+b,u.y+N)}};xe.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r};xe.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};xe.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1};xe.prototype._drawCurve=function(e,t,n){var r=this._ctx,a=n-t,i=Math.floor(e.length());r.beginPath();for(var l=0;l<i;l+=1){var o=l/i,u=o*o,c=u*o,f=1-o,p=f*f,g=p*f,v=g*e.startPoint.x;v+=3*p*o*e.control1.x,v+=3*f*u*e.control2.x,v+=c*e.endPoint.x;var y=g*e.startPoint.y;y+=3*p*o*e.control1.y,y+=3*f*u*e.control2.y,y+=c*e.endPoint.y;var b=t+c*a;this._drawPoint(v,y,b)}r.closePath(),r.fill()};xe.prototype._drawDot=function(e){var t=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()};xe.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var a=e[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var l=a[i],o=new Dr(l.x,l.y,l.time),u=l.color;if(i===0)this.penColor=u,this._reset(),this._addPoint(o);else if(i!==a.length-1){var c=this._addPoint(o),f=c.curve,p=c.widths;f&&p&&t(f,p,u)}}else{this._reset();var g=a[0];n(g)}}};xe.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=0,i=0,l=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(t,function(x,d,m){var h=document.createElement("path");if(!isNaN(x.control1.x)&&!isNaN(x.control1.y)&&!isNaN(x.control2.x)&&!isNaN(x.control2.y)){var k="M "+x.startPoint.x.toFixed(3)+","+x.startPoint.y.toFixed(3)+" "+("C "+x.control1.x.toFixed(3)+","+x.control1.y.toFixed(3)+" ")+(x.control2.x.toFixed(3)+","+x.control2.y.toFixed(3)+" ")+(x.endPoint.x.toFixed(3)+","+x.endPoint.y.toFixed(3));h.setAttribute("d",k),h.setAttribute("stroke-width",(d.end*2.25).toFixed(3)),h.setAttribute("stroke",m),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),u.appendChild(h)}},function(x){var d=document.createElement("circle"),m=typeof e.dotSize=="function"?e.dotSize():e.dotSize;d.setAttribute("r",m),d.setAttribute("cx",x.x),d.setAttribute("cy",x.y),d.setAttribute("fill",x.color),u.appendChild(d)});var c="data:image/svg+xml;base64,",f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+a+" "+i+" "+l+" "+o+'"')+(' width="'+l+'"')+(' height="'+o+'"')+">",p=u.innerHTML;if(p===void 0){var g=document.createElement("dummy"),v=u.childNodes;g.innerHTML="";for(var y=0;y<v.length;y+=1)g.appendChild(v[y].cloneNode(!0));p=g.innerHTML}var b="</svg>",N=f+p+b;return c+btoa(N)};xe.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(n,r){return t._drawCurve(n,r.start,r.end)},function(n){return t._drawDot(n)}),this._data=e};xe.prototype.toData=function(){return this._data};var jx={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Sx,function(){return function(n){function r(i){if(a[i])return a[i].exports;var l=a[i]={exports:{},id:i,loaded:!1};return n[i].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}var a={};return r.m=n,r.c=a,r.p="",r(0)}([function(n,r){function a(c){var f=c.getContext("2d"),p=c.width,g=c.height,v=f.getImageData(0,0,p,g).data,y=o(!0,p,g,v),b=o(!1,p,g,v),N=u(!0,p,g,v),x=u(!1,p,g,v),d=x-N+1,m=b-y+1,h=f.getImageData(N,y,d,m);return c.width=d,c.height=m,f.clearRect(0,0,d,m),f.putImageData(h,0,0),c}function i(c,f,p,g){return{red:g[4*(p*f+c)],green:g[4*(p*f+c)+1],blue:g[4*(p*f+c)+2],alpha:g[4*(p*f+c)+3]}}function l(c,f,p,g){return i(c,f,p,g).alpha}function o(c,f,p,g){for(var v=c?1:-1,y=c?0:p-1,b=y;c?b<p:b>-1;b+=v)for(var N=0;N<f;N++)if(l(N,b,f,g))return b;return null}function u(c,f,p,g){for(var v=c?1:-1,y=c?0:f-1,b=y;c?b<f:b>-1;b+=v)for(var N=0;N<p;N++)if(l(b,N,f,g))return b;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a}])})})(jx);var pw=jx.exports;const xw=Au(pw);var gw=["canvasProps","clearOnResize"],Da=function(e){Fj(n,e);var t=Oj(n);function n(){var r;Ij(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=t.call.apply(t,[this].concat(i)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=ow(o,gw);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new xe(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),xw(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,c=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},f=c.width,p=c.height;if(!(typeof f<"u"&&typeof p<"u")){var g=r.getCanvas(),v=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof f>"u"&&(g.width=g.offsetWidth*v),typeof p>"u"&&(g.height=g.offsetHeight*v),g.getContext("2d").scale(v,v),r.clear()}},r.render=function(){var o=r.props.canvasProps;return qu.createElement("canvas",Iu({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return Dj(n)}(w.Component);Da.propTypes={velocityFilterWeight:ft.number,minWidth:ft.number,maxWidth:ft.number,minDistance:ft.number,dotSize:ft.oneOfType([ft.number,ft.func]),penColor:ft.string,throttle:ft.number,onEnd:ft.func,onBegin:ft.func,canvasProps:ft.object,clearOnResize:ft.bool};Da.defaultProps={clearOnResize:!0};Da.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");function vw(){const{id:e}=Tl(),t=parseInt(e||"0"),n=ht(),r=lr(),a=w.useMemo(()=>{const b=new URLSearchParams(r.search);return parseInt(b.get("tip")||"0")},[r.search]),i=w.useRef(null),l=w.useRef(null),[o,u]=w.useState(null),{data:c,isLoading:f}=te({queryKey:["job",t],queryFn:()=>zc(t)}),{data:p,isLoading:g}=te({queryKey:["invoice-preview",t,a],queryFn:()=>xx(t,a)}),v=pe({mutationFn:()=>Yj(t,a),onSuccess:b=>{Wc(t,"paymentPending").then(()=>{window.location.href=b.checkoutUrl})},onError:b=>{u(`Payment Error: ${b.message}`)}});if(f||g)return s.jsx("div",{className:"p-8 text-center text-gray-600",children:"Loading invoice details..."});if(!c||!p)return s.jsx("div",{className:"p-8 text-center text-red-600",children:"Job not found"});const y=()=>{var b,N,x,d;if(u(null),(b=i.current)!=null&&b.isEmpty()){u("Employee signature is required");return}if((N=l.current)!=null&&N.isEmpty()){u("Customer signature is required");return}console.log("Employee Signature:",(x=i.current)==null?void 0:x.toDataURL()),console.log("Customer Signature:",(d=l.current)==null?void 0:d.toDataURL()),v.mutate()};return s.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow rounded-lg",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-center border-b pb-4",children:"Move Invoice Summary"}),o&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm",children:o}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500 mb-2",children:"Job Information"}),s.jsxs("p",{className:"text-lg font-medium",children:["Job #",c.id]}),c.booking&&s.jsx("p",{className:"text-gray-700",children:c.booking.customerName}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Start: ",oe(c.actualStartUtc||c.scheduledStartUtc)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["End: ",oe(c.actualEndUtc||new Date().toISOString())]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500 mb-2",children:"Pricing Breakdown"}),s.jsxs("p",{className:"text-gray-600 text-xs italic",children:[p.billedHours.toFixed(2)," hrs @ ",Y(p.hourlyRateCents),"/hr (",p.crewSize," movers)"]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Labor Total:"}),s.jsx("span",{className:"font-medium",children:Y(p.laborAmountCents)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Trip Fee:"}),s.jsx("span",{className:"font-medium",children:Y(p.tripFeeCents)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Special Items:"}),s.jsx("span",{className:"font-medium",children:Y(p.specialItemsTotalCents)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Materials:"}),s.jsx("span",{className:"font-medium",children:Y(p.materialsTotalCents)})]}),s.jsxs("div",{className:"flex justify-between font-bold border-t pt-1 mt-1",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:Y(p.baseAmountCents)})]}),a>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Tip:"}),s.jsx("span",{children:Y(a)})]}),s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:"Deposit Paid:"}),s.jsxs("span",{children:["-",Y(p.depositAmountCents)]})]}),s.jsxs("div",{className:"flex justify-between text-2xl font-bold text-blue-600 pt-2 border-t-2 border-blue-100",children:[s.jsx("span",{children:"Balance:"}),s.jsx("span",{children:Y(p.totalBalanceCents)})]})]})]}),s.jsxs("div",{className:"space-y-8 mb-8 border-t pt-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"font-semibold mb-2 flex justify-between items-center",children:[s.jsx("span",{children:"Employee Signature"}),s.jsx("button",{onClick:()=>{var b;return(b=i.current)==null?void 0:b.clear()},className:"text-xs text-blue-600 hover:underline",children:"Clear"})]}),s.jsx("div",{className:"border rounded bg-gray-50",children:s.jsx(Da,{ref:i,penColor:"black",canvasProps:{className:"w-full h-40"}})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"font-semibold mb-2 flex justify-between items-center",children:[s.jsx("span",{children:"Customer Signature"}),s.jsx("button",{onClick:()=>{var b;return(b=l.current)==null?void 0:b.clear()},className:"text-xs text-blue-600 hover:underline",children:"Clear"})]}),s.jsx("div",{className:"border rounded bg-gray-50",children:s.jsx(Da,{ref:l,penColor:"black",canvasProps:{className:"w-full h-40"}})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>n(`/mover/job/${t}/tip`),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",children:"Change Tip"}),s.jsx("button",{onClick:y,disabled:v.isPending,className:"flex-[2] px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-semibold text-lg shadow-md",children:v.isPending?"Redirecting to Stripe...":"Sign & Proceed to Payment"})]})]})}function yw(){const{id:e}=Tl(),t=parseInt(e||"0"),[n,r]=w.useState("updating");return w.useEffect(()=>{(async()=>{try{await Wc(t,"completed"),r("success")}catch(i){console.error("Finalization error:",i),r("error")}})()},[t]),s.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white shadow rounded-lg text-center my-12",children:[n==="updating"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Processing..."}),s.jsx("p",{className:"text-gray-600",children:"Finalizing job status."})]}),n==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-full bg-green-100 p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-700",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The job has been marked as completed."}),s.jsx(fe,{to:"/mover/dispatch",className:"block w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:"Back to Dispatch Board"})]}),n==="error"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-full bg-red-100 p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-700",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Payment was successful, but we couldn't update the job status automatically."}),s.jsx(fe,{to:`/mover/job/${t}`,className:"block w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-semibold",children:"Retry manually in Job Details"})]})]})}async function bw(e){return Z("/time-entries/check-in",{method:"POST",body:JSON.stringify({jobId:e})})}async function jw(e){return Z("/time-entries/check-out",{method:"POST",body:JSON.stringify({timeEntryId:e})})}async function ww(){return Z("/time-entries")}function Nw(){const{data:e}=te({queryKey:["jobs"],queryFn:()=>Os()}),{data:t}=te({queryKey:["timeEntries"],queryFn:ww}),n=pe({mutationFn:bw}),r=pe({mutationFn:jw});return s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Check In/Out"}),s.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(a=>{const i=t==null?void 0:t.find(l=>l.jobId===a.id&&!l.checkOutUtc);return s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Job #",a.id]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",a.status]})]}),i?s.jsx("button",{onClick:()=>r.mutate(i.id),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Check Out"}):s.jsx("button",{onClick:()=>n.mutate(a.id),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Check In"})]})},a.id)})})]})}async function kw(e,t){return Z(`/payroll/summary?periodStartUtc=${encodeURIComponent(e)}&periodEndUtc=${encodeURIComponent(t)}`)}function Sw(){const e=new Date,t=Aj(e,14),{data:n,isLoading:r}=te({queryKey:["payroll",t.toISOString(),e.toISOString()],queryFn:()=>kw(t.toISOString(),e.toISOString())});return r?s.jsx("div",{children:"Loading payroll summary..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Payroll Summary"}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Hours"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500",children:"Estimated Pay"})]})}),s.jsx("tbody",{children:n==null?void 0:n.map(a=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-6 py-4",children:a.employeeNumber||`Employee ${a.employeeId}`}),s.jsx("td",{className:"px-6 py-4",children:a.totalHours.toFixed(2)}),s.jsxs("td",{className:"px-6 py-4",children:[Y(a.hourlyRateCents),"/hr"]}),s.jsx("td",{className:"px-6 py-4 font-medium",children:Y(a.estimatedPayCents)})]},a.employeeId))})]})})]})}async function Cw(e,t){const n=new URLSearchParams;return Z(`/notifications?${n.toString()}`)}function _w(){const{data:e,isLoading:t}=te({queryKey:["notifications"],queryFn:()=>Cw()});return t?s.jsx("div",{children:"Loading communications..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Communications"}),s.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(n=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("p",{className:"font-medium",children:n.template}),s.jsx("p",{className:"text-sm text-gray-600",children:oe(n.createdAtUtc)}),s.jsxs("p",{className:"text-sm",children:["Status: ",n.status]})]},n.id))})]})}function Ew(){const e=ht(),t=()=>{Rl(),e("/login")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(fe,{to:"/admin/users",className:"text-gray-700 hover:text-gray-900",children:"Users"}),s.jsx(fe,{to:"/admin/config",className:"text-gray-700 hover:text-gray-900",children:"Config"}),s.jsx(fe,{to:"/admin/employees",className:"text-gray-700 hover:text-gray-900",children:"Employees"}),s.jsx(fe,{to:"/admin/bookings",className:"text-gray-700 hover:text-gray-900",children:"Bookings"}),s.jsx(fe,{to:"/admin/jobs",className:"text-gray-700 hover:text-gray-900",children:"Jobs"}),s.jsx(fe,{to:"/admin/create-booking",className:"text-gray-700 hover:text-gray-900",children:"Create Booking"}),s.jsx(fe,{to:"/admin/audit",className:"text-gray-700 hover:text-gray-900",children:"Audit Log"})]}),s.jsx("button",{onClick:t,className:"text-gray-700 hover:text-gray-900",children:"Logout"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx(Fl,{})})]})}async function Pw(){return Z("/admin/users")}async function Tw(e){return Z("/admin/users",{method:"POST",body:JSON.stringify(e)})}async function Mw(e,t){return Z(`/admin/users/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function Fw(e,t){return Z(`/admin/users/${e}/reset-password`,{method:"POST",body:JSON.stringify({newPassword:t})})}async function Rw(e){return Z(`/admin/users/${e}`,{method:"DELETE"})}async function Ow(){return Z("/admin/config")}async function Iw(e){return Z("/admin/config",{method:"POST",body:JSON.stringify(e)})}async function wx(){return Z("/admin/trucks")}async function Dw(e){return Z("/admin/trucks",{method:"POST",body:JSON.stringify(e)})}async function Aw(e,t){return Z(`/admin/trucks/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function Uw(e){return Z(`/admin/trucks/${e}`,{method:"DELETE"})}const nh=["customer","sales","mover","admin"];function Lw(){const[e,t]=w.useState(!1),[n,r]=w.useState(null),[a,i]=w.useState({email:"",password:"",fullName:"",role:"customer"}),[l,o]=w.useState({}),[u,c]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState(""),[y,b]=w.useState(""),N=vn(),{data:x,isLoading:d}=te({queryKey:["users"],queryFn:Pw}),{data:m}=te({queryKey:["currentUser"],queryFn:Ol}),h=pe({mutationFn:Tw,onSuccess:()=>{N.invalidateQueries({queryKey:["users"]}),t(!1),i({email:"",password:"",fullName:"",role:"customer"}),alert("User created successfully")},onError:P=>{alert(`Error: ${P.message}`)}}),k=pe({mutationFn:({userId:P,data:$})=>Mw(P,$),onSuccess:()=>{N.invalidateQueries({queryKey:["users"]}),r(null),o({}),alert("User updated successfully")},onError:P=>{alert(`Error: ${P.message}`)}}),_=pe({mutationFn:({userId:P,password:$})=>Fw(P,$),onSuccess:()=>{N.invalidateQueries({queryKey:["users"]}),c(!1),p(null),v(""),b(""),alert("Password reset successfully")},onError:P=>{alert(`Error: ${P.message}`)}}),F=pe({mutationFn:Rw,onSuccess:()=>{N.invalidateQueries({queryKey:["users"]}),alert("User deleted successfully")},onError:P=>{alert(`Error: ${P.message}`)}}),T=()=>{if(!g||g.length<6){alert("Password must be at least 6 characters");return}if(g!==y){alert("Passwords do not match");return}f&&_.mutate({userId:f,password:g})},U=P=>{if(m&&P.id===m.id){alert("You cannot delete your own account");return}confirm(`Are you sure you want to delete user "${P.email}"? This action cannot be undone.`)&&F.mutate(P.id)},C=P=>{if(P.preventDefault(),!a.email||!a.password||!a.fullName){alert("Please fill in all required fields");return}h.mutate(a)},S=P=>{if(P.preventDefault(),!n)return;const $={...l};(n.role==="mover"||n.employeeId)&&H!==""&&($.hourlyRateCents=ue(H)),k.mutate({userId:n.id,data:$})},R=()=>{t(!1),r(null),je(""),i({email:"",password:"",fullName:"",role:"customer"}),o({})},[H,je]=w.useState(""),Ye=P=>{r(P),je(mx(P.hourlyRateCents)),o({role:P.role,isActive:P.isActive,fullName:P.fullName}),t(!1)},at=P=>{p(P.id),v(""),b(""),c(!0)},Be=P=>{switch(P){case"admin":return"bg-purple-100 text-purple-800";case"sales":return"bg-blue-100 text-blue-800";case"mover":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},D=P=>P==="mover"?"Employee":P.charAt(0).toUpperCase()+P.slice(1);return d?s.jsx("div",{children:"Loading..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),!e&&!n&&s.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add User"})]}),e&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New User"}),s.jsxs("form",{onSubmit:C,children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:a.email,onChange:P=>i({...a,email:P.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",value:a.password,onChange:P=>i({...a,password:P.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,minLength:6})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a.fullName,onChange:P=>i({...a,fullName:P.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:a.role,onChange:P=>i({...a,role:P.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,children:nh.map(P=>s.jsx("option",{value:P,children:D(P)},P))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",disabled:h.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:h.isPending?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]})]}),n&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Edit User: ",n.email]}),s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:n.email,className:"w-full px-3 py-2 border rounded bg-gray-50",disabled:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:l.fullName||n.fullName,onChange:P=>o({...l,fullName:P.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),s.jsx("select",{value:l.role||n.role,onChange:P=>o({...l,role:P.target.value}),className:"w-full px-3 py-2 border rounded",children:nh.map(P=>s.jsx("option",{value:P,children:D(P)},P))})]}),(n.role==="mover"||n.employeeId)&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hourly Rate"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:H,onChange:P=>{const $=P.target.value;je($===""?"":parseFloat($))},className:"w-full pl-7 pr-3 py-2 border rounded",placeholder:"25.00"})]}),n.hourlyRateCents&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",Y(n.hourlyRateCents),"/hour"]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:l.isActive!==void 0?l.isActive:n.isActive,onChange:P=>o({...l,isActive:P.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]})}),s.jsx("div",{className:"mb-4 pt-4 border-t",children:s.jsx("button",{type:"button",onClick:()=>at(n),className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:"Reset Password"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",disabled:k.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:k.isPending?"Updating...":"Update User"}),s.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h2",{className:"text-lg font-semibold",children:"All Users"})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Full Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hourly Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x==null?void 0:x.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.fullName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Be(P.role)}`,children:D(P.role)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role==="mover"||P.employeeId?P.hourlyRateCents?Y(P.hourlyRateCents)+"/hr":"N/A":""}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:P.isActive!==!1?s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Active"}):s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs",children:"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ye(P),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),s.jsx("button",{onClick:()=>at(P),className:"text-yellow-600 hover:text-yellow-900 text-xs",title:"Reset Password",children:"Reset PW"}),s.jsx("button",{onClick:()=>U(P),disabled:(m==null?void 0:m.id)===P.id||F.isPending,className:`text-xs ${(m==null?void 0:m.id)===P.id?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-900"}`,title:(m==null?void 0:m.id)===P.id?"Cannot delete your own account":"Delete User",children:"Delete"})]})})]},P.id))})]}),(x==null?void 0:x.length)===0&&s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No users found. Add your first user above."})]})]}),u&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reset Password"}),(()=>{const P=x==null?void 0:x.find($=>$.id===f);return P?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Reset password for ",s.jsx("strong",{children:P.email})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",value:g,onChange:$=>v($.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"Minimum 6 characters",minLength:6})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",value:y,onChange:$=>b($.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"Confirm new password",minLength:6})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:T,disabled:_.isPending||!g||!y,className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50",children:_.isPending?"Resetting...":"Reset Password"}),s.jsx("button",{onClick:()=>{c(!1),p(null),v(""),b("")},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]}):null})()]})})]})}function $w(){const e=vn(),{data:t,isLoading:n}=te({queryKey:["trucks"],queryFn:wx}),[r,a]=w.useState(null),[i,l]=w.useState(""),[o,u]=w.useState(""),c=pe({mutationFn:Dw,onSuccess:()=>{e.invalidateQueries({queryKey:["trucks"]}),l("")},onError:d=>{alert(`Error: ${d.message}`)}}),f=pe({mutationFn:({truckId:d,data:m})=>Aw(d,m),onSuccess:()=>{e.invalidateQueries({queryKey:["trucks"]}),a(null),u("")},onError:d=>{alert(`Error: ${d.message}`)}}),p=pe({mutationFn:Uw,onSuccess:()=>{e.invalidateQueries({queryKey:["trucks"]})},onError:d=>{alert(`Error: ${d.message}`)}}),g=()=>{if(!i.trim()){alert("Please enter a truck name");return}c.mutate({name:i.trim(),isActive:!0})},v=d=>{a(d.id),u(d.name)},y=d=>{if(!o.trim()){alert("Please enter a truck name");return}f.mutate({truckId:d,data:{name:o.trim()}})},b=()=>{a(null),u("")},N=d=>{f.mutate({truckId:d.id,data:{isActive:!d.isActive}})},x=d=>{confirm("Are you sure you want to delete this truck? This cannot be undone if the truck is assigned to any jobs.")&&p.mutate(d)};return n?s.jsx("div",{className:"mt-4",children:"Loading trucks..."}):s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Truck Names"}),s.jsxs("div",{className:"space-y-2",children:[t==null?void 0:t.map(d=>s.jsx("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:r===d.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:o,onChange:m=>u(m.target.value),className:"flex-1 px-2 py-1 border rounded",onKeyDown:m=>{m.key==="Enter"&&y(d.id),m.key==="Escape"&&b()},autoFocus:!0}),s.jsx("button",{onClick:()=>y(d.id),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",disabled:f.isPending,children:"Save"}),s.jsx("button",{onClick:b,className:"px-3 py-1 bg-gray-400 text-white rounded text-sm hover:bg-gray-500",children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`flex-1 ${d.isActive?"":"text-gray-400 line-through"}`,children:d.name}),s.jsx("button",{onClick:()=>N(d),className:`px-3 py-1 rounded text-sm ${d.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:f.isPending,children:d.isActive?"Active":"Inactive"}),s.jsx("button",{onClick:()=>v(d),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm hover:bg-blue-200",children:"Edit"}),s.jsx("button",{onClick:()=>x(d.id),className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm hover:bg-red-200",disabled:p.isPending,children:"Delete"})]})},d.id)),s.jsxs("div",{className:"flex items-center gap-2 p-2",children:[s.jsx("input",{type:"text",value:i,onChange:d=>l(d.target.value),placeholder:"Enter truck name",className:"flex-1 px-2 py-1 border rounded",onKeyDown:d=>{d.key==="Enter"&&g()}}),s.jsx("button",{onClick:g,className:"px-4 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",disabled:c.isPending,children:"Add Truck"})]})]})]})}function Bw(){const e=vn(),{data:t,isLoading:n}=te({queryKey:["config"],queryFn:Ow}),r=pe({mutationFn:Iw,onSuccess:()=>{e.invalidateQueries({queryKey:["config"]}),alert("Configuration updated successfully")},onError:o=>{alert(`Error: ${o.message}`)}}),[a,i]=w.useState({customerDeposit:"",customerRescheduleFee:"",salesDepositMin:"",salesDepositMax:"",salesRescheduleFeeMin:"",salesRescheduleFeeMax:"",salesTripFeeMin:"",salesTripFeeMax:"",salesCommissionRate:"",commissionCap:"",holdMinutes:"",payPeriodDays:"",notificationsEnabled:!1,totalTrucks:"",bucketMinutes:"",maxTrucksPerBooking:"",fixedOverheadMinutes:"",minBillMinutes:"",billIncrementMinutes:"",hourlyRatePerMover2:"",hourlyRatePerMover3:"",hourlyRatePerMover4:"",truckHourlyRate:"",baseMinutesPerBedroom:"",transportFeeBase:"",specialItemPianoFee:"",specialItemPoolTableFee:"",specialItemSafeFee:"",specialItemHeavyFurnitureFee:"",specialItemArtworkFee:"",freeServiceAreaMiles:"",transportFeePerMile:"",transportFeePerMinute:"",priceSmallBox:"",priceMediumBox:"",priceLargeBox:"",priceTvBox:"",priceShrinkWrap:"",priceTape:""});w.useEffect(()=>{if(t){const o=u=>mx(u).toString();i({customerDeposit:o(t.customerDepositCents),customerRescheduleFee:o(t.customerRescheduleFeeCents),salesDepositMin:o(t.salesDepositMinCents),salesDepositMax:o(t.salesDepositMaxCents),salesRescheduleFeeMin:o(t.salesRescheduleFeeMinCents),salesRescheduleFeeMax:o(t.salesRescheduleFeeMaxCents),salesTripFeeMin:o(t.salesTripFeeMinCents),salesTripFeeMax:o(t.salesTripFeeMaxCents),salesCommissionRate:(t.salesCommissionRateBps/100).toFixed(2),commissionCap:t.commissionCapCents?o(t.commissionCapCents):"",holdMinutes:t.holdMinutes.toString(),payPeriodDays:t.payPeriodDays.toString(),notificationsEnabled:t.notificationsEnabled,totalTrucks:t.totalTrucks.toString(),bucketMinutes:t.bucketMinutes.toString(),maxTrucksPerBooking:t.maxTrucksPerBooking?t.maxTrucksPerBooking.toString():"",fixedOverheadMinutes:t.fixedOverheadMinutes.toString(),minBillMinutes:t.minBillMinutes.toString(),billIncrementMinutes:t.billIncrementMinutes.toString(),hourlyRatePerMover2:o(t.hourlyRatePerMover2),hourlyRatePerMover3:o(t.hourlyRatePerMover3),hourlyRatePerMover4:o(t.hourlyRatePerMover4),truckHourlyRate:o(t.truckHourlyRateCents),baseMinutesPerBedroom:t.baseMinutesPerBedroom.toString(),transportFeeBase:o(t.transportFeeBaseCents),specialItemPianoFee:o(t.specialItemPianoFeeCents),specialItemPoolTableFee:o(t.specialItemPoolTableFeeCents),specialItemSafeFee:o(t.specialItemSafeFeeCents),specialItemHeavyFurnitureFee:o(t.specialItemHeavyFurnitureFeeCents),specialItemArtworkFee:o(t.specialItemArtworkFeeCents),freeServiceAreaMiles:t.freeServiceAreaMiles.toString(),transportFeePerMile:o(t.transportFeePerMileCents),transportFeePerMinute:o(t.transportFeePerMinuteCents),priceSmallBox:o(t.priceSmallBoxCents),priceMediumBox:o(t.priceMediumBoxCents),priceLargeBox:o(t.priceLargeBoxCents),priceTvBox:o(t.priceTvBoxCents),priceShrinkWrap:o(t.priceShrinkWrapCents),priceTape:o(t.priceTapeCents)})}},[t]);const l=o=>{o.preventDefault();const u={customerDepositCents:ue(parseFloat(a.customerDeposit)),customerRescheduleFeeCents:ue(parseFloat(a.customerRescheduleFee)),salesDepositMinCents:ue(parseFloat(a.salesDepositMin)),salesDepositMaxCents:ue(parseFloat(a.salesDepositMax)),salesRescheduleFeeMinCents:ue(parseFloat(a.salesRescheduleFeeMin)),salesRescheduleFeeMaxCents:ue(parseFloat(a.salesRescheduleFeeMax)),salesTripFeeMinCents:ue(parseFloat(a.salesTripFeeMin)),salesTripFeeMaxCents:ue(parseFloat(a.salesTripFeeMax)),salesCommissionRateBps:Math.round(parseFloat(a.salesCommissionRate)*100),commissionCapCents:a.commissionCap?ue(parseFloat(a.commissionCap)):null,holdMinutes:parseInt(a.holdMinutes),payPeriodDays:parseInt(a.payPeriodDays),notificationsEnabled:a.notificationsEnabled,totalTrucks:parseInt(a.totalTrucks),bucketMinutes:parseInt(a.bucketMinutes),maxTrucksPerBooking:a.maxTrucksPerBooking?parseInt(a.maxTrucksPerBooking):null,fixedOverheadMinutes:parseInt(a.fixedOverheadMinutes),minBillMinutes:parseInt(a.minBillMinutes),billIncrementMinutes:parseInt(a.billIncrementMinutes),hourlyRatePerMover2:ue(parseFloat(a.hourlyRatePerMover2)),hourlyRatePerMover3:ue(parseFloat(a.hourlyRatePerMover3)),hourlyRatePerMover4:ue(parseFloat(a.hourlyRatePerMover4)),truckHourlyRateCents:ue(parseFloat(a.truckHourlyRate)),baseMinutesPerBedroom:parseInt(a.baseMinutesPerBedroom),transportFeeBaseCents:ue(parseFloat(a.transportFeeBase)),specialItemPianoFeeCents:ue(parseFloat(a.specialItemPianoFee)),specialItemPoolTableFeeCents:ue(parseFloat(a.specialItemPoolTableFee)),specialItemSafeFeeCents:ue(parseFloat(a.specialItemSafeFee)),specialItemHeavyFurnitureFeeCents:ue(parseFloat(a.specialItemHeavyFurnitureFee)),specialItemArtworkFeeCents:ue(parseFloat(a.specialItemArtworkFee)),freeServiceAreaMiles:parseInt(a.freeServiceAreaMiles),transportFeePerMileCents:ue(parseFloat(a.transportFeePerMile)),transportFeePerMinuteCents:ue(parseFloat(a.transportFeePerMinute)),priceSmallBoxCents:ue(parseFloat(a.priceSmallBox)),priceMediumBoxCents:ue(parseFloat(a.priceMediumBox)),priceLargeBoxCents:ue(parseFloat(a.priceLargeBox)),priceTvBoxCents:ue(parseFloat(a.priceTvBox)),priceShrinkWrapCents:ue(parseFloat(a.priceShrinkWrap)),priceTapeCents:ue(parseFloat(a.priceTape))};r.mutate(u)};return n?s.jsx("div",{children:"Loading configuration..."}):t?s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Company Configuration"}),s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Fees"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Customer Deposit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.customerDeposit,onChange:o=>i({...a,customerDeposit:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Customer Reschedule Fee ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.customerRescheduleFee,onChange:o=>i({...a,customerRescheduleFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sales Fees"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Deposit Minimum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesDepositMin,onChange:o=>i({...a,salesDepositMin:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Deposit Maximum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesDepositMax,onChange:o=>i({...a,salesDepositMax:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Reschedule Fee Minimum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesRescheduleFeeMin,onChange:o=>i({...a,salesRescheduleFeeMin:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Reschedule Fee Maximum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesRescheduleFeeMax,onChange:o=>i({...a,salesRescheduleFeeMax:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Trip Fee Minimum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesTripFeeMin,onChange:o=>i({...a,salesTripFeeMin:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Trip Fee Maximum ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.salesTripFeeMax,onChange:o=>i({...a,salesTripFeeMax:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Commission Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Sales Commission Rate (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.salesCommissionRate,onChange:o=>i({...a,salesCommissionRate:o.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"5.00",required:!0}),s.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage of booking value (e.g., 5.00 for 5%)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Commission Cap (optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.commissionCap,onChange:o=>i({...a,commissionCap:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",placeholder:"Leave empty for no cap"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum commission per booking (optional)"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Operational Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Hold Minutes ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:a.holdMinutes,onChange:o=>i({...a,holdMinutes:o.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Time slot hold duration for pending payments"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Pay Period Days ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:a.payPeriodDays,onChange:o=>i({...a,payPeriodDays:o.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of days in a pay period"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bucket Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Total Trucks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:a.totalTrucks,onChange:o=>i({...a,totalTrucks:o.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total number of trucks available for bookings"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Bucket Minutes ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:a.bucketMinutes,onChange:o=>i({...a,bucketMinutes:o.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Time bucket size in minutes (e.g., 15 for 15-minute buckets)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Trucks Per Booking (optional)"}),s.jsx("input",{type:"number",min:"1",value:a.maxTrucksPerBooking,onChange:o=>i({...a,maxTrucksPerBooking:o.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"Leave empty for no limit"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of trucks that can be requested in a single booking"})]})]}),s.jsx($w,{})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Settings"}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.notificationsEnabled,onChange:o=>i({...a,notificationsEnabled:o.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Enable Notifications"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enable email and SMS notifications"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Estimation & Quote Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-3 pb-2 border-b",children:s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Mover Hourly Rates"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rate per Mover for 2 Movers ($/hr)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.hourlyRatePerMover2,onChange:o=>i({...a,hourlyRatePerMover2:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:["Total crew + 1 truck: $",((parseFloat(a.hourlyRatePerMover2)||0)*2+(parseFloat(a.truckHourlyRate)||0)).toFixed(2),"/hr"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rate per Mover for 3 Movers ($/hr)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.hourlyRatePerMover3,onChange:o=>i({...a,hourlyRatePerMover3:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:["Total crew + 1 truck: $",((parseFloat(a.hourlyRatePerMover3)||0)*3+(parseFloat(a.truckHourlyRate)||0)).toFixed(2),"/hr"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rate per Mover for 4 Movers ($/hr)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.hourlyRatePerMover4,onChange:o=>i({...a,hourlyRatePerMover4:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:["Total crew + 1 truck: $",((parseFloat(a.hourlyRatePerMover4)||0)*4+(parseFloat(a.truckHourlyRate)||0)).toFixed(2),"/hr"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Truck Hourly Rate ($/hr)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.truckHourlyRate,onChange:o=>i({...a,truckHourlyRate:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:"Flat rate added per truck requested"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minutes per Bedroom"}),s.jsx("input",{type:"number",value:a.baseMinutesPerBedroom,onChange:o=>i({...a,baseMinutesPerBedroom:o.target.value}),className:"w-full px-3 py-2 border rounded"}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:"Time added to the move per bedroom"})]}),s.jsxs("div",{className:"md:col-span-2 pt-4 border-t",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Trip Fee Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Trip Fee Base Minimum ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.transportFeeBase,onChange:o=>i({...a,transportFeeBase:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:"Fixed fee applied to every move"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Trip Fee per Mile ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.transportFeePerMile,onChange:o=>i({...a,transportFeePerMile:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]})]})]}),s.jsxs("div",{className:"md:col-span-2 pt-4 border-t",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Special Item Flat Fees"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Piano Fee ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.specialItemPianoFee,onChange:o=>i({...a,specialItemPianoFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pool Table Fee ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.specialItemPoolTableFee,onChange:o=>i({...a,specialItemPoolTableFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Safe Fee ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.specialItemSafeFee,onChange:o=>i({...a,specialItemSafeFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heavy Furniture Fee ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.specialItemHeavyFurnitureFee,onChange:o=>i({...a,specialItemHeavyFurnitureFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Artwork Fee ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.specialItemArtworkFee,onChange:o=>i({...a,specialItemArtworkFee:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]})]})]}),s.jsx("div",{className:"md:col-span-3 pt-4 pb-2 border-b",children:s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Transport Fees"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Free Service Area (Miles)"}),s.jsx("input",{type:"number",value:a.freeServiceAreaMiles,onChange:o=>i({...a,freeServiceAreaMiles:o.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fee Per Mile ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.transportFeePerMile,onChange:o=>i({...a,transportFeePerMile:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fee Per Minute ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.transportFeePerMinute,onChange:o=>i({...a,transportFeePerMinute:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsx("div",{className:"md:col-span-3 pt-4 pb-2 border-b",children:s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Calculation Factors"})}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center text-sm font-medium mb-1",children:["Fixed Overhead (Minutes)",s.jsx("span",{className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 bg-gray-200 text-gray-500 rounded-full text-[10px] cursor-help",title:"Base time added to every move for setup, walkthrough, equipment prep, and final wrap-up.",children:"?"})]}),s.jsx("input",{type:"number",value:a.fixedOverheadMinutes,onChange:o=>i({...a,fixedOverheadMinutes:o.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center text-sm font-medium mb-1",children:["Minimum Bill (Minutes)",s.jsx("span",{className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 bg-gray-200 text-gray-500 rounded-full text-[10px] cursor-help",title:"The minimum amount of time that will be billed for any job, ensuring small moves are still profitable.",children:"?"})]}),s.jsx("input",{type:"number",value:a.minBillMinutes,onChange:o=>i({...a,minBillMinutes:o.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Increment (Minutes)"}),s.jsx("input",{type:"number",value:a.billIncrementMinutes,onChange:o=>i({...a,billIncrementMinutes:o.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsx("div",{className:"md:col-span-3 pt-4 pb-2 border-b",children:s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Material Prices"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Small Box ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceSmallBox,onChange:o=>i({...a,priceSmallBox:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medium Box ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceMediumBox,onChange:o=>i({...a,priceMediumBox:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Large Box ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceLargeBox,onChange:o=>i({...a,priceLargeBox:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"TV Box ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceTvBox,onChange:o=>i({...a,priceTvBox:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shrink Wrap ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceShrinkWrap,onChange:o=>i({...a,priceShrinkWrap:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tape ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",value:a.priceTape,onChange:o=>i({...a,priceTape:o.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded"})]})]})]})]})]}),s.jsx("div",{className:"mt-6 flex gap-2",children:s.jsx("button",{type:"submit",disabled:r.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:r.isPending?"Saving...":"Save Configuration"})})]})]}):s.jsx("div",{children:"Error loading configuration"})}function qw(){const{data:e,isLoading:t}=te({queryKey:["employees"],queryFn:Al});return t?s.jsx("div",{children:"Loading..."}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Employee Management"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h2",{className:"text-lg font-semibold",children:"Existing Employees"})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hourly Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.map(n=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[s.jsx("div",{className:"font-medium",children:n.userFullName||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500",children:n.userEmail||""})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.employeeNumber||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:Y(n.hourlyRateCents)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.isManager?s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Yes"}):s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:"No"})})]},n.id))})]}),(e==null?void 0:e.length)===0&&s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No employees found. Employees are created when you add employee information to users in the Users tab."})]})]})]})}function zw(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[a,i]=w.useState(!1),[l,o]=w.useState("table"),[u,c]=w.useState(null),[f,p]=w.useState([]),[g,v]=w.useState(""),[y,b]=w.useState(""),[N,x]=w.useState(""),[d,m]=w.useState({notes:"",employeeIds:[],customerName:"",customerEmail:"",customerPhone:"",moveFromAddress:"",moveToAddress:""}),[h,k]=w.useState("new"),_=vn(),{calendarFromUtc:F,calendarToUtc:T}=w.useMemo(()=>{const M=new Date,K=Dl(M),Oe=ur(yn(M,1));return{calendarFromUtc:K.toISOString(),calendarToUtc:Oe.toISOString()}},[]),{data:U,isLoading:C}=te({queryKey:["jobs",g,y,N],queryFn:()=>{const M={};return y&&(M.dateFromUtc=new Date(y).toISOString()),N&&(M.dateToUtc=new Date(N+"T23:59:59").toISOString()),Os(M.dateFromUtc,M.dateToUtc)},refetchInterval:5e3}),{data:S}=te({queryKey:["all-jobs"],queryFn:()=>Os()}),{data:R}=te({queryKey:["jobs-by-day",F,T],queryFn:()=>hx(F,T)}),{data:H}=te({queryKey:["employees"],queryFn:Al}),{data:je}=te({queryKey:["allBookings"],queryFn:nx}),{data:Ye}=te({queryKey:["trucks"],queryFn:wx}),at=(je==null?void 0:je.filter(M=>M.status!=="confirmed"?!1:!(S==null?void 0:S.some(Oe=>Oe.bookingId===M.id))))||[],Be=pe({mutationFn:fx,onSuccess:()=>{_.invalidateQueries({queryKey:["jobs"]}),_.invalidateQueries({queryKey:["allBookings"]}),_.invalidateQueries({queryKey:["all-jobs"]}),i(!1),m({notes:"",employeeIds:[],customerName:"",customerEmail:"",customerPhone:"",moveFromAddress:"",moveToAddress:""}),k("new"),alert("Job created successfully")},onError:M=>{alert(`Error: ${M.message}`)}}),D=pe({mutationFn:({jobId:M,employeeIds:K})=>px(M,K),onSuccess:()=>{_.invalidateQueries({queryKey:["jobs"]}),r(!1),t(null),p([]),alert("Crew assigned successfully")},onError:M=>{alert(`Error: ${M.message}`)}}),P=pe({mutationFn:({jobId:M,truckId:K})=>_i(M,{truckId:K}),onSuccess:()=>{_.invalidateQueries({queryKey:["jobs"]}),_.invalidateQueries({queryKey:["all-jobs"]}),_.invalidateQueries({queryKey:["jobs-by-day"]})},onError:M=>{alert(`Error: ${M.message}`)}}),$=U==null?void 0:U.filter(M=>!(g&&M.status!==g)),he=M=>{var K;t(M),p(((K=M.assignedCrew)==null?void 0:K.map(Oe=>Oe.id))||[]),r(!0)},we=()=>{e&&D.mutate({jobId:e.id,employeeIds:f})},Ft=M=>{switch(M){case"scheduled":return"bg-blue-100 text-blue-800";case"enRoute":return"bg-yellow-100 text-yellow-800";case"started":return"bg-green-100 text-green-800";case"finishedLoading":return"bg-indigo-100 text-indigo-800";case"startUnloading":return"bg-purple-100 text-purple-800";case"completed":return"bg-gray-100 text-gray-800";case"issueReported":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(C)return s.jsx("div",{children:"Loading jobs..."});const wt=()=>{if(h==="existing"){if(!d.bookingId){alert("Please select a booking");return}}else{if(!d.customerName||!d.customerEmail||!d.customerPhone){alert("Please fill in customer name, email, and phone");return}if(!d.scheduledStartUtc){alert("Please select a scheduled start time");return}}Be.mutate(d)};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Jobs Management"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex border rounded overflow-hidden",children:[s.jsx("button",{onClick:()=>o("table"),className:`px-4 py-2 text-sm ${l==="table"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Table"}),s.jsx("button",{onClick:()=>o("calendar"),className:`px-4 py-2 text-sm ${l==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Calendar"})]}),s.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create Job"})]})]}),l==="calendar"&&R&&s.jsx("div",{className:"mb-6",children:s.jsx(gx,{jobsByDay:R,onDaySelect:M=>c(M),selectedDate:u})}),l==="table"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsxs("select",{value:g,onChange:M=>v(M.target.value),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"enRoute",children:"En Route"}),s.jsx("option",{value:"started",children:"Started"}),s.jsx("option",{value:"finishedLoading",children:"Finished Loading"}),s.jsx("option",{value:"startUnloading",children:"Start Unloading"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"issueReported",children:"Issue Reported"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:y,onChange:M=>b(M.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:N,onChange:M=>x(M.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{v(""),b(""),x("")},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Clear Filters"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crew"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Truck"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$==null?void 0:$.map(M=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs(fe,{to:`/mover/job/${M.id}`,className:"text-blue-600 hover:text-blue-900",children:["#",M.id]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:M.booking?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.booking.customerName}),s.jsx("div",{className:"text-gray-500 text-xs",children:M.booking.customerEmail})]}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:oe(M.scheduledStartUtc)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Ft(M.status)}`,children:M.status})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:M.assignedCrew&&M.assignedCrew.length>0?s.jsx("div",{className:"space-y-1",children:M.assignedCrew.map(K=>s.jsxs("div",{className:"text-xs",children:[K.userFullName||K.employeeNumber||`Employee #${K.id}`,K.isManager&&s.jsx("span",{className:"ml-1 text-gray-500",children:"(Mgr)"})]},K.id))}):s.jsx("span",{className:"text-gray-400 text-xs",children:"No crew assigned"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("select",{value:M.truckId||"",onChange:K=>{const Oe=K.target.value===""?null:parseInt(K.target.value);P.mutate({jobId:M.id,truckId:Oe})},className:"px-2 py-1 border rounded text-sm",disabled:P.isPending,children:[s.jsx("option",{value:"",children:"No Truck"}),Ye==null?void 0:Ye.filter(K=>K.isActive).map(K=>s.jsx("option",{value:K.id,children:K.name},K.id))]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>he(M),className:"text-blue-600 hover:text-blue-900",children:"Assign Crew"})})]},M.id))})]}),($==null?void 0:$.length)===0&&s.jsxs("div",{className:"text-center text-gray-500 py-8",children:["No jobs found. ",(U==null?void 0:U.length)===0?"No jobs exist yet.":"Try adjusting your filters."]})]})})]}),n&&e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Assign Crew to Job #",e.id]}),e.booking&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Customer:"})," ",e.booking.customerName]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Scheduled:"})," ",oe(e.scheduledStartUtc)]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Employees"}),s.jsx("div",{className:"border rounded max-h-60 overflow-y-auto",children:H?H.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No employees found. Please create employees in the Users tab first."}):H.map(M=>s.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.includes(M.id),onChange:K=>{K.target.checked?p([...f,M.id]):p(f.filter(Oe=>Oe!==M.id))},className:"mr-2"}),s.jsxs("span",{className:"text-sm",children:[M.userFullName||`Employee #${M.id}`,M.userEmail&&` (${M.userEmail})`,M.employeeNumber&&` - ${M.employeeNumber}`,M.userRole&&` - ${M.userRole}`]})]},M.id)):s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Loading employees..."})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:we,disabled:D.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:D.isPending?"Assigning...":"Assign Crew"}),s.jsx("button",{onClick:()=>{r(!1),t(null),p([])},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Job"}),s.jsxs("div",{className:"mb-4 flex gap-2 border-b pb-3",children:[s.jsx("button",{onClick:()=>k("new"),className:`px-4 py-2 text-sm rounded ${h==="new"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"New Job"}),at.length>0&&s.jsx("button",{onClick:()=>k("existing"),className:`px-4 py-2 text-sm rounded ${h==="existing"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"From Existing Booking"})]}),h==="existing"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Booking ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:d.bookingId||0,onChange:M=>m({...d,bookingId:parseInt(M.target.value)||void 0}),className:"w-full px-3 py-2 border rounded",required:!0,children:[s.jsx("option",{value:0,children:"Select a booking"}),at.map(M=>s.jsxs("option",{value:M.id,children:["Booking #",M.id," - ",M.customerName," (",M.customerEmail,")"]},M.id))]}),d.bookingId&&d.bookingId>0&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded text-sm",children:(()=>{const M=at.find(K=>K.id===d.bookingId);return M?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Customer:"})," ",M.customerName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",M.customerEmail]}),s.jsxs("p",{children:[s.jsx("strong",{children:"From:"})," ",M.moveFromAddress]}),s.jsxs("p",{children:[s.jsx("strong",{children:"To:"})," ",M.moveToAddress]})]}):null})()})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Customer Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:d.customerName||"",onChange:M=>m({...d,customerName:M.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Customer Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:d.customerEmail||"",onChange:M=>m({...d,customerEmail:M.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Customer Phone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:d.customerPhone||"",onChange:M=>m({...d,customerPhone:M.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Scheduled Start Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:d.scheduledStartUtc?new Date(d.scheduledStartUtc).toISOString().slice(0,16):"",onChange:M=>m({...d,scheduledStartUtc:M.target.value?new Date(M.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"From Address (optional)"}),s.jsx("input",{type:"text",value:d.moveFromAddress||"",onChange:M=>m({...d,moveFromAddress:M.target.value}),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"To Address (optional)"}),s.jsx("input",{type:"text",value:d.moveToAddress||"",onChange:M=>m({...d,moveToAddress:M.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign Employees (optional)"}),s.jsx("div",{className:"border rounded max-h-48 overflow-y-auto",children:H?H.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No employees found. Please create employees in the Users tab first."}):H.map(M=>{var K;return s.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((K=d.employeeIds)==null?void 0:K.includes(M.id))||!1,onChange:Oe=>{const Va=d.employeeIds||[];Oe.target.checked?m({...d,employeeIds:[...Va,M.id]}):m({...d,employeeIds:Va.filter(Ul=>Ul!==M.id)})},className:"mr-2"}),s.jsxs("span",{className:"text-sm",children:[M.userFullName||`Employee #${M.id}`,M.employeeNumber&&` (${M.employeeNumber})`,M.isManager&&s.jsx("span",{className:"text-xs text-gray-500",children:" - Manager"})]})]},M.id)}):s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Loading employees..."})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes (optional)"}),s.jsx("textarea",{value:d.notes||"",onChange:M=>m({...d,notes:M.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:"Add any notes for this job..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:wt,disabled:Be.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:Be.isPending?"Creating...":"Create Job"}),s.jsx("button",{onClick:()=>{i(!1),m({notes:"",employeeIds:[],customerName:"",customerEmail:"",customerPhone:"",moveFromAddress:"",moveToAddress:""}),k("new")},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"})]})]})})]})}function Ww(){const[e,t]=w.useState(""),[n,r]=w.useState(null),a=vn(),{data:i,isLoading:l}=te({queryKey:["allBookings",e],queryFn:nx}),o=pe({mutationFn:Nb,onSuccess:()=>{a.invalidateQueries({queryKey:["allBookings"]}),r(null),alert("Booking deleted successfully")},onError:c=>{alert(`Error deleting booking: ${c.message}`)}}),u=(i==null?void 0:i.filter(c=>e?c.status===e:!0))||[];return l?s.jsx("div",{children:"Loading bookings..."}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"All Bookings"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Status"}),s.jsxs("select",{value:e,onChange:c=>t(c.target.value),className:"px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pendingPayment",children:"Pending Payment"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"reschedulePendingPayment",children:"Reschedule Pending Payment"}),s.jsx("option",{value:"rescheduled",children:"Rescheduled"}),s.jsx("option",{value:"canceled",children:"Canceled"}),s.jsx("option",{value:"expired",children:"Expired"})]})]}),s.jsx("div",{className:"grid gap-4",children:u.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center text-gray-500",children:"No bookings found"}):u.map(c=>s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:c.customerName}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="confirmed"?"bg-green-100 text-green-800":c.status==="pendingPayment"?"bg-yellow-100 text-yellow-800":c.status==="canceled"?"bg-red-100 text-red-800":c.status==="expired"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:c.status}),c.salesUserId&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:"Sales Booking"})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[c.customerEmail," | ",c.customerPhone]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"From:"}),s.jsx("p",{children:c.moveFromAddress})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"To:"}),s.jsx("p",{children:c.moveToAddress})]})]}),c.startUtc&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("p",{className:"text-gray-500",children:"Time Slot:"}),s.jsxs("p",{children:[oe(c.startUtc)," - ",oe(c.endUtc||c.startUtc)]})]}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Deposit:"})," ",Y(c.depositAmountCents)]}),c.requestedTrucks&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Trucks:"})," ",c.requestedTrucks]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Created:"})," ",oe(c.createdAtUtc)]})]}),c.notes&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Notes: ",c.notes]})]}),s.jsx("div",{className:"flex gap-2 ml-4",children:s.jsx("button",{onClick:()=>r(c.id),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Delete"})})]})},c.id))}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delete Booking"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete this booking? This action cannot be undone."}),(()=>{const c=i==null?void 0:i.find(f=>f.id===n);return c?s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Customer:"})," ",c.customerName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Booking ID:"})," #",c.id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",c.status]})]}):null})(),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{n&&o.mutate(n)},disabled:o.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:o.isPending?"Deleting...":"Delete Booking"}),s.jsx("button",{onClick:()=>r(null),disabled:o.isPending,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 disabled:opacity-50",children:"Cancel"})]})]})})]})}function Hw(){return s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Log"}),s.jsx("p",{className:"text-gray-600",children:"Audit log interface coming soon."})]})}function Qw(){const[e]=or(),t=e.get("fromEstimate")==="true",[n,r]=w.useState(null),[a,i]=w.useState(null),[l,o]=w.useState({customerName:"",customerEmail:"",customerPhone:"",moveFromAddress:"",moveToAddress:"",depositAmount:"100.00",requestedTrucks:"1",estimatedHours:"4",notes:""});w.useEffect(()=>{if(t){const m=sessionStorage.getItem("estimateData");if(m)try{const h=JSON.parse(m);if(o(k=>{var _,F,T,U;return{...k,customerName:h.customerName||k.customerName,customerEmail:h.customerEmail||k.customerEmail,customerPhone:h.customerPhone||k.customerPhone,moveFromAddress:h.originAddress||k.moveFromAddress,moveToAddress:h.destinationAddress||k.moveToAddress,requestedTrucks:((_=h.requestedTrucks)==null?void 0:_.toString())||k.requestedTrucks,estimatedHours:(((U=(T=(F=h.quote)==null?void 0:F.options)==null?void 0:T.find(C=>C.moverCount===h.selectedMoverCount))==null?void 0:U.etaMinutesRange.high)/60).toFixed(1)||k.estimatedHours,notes:h.notes||k.notes,moveType:h.moveType,stopCount:h.stopCount,additionalStopsDetailed:JSON.stringify(h.additionalStops||[]),roomsMoving:h.roomsMoving,bedroomsWithMattresses:h.bedroomsWithMattresses,boxCount:h.boxCount,fromStairsFlights:h.fromStairsFlights,toStairsFlights:h.toStairsFlights,fromHasElevator:h.fromHasElevator,toHasElevator:h.toHasElevator,originLongCarry:h.originLongCarry,destinationLongCarry:h.destinationLongCarry,specialItems:h.specialItems,disassemblyNeeds:h.disassemblyNeeds,packingService:h.packingService}}),h.startUtc){const k=new Date(h.startUtc);r(k),i({startUtc:h.startUtc,endUtc:h.startUtc})}}catch(h){console.error("Error parsing estimate data:",h)}}},[t]);const{fromUtc:u,toUtc:c}=w.useMemo(()=>{const m=new Date,h=new Date(m.getFullYear(),m.getMonth(),m.getDate()),k=ur(yn(m,2));return{fromUtc:h.toISOString(),toUtc:k.toISOString()}},[]),{data:f,isLoading:p}=te({queryKey:["availability-by-day",u,c],queryFn:()=>Bc(u,c)}),g=w.useMemo(()=>(f==null?void 0:f.map(m=>m.date))||[],[f]),v=w.useMemo(()=>{if(!n||!f)return[];const m=Je(n,"yyyy-MM-dd"),h=f.find(k=>k.date===m);return h?h.slots.filter(k=>{const _=new Date(k.startUtc),U=new Intl.DateTimeFormat("en-US",{timeZone:"America/Chicago",hour:"2-digit",hour12:!1}).formatToParts(_).find(S=>S.type==="hour"),C=U?parseInt(U.value):-1;return C>=8&&C<18}):[]},[n,f]),y=w.useMemo(()=>{if(!a||!l.estimatedHours)return(a==null?void 0:a.endUtc)||null;const m=new Date(a.startUtc),h=parseFloat(l.estimatedHours)||0;return new Date(m.getTime()+h*60*60*1e3).toISOString()},[a,l.estimatedHours]),[b,N]=w.useState(null),x=pe({mutationFn:()=>{if(!a)throw new Error("No slot selected");if(!y)throw new Error("Invalid estimated hours");const{requestedTrucks:m,estimatedHours:h,depositAmount:k,..._}=l;return tx({startUtc:a.startUtc,endUtc:y,requestedTrucks:parseInt(l.requestedTrucks)||1,..._,depositAmountCents:ue(parseFloat(l.depositAmount))})},onSuccess:m=>{N(null),window.location.href=m.checkoutUrl},onError:m=>{const h=m.message||"Failed to create booking. Please try again.";N(h)}}),d=m=>{m.preventDefault(),N(null),a?x.mutate():N("Please select a time slot")};return p?s.jsx("div",{children:"Loading availability..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create Booking (Admin)"}),s.jsx("button",{onClick:()=>window.location.href="#/estimate?returnTo=admin",className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition-colors",children:"Use Quote Estimator"})]}),b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Booking Error"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:b})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Time Slot"}),s.jsx("div",{className:"mb-6",children:s.jsx(qc,{onDaySelect:m=>{r(m),i(null)},availableDates:g,selectedDate:n})}),n&&v.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-md font-semibold mb-4",children:["Available Slots for ",Je(n,"EEEE, MMMM d, yyyy")]}),s.jsx("div",{className:"grid gap-2",children:v.map(m=>s.jsxs("button",{onClick:()=>i({startUtc:m.startUtc,endUtc:m.endUtc}),className:`p-3 text-left border rounded ${(a==null?void 0:a.startUtc)===m.startUtc?"border-blue-600 bg-blue-50":"border-gray-200"} ${m.remainingCapacity>0?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,disabled:m.remainingCapacity===0,children:[s.jsx("p",{className:"font-medium",children:oe(m.startUtc)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m.remainingCapacity," of ",m.capacity," trucks available"]})]},m.id))})]}),n&&v.length===0&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-yellow-800",children:["No available slots for ",Je(n,"MMMM d, yyyy"),". Please select another date."]})}),!n&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-blue-800",children:"Select a date on the calendar above to see available time slots."})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),s.jsx("input",{type:"text",value:l.customerName,onChange:m=>o({...l,customerName:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l.customerEmail,onChange:m=>o({...l,customerEmail:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:l.customerPhone,onChange:m=>o({...l,customerPhone:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Move From"}),s.jsx("input",{type:"text",value:l.moveFromAddress,onChange:m=>o({...l,moveFromAddress:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Move To"}),s.jsx("input",{type:"text",value:l.moveToAddress,onChange:m=>o({...l,moveToAddress:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Requested Trucks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:l.requestedTrucks,onChange:m=>o({...l,requestedTrucks:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of trucks needed for this booking"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Estimated Hours ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"10",value:l.estimatedHours,onChange:m=>o({...l,estimatedHours:m.target.value}),className:"w-full px-3 py-2 border rounded",required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Expected duration of the move. Booking will end at: ",a&&l.estimatedHours&&y?oe(y):"Select a time slot first"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Deposit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:l.depositAmount,onChange:m=>o({...l,depositAmount:m.target.value}),className:"w-full pl-7 pr-3 py-2 border rounded",required:!0})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admin bookings use customer deposit amount"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),s.jsx("textarea",{value:l.notes,onChange:m=>o({...l,notes:m.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),s.jsx("button",{type:"submit",disabled:!a||x.isPending,className:"w-full px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:x.isPending?"Creating...":"Create Booking"})]})]})]})]})}function Vw(){return s.jsxs(Wy,{children:[s.jsx(X,{path:"/",element:s.jsx(B0,{})}),s.jsx(X,{path:"/login",element:s.jsx(gb,{})}),s.jsx(X,{path:"/estimate",element:s.jsx(Uj,{})}),s.jsx(X,{path:"/booking-success",element:s.jsx($j,{})}),s.jsx(X,{path:"/checkout",element:s.jsx(Lj,{})}),s.jsx(X,{path:"/quote",element:s.jsx(Bj,{})}),s.jsx(X,{path:"/create-booking",element:s.jsx(th,{})}),s.jsxs(X,{path:"/customer",element:s.jsx(qj,{}),children:[s.jsx(X,{index:!0,element:s.jsx(mi,{to:"/customer/availability",replace:!0})}),s.jsx(X,{path:"availability",element:s.jsx(Hj,{})}),s.jsx(X,{path:"create-booking",element:s.jsx(th,{})}),s.jsx(X,{path:"my-bookings",element:s.jsx(Qj,{})}),s.jsx(X,{path:"reschedule",element:s.jsx(Vj,{})}),s.jsx(X,{path:"messages",element:s.jsx(Kj,{})})]}),s.jsxs(X,{path:"/sales",element:s.jsx(Jj,{}),children:[s.jsx(X,{index:!0,element:s.jsx(mi,{to:"/sales/bookings",replace:!0})}),s.jsx(X,{path:"bookings",element:s.jsx(Gj,{})}),s.jsx(X,{path:"jobs",element:s.jsx(Xj,{})}),s.jsx(X,{path:"create-booking",element:s.jsx(Zj,{})}),s.jsx(X,{path:"commission",element:s.jsx(nw,{})})]}),s.jsxs(X,{path:"/mover",element:s.jsx(rw,{}),children:[s.jsx(X,{index:!0,element:s.jsx(mi,{to:"/mover/dispatch",replace:!0})}),s.jsx(X,{path:"dispatch",element:s.jsx(sw,{})}),s.jsx(X,{path:"job/:id",element:s.jsx(aw,{})}),s.jsx(X,{path:"job/:id/tip",element:s.jsx(iw,{})}),s.jsx(X,{path:"job/:id/invoice",element:s.jsx(vw,{})}),s.jsx(X,{path:"job/:id/payment-success",element:s.jsx(yw,{})}),s.jsx(X,{path:"check-in-out",element:s.jsx(Nw,{})}),s.jsx(X,{path:"payroll",element:s.jsx(Sw,{})}),s.jsx(X,{path:"communications",element:s.jsx(_w,{})})]}),s.jsxs(X,{path:"/admin",element:s.jsx(Ew,{}),children:[s.jsx(X,{index:!0,element:s.jsx(mi,{to:"/admin/users",replace:!0})}),s.jsx(X,{path:"users",element:s.jsx(Lw,{})}),s.jsx(X,{path:"config",element:s.jsx(Bw,{})}),s.jsx(X,{path:"employees",element:s.jsx(qw,{})}),s.jsx(X,{path:"bookings",element:s.jsx(Ww,{})}),s.jsx(X,{path:"jobs",element:s.jsx(zw,{})}),s.jsx(X,{path:"audit",element:s.jsx(Hw,{})}),s.jsx(X,{path:"create-booking",element:s.jsx(Qw,{})})]})]})}const Kw=new E0({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});xo.createRoot(document.getElementById("root")).render(s.jsx(qu.StrictMode,{children:s.jsx(P0,{client:Kw,children:s.jsx(Xy,{children:s.jsx(Vw,{})})})}));
